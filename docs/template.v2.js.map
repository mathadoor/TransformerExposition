{"version":3,"file":"template.v2.js","sources":["../src/front-matter.js","../src/mixins/mutating.js","../src/mixins/template.js","../src/helpers/katex-auto-render.js","../src/components/d-math.js","../src/helpers/citation.js","../src/helpers/domContentLoaded.js","../src/components/d-front-matter.js","../src/controller.js","../src/transforms/optional-components.js","../src/styles/styles.js","../src/helpers/polyfills.js","../src/components/d-abstract.js","../src/components/d-appendix.js","../src/components/d-article.js","../node_modules/bibtex-parse-js/bibtexParse.js","../src/helpers/bibtex.js","../src/components/d-bibliography.js","../src/components/d-byline.js","../src/components/d-cite.js","../src/components/d-citation-list.js","../node_modules/prismjs/prism.js","../node_modules/prismjs/components/prism-python.js","../node_modules/prismjs/components/prism-clike.js","../node_modules/prismjs/components/prism-lua.js","../node_modules/prismjs/components/prism-bash.js","../node_modules/prismjs/components/prism-go.js","../node_modules/prismjs/components/prism-markdown.js","../node_modules/prismjs/components/prism-julia.js","../src/components/d-code.js","../src/components/d-footnote.js","../src/components/d-footnote-list.js","../src/components/d-hover-box.js","../src/components/d-title.js","../src/components/d-references.js","../src/components/d-toc.js","../src/components/d-figure.js","../src/components/d-interstitial.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/zoom.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/node_modules/d3-time/src/interval.js","../node_modules/d3-time-format/node_modules/d3-time/src/millisecond.js","../node_modules/d3-time-format/node_modules/d3-time/src/duration.js","../node_modules/d3-time-format/node_modules/d3-time/src/second.js","../node_modules/d3-time-format/node_modules/d3-time/src/minute.js","../node_modules/d3-time-format/node_modules/d3-time/src/hour.js","../node_modules/d3-time-format/node_modules/d3-time/src/day.js","../node_modules/d3-time-format/node_modules/d3-time/src/week.js","../node_modules/d3-time-format/node_modules/d3-time/src/month.js","../node_modules/d3-time-format/node_modules/d3-time/src/year.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcHour.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcDay.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/local.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/point.js","../node_modules/d3-selection/src/mouse.js","../node_modules/d3-selection/src/touch.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../src/ui/d-slider.js","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-array/src/range.js","../src/distill-components/distill-header-template.js","../src/distill-components/distill-header.js","../src/distill-components/distill-appendix.js","../src/distill-components/distill-footer-template.js","../src/distill-components/distill-footer.js","../src/components.js"],"sourcesContent":["// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = ['Jan.', 'Feb.', 'March', 'April', 'May', 'June', 'July', 'Aug.', 'Sept.', 'Oct.', 'Nov.', 'Dec.'];\nconst zeroPad = n => n < 10 ? '0' + n : n;\n\nconst RFC = function(date) {\n  const day = days[date.getDay()].substring(0, 3);\n  const paddedDate = zeroPad(date.getDate());\n  const month = months[date.getMonth()].substring(0,3);\n  const year = date.getFullYear().toString();\n  const hours = date.getUTCHours().toString();\n  const minutes = date.getUTCMinutes().toString();\n  const seconds = date.getUTCSeconds().toString();\n  return `${day}, ${paddedDate} ${month} ${year} ${hours}:${minutes}:${seconds} Z`;\n};\n\nconst objectFromMap = function(map) {\n  const object = Array.from(map).reduce((object, [key, value]) => (\n    Object.assign(object, { [key]: value }) // Be careful! Maps can have non-String keys; object literals can't.\n  ), {});\n  return object;\n};\n\nconst mapFromObject = function(object) {\n  const map = new Map();\n  for (var property in object) {\n    if (object.hasOwnProperty(property)) {\n      map.set(property, object[property]);\n    }\n  }\n  return map;\n};\n\nclass Author {\n\n  // constructor(name='', personalURL='', affiliation='', affiliationURL='') {\n  //   this.name = name; // 'Chris Olah'\n  //   this.personalURL = personalURL; // 'https://colah.github.io'\n  //   this.affiliation = affiliation; // 'Google Brain'\n  //   this.affiliationURL = affiliationURL; // 'https://g.co/brain'\n  // }\n\n  constructor(object) {\n    this.name = object.author; // 'Chris Olah'\n    this.personalURL = object.authorURL; // 'https://colah.github.io'\n    this.affiliation = object.affiliation; // 'Google Brain'\n    this.affiliationURL = object.affiliationURL; // 'https://g.co/brain'\n    this.affiliations = object.affiliations || []; // new-style affiliations\n  }\n\n  // 'Chris'\n  get firstName() {\n    const names = this.name.split(' ');\n    return names.slice(0, names.length - 1).join(' ');\n  }\n\n  // 'Olah'\n  get lastName() {\n    const names = this.name.split(' ');\n    return names[names.length -1];\n  }\n}\n\nexport function mergeFromYMLFrontmatter(target, source) {\n  target.title = source.title;\n  if (source.published) {\n    if (source.published instanceof Date) {\n      target.publishedDate = source.published;\n    } else if (source.published.constructor === String) {\n      target.publishedDate = new Date(source.published);\n    }\n  }\n  if (source.publishedDate) {\n    if (source.publishedDate instanceof Date) {\n      target.publishedDate = source.publishedDate;\n    } else if (source.publishedDate.constructor === String) {\n      target.publishedDate = new Date(source.publishedDate);\n    } else {\n      console.error('Don\\'t know what to do with published date: ' + source.publishedDate);\n    }\n  }\n  target.description = source.description;\n  target.authors = source.authors.map( (authorObject) => new Author(authorObject));\n  target.katex = source.katex;\n  target.password = source.password;\n  if (source.doi) {\n    target.doi = source.doi;\n  }\n}\n\nexport class FrontMatter {\n  constructor() {\n    this.title = 'unnamed article'; // 'Attention and Augmented Recurrent Neural Networks'\n    this.description = ''; // 'A visual overview of neural attention...'\n    this.authors = []; // Array of Author(s)\n\n    this.bibliography = new Map();\n    this.bibliographyParsed = false;\n    //  {\n    //    'gregor2015draw': {\n    //      'title': 'DRAW: A recurrent neural network for image generation',\n    //      'author': 'Gregor, Karol and Danihelka, Ivo and Graves, Alex and Rezende, Danilo Jimenez and Wierstra, Daan',\n    //      'journal': 'arXiv preprint arXiv:1502.04623',\n    //      'year': '2015',\n    //      'url': 'https://arxiv.org/pdf/1502.04623.pdf',\n    //      'type': 'article'\n    //    },\n    //  }\n\n    // Citation keys should be listed in the order that they are appear in the document.\n    // Each key refers to a key in the bibliography dictionary.\n    this.citations = []; // [ 'gregor2015draw', 'mercier2011humans' ]\n    this.citationsCollected = false;\n\n    //\n    // Assigned from posts.csv\n    //\n\n    //  publishedDate: 2016-09-08T07:00:00.000Z,\n    //  tags: [ 'rnn' ],\n    //  distillPath: '2016/augmented-rnns',\n    //  githubPath: 'distillpub/post--augmented-rnns',\n    //  doiSuffix: 1,\n\n    //\n    // Assigned from journal\n    //\n    this.journal = {};\n    //  journal: {\n    //    'title': 'Distill',\n    //    'full_title': 'Distill',\n    //    'abbrev_title': 'Distill',\n    //    'url': 'http://distill.pub',\n    //    'doi': '10.23915/distill',\n    //    'publisherName': 'Distill Working Group',\n    //    'publisherEmail': 'admin@distill.pub',\n    //    'issn': '2476-0757',\n    //    'editors': [...],\n    //    'committee': [...]\n    //  }\n    //  volume: 1,\n    //  issue: 9,\n\n    this.katex = {};\n\n    //\n    // Assigned from publishing process\n    //\n\n    //  githubCompareUpdatesUrl: 'https://github.com/distillpub/post--augmented-rnns/compare/1596e094d8943d2dc0ea445d92071129c6419c59...3bd9209e0c24d020f87cf6152dcecc6017cbc193',\n    //  updatedDate: 2017-03-21T07:13:16.000Z,\n    //  doi: '10.23915/distill.00001',\n    this.doi = undefined;\n    this.publishedDate = undefined;\n  }\n\n  // Example:\n  // title: Demo Title Attention and Augmented Recurrent Neural Networks\n  // published: Jan 10, 2017\n  // authors:\n  // - Chris Olah:\n  // - Shan Carter: http://shancarter.com\n  // affiliations:\n  // - Google Brain:\n  // - Google Brain: http://g.co/brain\n\n  //\n  // Computed Properties\n  //\n\n  // 'http://distill.pub/2016/augmented-rnns',\n  set url(value) {\n    this._url = value;\n  }\n  get url() {\n    if (this._url) {\n      return this._url;\n    } else if (this.distillPath && this.journal.url) {\n      return this.journal.url + '/' + this.distillPath;\n    } else if (this.journal.url) {\n      return this.journal.url;\n    }\n  }\n\n  // 'https://github.com/distillpub/post--augmented-rnns',\n  get githubUrl() {\n    if (this.githubPath) {\n      return 'https://github.com/' + this.githubPath;\n    } else {\n      return undefined;\n    }\n  }\n\n  // TODO resolve differences in naming of URL/Url/url.\n  // 'http://distill.pub/2016/augmented-rnns/thumbnail.jpg',\n  set previewURL(value) {\n    this._previewURL = value;\n  }\n  get previewURL() {\n    return this._previewURL ? this._previewURL : this.url + '/thumbnail.jpg';\n  }\n\n  // 'Thu, 08 Sep 2016 00:00:00 -0700',\n  get publishedDateRFC() {\n    return RFC(this.publishedDate);\n  }\n\n  // 'Thu, 08 Sep 2016 00:00:00 -0700',\n  get updatedDateRFC() {\n    return RFC(this.updatedDate);\n  }\n\n  // 2016,\n  get publishedYear() {\n    return this.publishedDate.getFullYear();\n  }\n\n  // 'Sept',\n  get publishedMonth() {\n    return months[this.publishedDate.getMonth()];\n  }\n\n  // 8,\n  get publishedDay() {\n    return this.publishedDate.getDate();\n  }\n\n  // '09',\n  get publishedMonthPadded() {\n    return zeroPad(this.publishedDate.getMonth() + 1);\n  }\n\n  // '08',\n  get publishedDayPadded() {\n    return zeroPad(this.publishedDate.getDate());\n  }\n\n  get publishedISODateOnly() {\n    return this.publishedDate.toISOString().split('T')[0];\n  }\n\n  get volume() {\n    const volume = this.publishedYear - 2015;\n    if (volume < 1) {\n      throw new Error('Invalid publish date detected during computing volume');\n    }\n    return volume;\n  }\n\n  get issue() {\n    return this.publishedDate.getMonth() + 1;\n  }\n\n  // 'Olah & Carter',\n  get concatenatedAuthors() {\n    if (this.authors.length > 2) {\n      return this.authors[0].lastName + ', et al.';\n    } else if (this.authors.length === 2) {\n      return this.authors[0].lastName + ' & ' + this.authors[1].lastName;\n    } else if (this.authors.length === 1) {\n      return this.authors[0].lastName;\n    }\n  }\n\n  // 'Olah, Chris and Carter, Shan',\n  get bibtexAuthors() {\n    return this.authors.map(author => {\n      return author.lastName + ', ' + author.firstName;\n    }).join(' and ');\n  }\n\n  // 'olah2016attention'\n  get slug() {\n    let slug = '';\n    if (this.authors.length) {\n      slug += this.authors[0].lastName.toLowerCase();\n      slug += this.publishedYear;\n      slug += this.title.split(' ')[0].toLowerCase();\n    }\n    return slug || 'Untitled';\n  }\n\n  get bibliographyEntries() {\n    return new Map(this.citations.map( citationKey => {\n      const entry = this.bibliography.get(citationKey);\n      return [citationKey, entry];\n    }));\n  }\n\n  set bibliography(bibliography) {\n    if (bibliography instanceof Map) {\n      this._bibliography = bibliography;\n    } else if (typeof bibliography === 'object') {\n      this._bibliography = mapFromObject(bibliography);\n    }\n  }\n\n  get bibliography() {\n    return this._bibliography;\n  }\n\n  static fromObject(source) {\n    const frontMatter = new FrontMatter();\n    Object.assign(frontMatter, source);\n    return frontMatter;\n  }\n\n  assignToObject(target) {\n    Object.assign(target, this);\n    target.bibliography = objectFromMap(this.bibliographyEntries);\n    target.url = this.url;\n    target.doi = this.doi;\n    target.githubUrl = this.githubUrl;\n    target.previewURL = this.previewURL;\n    if (this.publishedDate) {\n      target.volume = this.volume;\n      target.issue = this.issue;\n      target.publishedDateRFC = this.publishedDateRFC;\n      target.publishedYear = this.publishedYear;\n      target.publishedMonth = this.publishedMonth;\n      target.publishedDay = this.publishedDay;\n      target.publishedMonthPadded = this.publishedMonthPadded;\n      target.publishedDayPadded = this.publishedDayPadded;\n    }\n    if (this.updatedDate) {\n      target.updatedDateRFC = this.updatedDateRFC;\n    }\n    target.concatenatedAuthors = this.concatenatedAuthors;\n    target.bibtexAuthors = this.bibtexAuthors;\n    target.slug = this.slug;\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport const Mutating = (superclass) => {\n  return class extends superclass {\n\n    constructor() {\n      super();\n\n      // set up mutation observer\n      const options = {childList: true, characterData: true, subtree: true};\n      const observer = new MutationObserver( () => {\n        observer.disconnect();\n        this.renderIfPossible();\n        observer.observe(this, options);\n      });\n\n      // ...and listen for changes\n      observer.observe(this, options);\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n\n      this.renderIfPossible();\n    }\n\n    // potential TODO: check if this is enough for all our usecases\n    // maybe provide a custom function to tell if we have enough information to render\n    renderIfPossible() {\n      if (this.textContent && this.root) {\n        this.renderContent();\n      }\n    }\n\n    renderContent() {\n      console.error(`Your class ${this.constructor.name} must provide a custom renderContent() method!` );\n    }\n\n  }; // end class\n}; // end mixin function\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n/*global ShadyCSS*/\n\nexport const Template = (name, templateString, useShadow = true) => {\n\n  return (superclass) => {\n\n    const template = document.createElement('template');\n    template.innerHTML = templateString;\n\n    if (useShadow && 'ShadyCSS' in window) {\n      ShadyCSS.prepareTemplate(template, name);\n    }\n\n    return class extends superclass {\n\n      static get is() { return name; }\n\n      constructor() {\n        super();\n\n        this.clone = document.importNode(template.content, true);\n        if (useShadow) {\n          this.attachShadow({mode: 'open'});\n          this.shadowRoot.appendChild(this.clone);\n        }\n      }\n\n      connectedCallback() {\n        if (this.hasAttribute('distill-prerendered')) {\n          return;\n        }\n        if (useShadow) {\n          if ('ShadyCSS' in window) {\n            ShadyCSS.styleElement(this);\n          }\n        } else {\n          this.insertBefore(this.clone, this.firstChild);\n        }\n      }\n\n      get root() {\n        if (useShadow) {\n          return this.shadowRoot;\n        } else {\n          return this;\n        }\n      }\n\n      /* TODO: Are we using these? Should we even? */\n      $(query) {\n        return this.root.querySelector(query);\n      }\n\n      $$(query) {\n        return this.root.querySelectorAll(query);\n      }\n    };\n  };\n};\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n// This is a straight concatenation of code from KaTeX's contrib folder,\n// but we aren't using some of their helpers that don't work well outside a browser environment.\n\n/*global katex */\n\nconst findEndOfMath = function(delimiter, text, startIndex) {\n  // Adapted from\n  // https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx\n  let index = startIndex;\n  let braceLevel = 0;\n\n  const delimLength = delimiter.length;\n\n  while (index < text.length) {\n    const character = text[index];\n\n    if (\n      braceLevel <= 0 &&\n      text.slice(index, index + delimLength) === delimiter\n    ) {\n      return index;\n    } else if (character === \"\\\\\") {\n      index++;\n    } else if (character === \"{\") {\n      braceLevel++;\n    } else if (character === \"}\") {\n      braceLevel--;\n    }\n\n    index++;\n  }\n\n  return -1;\n};\n\nconst splitAtDelimiters = function(startData, leftDelim, rightDelim, display) {\n  const finalData = [];\n\n  for (let i = 0; i < startData.length; i++) {\n    if (startData[i].type === \"text\") {\n      const text = startData[i].data;\n\n      let lookingForLeft = true;\n      let currIndex = 0;\n      let nextIndex;\n\n      nextIndex = text.indexOf(leftDelim);\n      if (nextIndex !== -1) {\n        currIndex = nextIndex;\n        finalData.push({\n          type: \"text\",\n          data: text.slice(0, currIndex)\n        });\n        lookingForLeft = false;\n      }\n\n      while (true) {\n        // eslint-disable-line no-constant-condition\n        if (lookingForLeft) {\n          nextIndex = text.indexOf(leftDelim, currIndex);\n          if (nextIndex === -1) {\n            break;\n          }\n\n          finalData.push({\n            type: \"text\",\n            data: text.slice(currIndex, nextIndex)\n          });\n\n          currIndex = nextIndex;\n        } else {\n          nextIndex = findEndOfMath(\n            rightDelim,\n            text,\n            currIndex + leftDelim.length\n          );\n          if (nextIndex === -1) {\n            break;\n          }\n\n          finalData.push({\n            type: \"math\",\n            data: text.slice(currIndex + leftDelim.length, nextIndex),\n            rawData: text.slice(currIndex, nextIndex + rightDelim.length),\n            display: display\n          });\n\n          currIndex = nextIndex + rightDelim.length;\n        }\n\n        lookingForLeft = !lookingForLeft;\n      }\n\n      finalData.push({\n        type: \"text\",\n        data: text.slice(currIndex)\n      });\n    } else {\n      finalData.push(startData[i]);\n    }\n  }\n\n  return finalData;\n};\n\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{ type: \"text\", data: text }];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data,\n      delimiter.left,\n      delimiter.right,\n      delimiter.display || false\n    );\n  }\n  return data;\n};\n\n/* Note: optionsCopy is mutated by this method. If it is ever exposed in the\n * API, we should copy it before mutating.\n */\nconst renderMathInText = function(text, optionsCopy) {\n  const data = splitWithDelimiters(text, optionsCopy.delimiters);\n  const fragment = document.createDocumentFragment();\n\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === \"text\") {\n      fragment.appendChild(document.createTextNode(data[i].data));\n    } else {\n      const tag = document.createElement(\"d-math\");\n      const math = data[i].data;\n      // Override any display mode defined in the settings with that\n      // defined by the text itself\n      optionsCopy.displayMode = data[i].display;\n      try {\n        tag.textContent = math;\n        if (optionsCopy.displayMode) {\n          tag.setAttribute(\"block\", \"\");\n        }\n      } catch (e) {\n        if (!(e instanceof katex.ParseError)) {\n          throw e;\n        }\n        optionsCopy.errorCallback(\n          \"KaTeX auto-render: Failed to parse `\" + data[i].data + \"` with \",\n          e\n        );\n        fragment.appendChild(document.createTextNode(data[i].rawData));\n        continue;\n      }\n      fragment.appendChild(tag);\n    }\n  }\n\n  return fragment;\n};\n\nconst renderElem = function(elem, optionsCopy) {\n  for (let i = 0; i < elem.childNodes.length; i++) {\n    const childNode = elem.childNodes[i];\n    if (childNode.nodeType === 3) {\n      // Text node\n      const text = childNode.textContent;\n      if (optionsCopy.mightHaveMath(text)) {\n        const frag = renderMathInText(text, optionsCopy);\n        i += frag.childNodes.length - 1;\n        elem.replaceChild(frag, childNode);\n      }\n    } else if (childNode.nodeType === 1) {\n      // Element node\n      const shouldRender =\n        optionsCopy.ignoredTags.indexOf(childNode.nodeName.toLowerCase()) ===\n        -1;\n\n      if (shouldRender) {\n        renderElem(childNode, optionsCopy);\n      }\n    }\n    // Otherwise, it's something else, and ignore it.\n  }\n};\n\nconst defaultAutoRenderOptions = {\n  delimiters: [\n    { left: \"$$\", right: \"$$\", display: true },\n    { left: \"\\\\[\", right: \"\\\\]\", display: true },\n    { left: \"\\\\(\", right: \"\\\\)\", display: false }\n    // LaTeX uses this, but it ruins the display of normal `$` in text:\n    // {left: '$', right: '$', display: false},\n  ],\n\n  ignoredTags: [\n    \"script\",\n    \"noscript\",\n    \"style\",\n    \"textarea\",\n    \"pre\",\n    \"code\",\n    \"svg\"\n  ],\n\n  errorCallback: function(msg, err) {\n    console.error(msg, err);\n  }\n};\n\nexport const renderMathInElement = function(elem, options) {\n  if (!elem) {\n    throw new Error(\"No element provided to render\");\n  }\n\n  const optionsCopy = Object.assign({}, defaultAutoRenderOptions, options);\n  const delimiterStrings = optionsCopy.delimiters.flatMap(d => [\n    d.left,\n    d.right\n  ]);\n  const mightHaveMath = text =>\n    delimiterStrings.some(d => text.indexOf(d) !== -1);\n  optionsCopy.mightHaveMath = mightHaveMath;\n  renderElem(elem, optionsCopy);\n};\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n/*global katex */\nimport { Mutating } from '../mixins/mutating.js';\nimport { Template } from '../mixins/template.js';\n\nimport style from '../styles/d-math.css';\n\n// attaches renderMathInElement to window\nimport { renderMathInElement } from '../helpers/katex-auto-render';\n\nexport const katexJSURL = 'https://distill.pub/third-party/katex/katex.min.js';\nexport const katexCSSTag = '<link rel=\"stylesheet\" href=\"https://distill.pub/third-party/katex/katex.min.css\" crossorigin=\"anonymous\">';\n\nconst T = Template('d-math', `\n${katexCSSTag}\n<style>\n\n:host {\n  display: inline-block;\n  contain: style;\n}\n\n:host([block]) {\n  display: block;\n}\n\n${style}\n</style>\n<span id='katex-container'></span>\n`);\n\n// DMath, not Math, because that would conflict with the JS built-in\nexport class DMath extends Mutating(T(HTMLElement)) {\n\n  static set katexOptions(options) {\n    DMath._katexOptions = options;\n    if (DMath.katexOptions.delimiters) {\n      if (!DMath.katexAdded) {\n        DMath.addKatex();\n      } else {\n        DMath.katexLoadedCallback();\n      }\n    }\n  }\n\n  static get katexOptions() {\n    if (!DMath._katexOptions) {\n      DMath._katexOptions = {\n        delimiters: [ { 'left':'$$', 'right':'$$', 'display': false } ]\n      };\n    }\n    return DMath._katexOptions;\n  }\n\n  static katexLoadedCallback() {\n    // render all d-math tags\n    const mathTags = document.querySelectorAll('d-math');\n    for (const mathTag of mathTags) {\n      mathTag.renderContent();\n    }\n    // transform inline delimited math to d-math tags\n    if (DMath.katexOptions.delimiters) {\n      renderMathInElement(document.body, DMath.katexOptions);\n    }\n  }\n\n  static addKatex() {\n    // css tag can use this convenience function\n    document.head.insertAdjacentHTML('beforeend', katexCSSTag);\n    // script tag has to be created to work properly\n    const scriptTag = document.createElement('script');\n    scriptTag.src = katexJSURL;\n    scriptTag.async = true;\n    scriptTag.onload = DMath.katexLoadedCallback;\n    scriptTag.crossorigin = 'anonymous';\n    document.head.appendChild(scriptTag);\n\n    DMath.katexAdded = true;\n  }\n\n  get options() {\n    const localOptions = { displayMode: this.hasAttribute('block') };\n    return Object.assign(localOptions, DMath.katexOptions);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (!DMath.katexAdded) {\n      DMath.addKatex();\n    }\n  }\n\n  renderContent() {\n    if (typeof katex !== 'undefined') {\n      const container = this.root.querySelector('#katex-container');\n      katex.render(this.textContent, container, this.options);\n    }\n  }\n\n}\n\nDMath.katexAdded = false;\nDMath.inlineMathRendered = false;\nwindow.DMath = DMath; // TODO: check if this can be removed, or if we should expose a distill global\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport function collect_citations(dom = document) {\n  const citations = new Set();\n  const citeTags = dom.querySelectorAll(\"d-cite\");\n  for (const tag of citeTags) {\n    const keyString = tag.getAttribute(\"key\") || tag.getAttribute(\"bibtex-key\");\n    const keys = keyString.split(\",\").map(k => k.trim());\n    for (const key of keys) {\n      citations.add(key);\n    }\n  }\n  return [...citations];\n}\n\nexport function inline_cite_short(keys) {\n  function cite_string(key) {\n    if (key in data.bibliography) {\n      var n = data.citations.indexOf(key) + 1;\n      return \"\" + n;\n    } else {\n      return \"?\";\n    }\n  }\n  return \"[\" + keys.map(cite_string).join(\", \") + \"]\";\n}\n\nexport function inline_cite_long(keys) {\n  function cite_string(key) {\n    if (key in data.bibliography) {\n      var ent = data.bibliography[key];\n      var names = ent.author.split(\" and \");\n      names = names.map(name => name.split(\",\")[0].trim());\n      var year = ent.year;\n      if (names.length == 1) return names[0] + \", \" + year;\n      if (names.length == 2) return names[0] + \" & \" + names[1] + \", \" + year;\n      if (names.length > 2) return names[0] + \", et al., \" + year;\n    } else {\n      return \"?\";\n    }\n  }\n  return keys.map(cite_string).join(\", \");\n}\n\nfunction author_string(ent, template, sep, finalSep) {\n  if (ent.author == null) {\n    return \"\";\n  }\n  var names = ent.author.split(\" and \");\n  let name_strings = names.map(name => {\n    name = name.trim();\n    if (name.indexOf(\",\") != -1) {\n      var last = name.split(\",\")[0].trim();\n      var firsts = name.split(\",\")[1];\n    } else if (name.indexOf(\" \") != -1) {\n      var last = name\n        .split(\" \")\n        .slice(-1)[0]\n        .trim();\n      var firsts = name\n        .split(\" \")\n        .slice(0, -1)\n        .join(\" \");\n    } else {\n      var last = name.trim();\n    }\n    var initials = \"\";\n    if (firsts != undefined) {\n      initials = firsts\n        .trim()\n        .split(\" \")\n        .map(s => s.trim()[0]);\n      initials = initials.join(\".\") + \".\";\n    }\n    return template\n      .replace(\"${F}\", firsts)\n      .replace(\"${L}\", last)\n      .replace(\"${I}\", initials)\n      .trim(); // in case one of first or last was empty\n  });\n  if (names.length > 1) {\n    var str = name_strings.slice(0, names.length - 1).join(sep);\n    str += (finalSep || sep) + name_strings[names.length - 1];\n    return str;\n  } else {\n    return name_strings[0];\n  }\n}\n\nfunction venue_string(ent) {\n  var cite = ent.journal || ent.booktitle || \"\";\n  if (\"volume\" in ent) {\n    var issue = ent.issue || ent.number;\n    issue = issue != undefined ? \"(\" + issue + \")\" : \"\";\n    cite += \", Vol \" + ent.volume + issue;\n  }\n  if (\"pages\" in ent) {\n    cite += \", pp. \" + ent.pages;\n  }\n  if (cite != \"\") cite += \". \";\n  if (\"publisher\" in ent) {\n    cite += ent.publisher;\n    if (cite[cite.length - 1] != \".\") cite += \".\";\n  }\n  return cite;\n}\n\nfunction link_string(ent) {\n  if (\"url\" in ent) {\n    var url = ent.url;\n    var arxiv_match = /arxiv\\.org\\/abs\\/([0-9\\.]*)/.exec(url);\n    if (arxiv_match != null) {\n      url = `http://arxiv.org/pdf/${arxiv_match[1]}.pdf`;\n    }\n\n    if (url.slice(-4) == \".pdf\") {\n      var label = \"PDF\";\n    } else if (url.slice(-5) == \".html\") {\n      var label = \"HTML\";\n    }\n    return ` &ensp;<a href=\"${url}\">[${label || \"link\"}]</a>`;\n  } /* else if (\"doi\" in ent){\n    return ` &ensp;<a href=\"https://doi.org/${ent.doi}\" >[DOI]</a>`;\n  }*/ else {\n    return \"\";\n  }\n}\nfunction doi_string(ent, new_line) {\n  if (\"doi\" in ent) {\n    return `${new_line ? \"<br>\" : \"\"} <a href=\"https://doi.org/${\n      ent.doi\n    }\" style=\"text-decoration:inherit;\">DOI: ${ent.doi}</a>`;\n  } else {\n    return \"\";\n  }\n}\n\nfunction title_string(ent) {\n  return '<span class=\"title\">' + ent.title + \"</span> \";\n}\n\nexport function bibliography_cite(ent, fancy) {\n  if (ent) {\n    var cite = title_string(ent);\n    cite += link_string(ent) + \"<br>\";\n    if (ent.author) {\n      cite += author_string(ent, \"${L}, ${I}\", \", \", \" and \");\n      if (ent.year || ent.date) {\n        cite += \", \";\n      }\n    }\n    if (ent.year || ent.date) {\n      cite += (ent.year || ent.date) + \". \";\n    } else {\n      cite += \". \";\n    }\n    cite += venue_string(ent);\n    cite += doi_string(ent);\n    return cite;\n    /*var cite =  author_string(ent, \"${L}, ${I}\", \", \", \" and \");\n    if (ent.year || ent.date){\n      cite += \", \" + (ent.year || ent.date) + \". \"\n    } else {\n      cite += \". \"\n    }\n    cite += \"<b>\" + ent.title + \"</b>. \";\n    cite += venue_string(ent);\n    cite += doi_string(ent);\n    cite += link_string(ent);\n    return cite*/\n  } else {\n    return \"?\";\n  }\n}\n\nexport function hover_cite(ent) {\n  if (ent) {\n    var cite = \"\";\n    cite += \"<strong>\" + ent.title + \"</strong>\";\n    cite += link_string(ent);\n    cite += \"<br>\";\n\n    var a_str = author_string(ent, \"${I} ${L}\", \", \") + \".\";\n    var v_str =\n      venue_string(ent).trim() + \" \" + ent.year + \". \" + doi_string(ent, true);\n\n    if ((a_str + v_str).length < Math.min(40, ent.title.length)) {\n      cite += a_str + \" \" + v_str;\n    } else {\n      cite += a_str + \"<br>\" + v_str;\n    }\n    return cite;\n  } else {\n    return \"?\";\n  }\n}\n\n//https://scholar.google.com/scholar?q=allintitle%3ADocument+author%3Aolah\nfunction get_GS_URL(ent) {\n  if (ent) {\n    var names = ent.author.split(\" and \");\n    names = names.map(name => name.split(\",\")[0].trim());\n    var title = ent.title.split(\" \"); //.replace(/[,:]/, \"\")\n    var url = \"http://search.labs.crossref.org/dois?\"; //\"\"https://scholar.google.com/scholar?\"\n    url += uris({ q: names.join(\" \") + \" \" + title.join(\" \") });\n  }\n}\n","\n// Code sourced from https://github.com/distillpub/template.git\nexport function domContentLoaded() {\n  return ['interactive', 'complete'].indexOf(document.readyState) !== -1;\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport function _moveLegacyAffiliationFormatIntoArray(frontMatter) {\n  // authors used to have propoerties \"affiliation\" and \"affiliationURL\".\n  // We now encourage using an array for affiliations containing objects with\n  // properties \"name\" and \"url\".\n  for (let author of frontMatter.authors) {\n    const hasOldStyle = Boolean(author.affiliation)\n    const hasNewStyle = Boolean(author.affiliations)\n    if (!hasOldStyle) continue;\n    if (hasNewStyle) {\n      console.warn(`Author ${author.author} has both old-style (\"affiliation\" & \"affiliationURL\") and new style (\"affiliations\") affiliation information!`)\n    } else {\n      let newAffiliation = {\n        \"name\": author.affiliation\n      }\n      if (author.affiliationURL) newAffiliation.url = author.affiliationURL;\n      author.affiliations = [newAffiliation];\n    }\n  }\n  return frontMatter\n}\n\nexport function parseFrontmatter(element) {\n  const scriptTag = element.firstElementChild;\n  if (scriptTag) {\n    const type = scriptTag.getAttribute('type');\n    if (type.split('/')[1] == 'json') {\n      const content = scriptTag.textContent;\n      const parsed = JSON.parse(content);\n      return _moveLegacyAffiliationFormatIntoArray(parsed);\n    } else {\n      console.error('Distill only supports JSON frontmatter tags anymore; no more YAML.');\n    }\n  } else {\n    console.error('You added a frontmatter tag but did not provide a script tag with front matter data in it. Please take a look at our templates.');\n  }\n  return {};\n}\n\nexport class FrontMatter extends HTMLElement {\n\n  static get is() { return 'd-front-matter'; }\n\n  constructor() {\n    super();\n\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver( (entries) => {\n      for (const entry of entries) {\n        if (entry.target.nodeName === 'SCRIPT' || entry.type === 'characterData') {\n          const data = parseFrontmatter(this);\n          this.notify(data);\n        }\n      }\n    });\n    observer.observe(this, options);\n  }\n\n  notify(data) {\n    const options = { detail: data, bubbles: true };\n    const event = new CustomEvent('onFrontMatterChanged', options);\n    document.dispatchEvent(event);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { FrontMatter, mergeFromYMLFrontmatter } from \"./front-matter\";\nimport { DMath } from \"./components/d-math\";\nimport { collect_citations } from \"./helpers/citation.js\";\nimport { domContentLoaded } from \"./helpers/domContentLoaded.js\";\nimport { parseFrontmatter } from \"./components/d-front-matter\";\nimport optionalComponents from \"./transforms/optional-components\";\n\nconst frontMatter = new FrontMatter();\n\nexport const Controller = {\n  frontMatter: frontMatter,\n  waitingOn: {\n    bibliography: [],\n    citations: []\n  },\n  listeners: {\n    onCiteKeyCreated(event) {\n      const [citeTag, keys] = event.detail;\n\n      // ensure we have citations\n      if (!frontMatter.citationsCollected) {\n        // console.debug('onCiteKeyCreated, but unresolved dependency (\"citations\"). Enqueing.');\n        Controller.waitingOn.citations.push(() =>\n          Controller.listeners.onCiteKeyCreated(event)\n        );\n        return;\n      }\n\n      // ensure we have a loaded bibliography\n      if (!frontMatter.bibliographyParsed) {\n        // console.debug('onCiteKeyCreated, but unresolved dependency (\"bibliography\"). Enqueing.');\n        Controller.waitingOn.bibliography.push(() =>\n          Controller.listeners.onCiteKeyCreated(event)\n        );\n        return;\n      }\n\n      const numbers = keys.map(key => frontMatter.citations.indexOf(key));\n      citeTag.numbers = numbers;\n      const entries = keys.map(key => frontMatter.bibliography.get(key));\n      citeTag.entries = entries;\n    },\n\n    onCiteKeyChanged() {\n      // const [citeTag, keys] = event.detail;\n\n      // update citations\n      frontMatter.citations = collect_citations();\n      frontMatter.citationsCollected = true;\n      for (const waitingCallback of Controller.waitingOn.citations.slice()) {\n        waitingCallback();\n      }\n\n      // update bibliography\n      const citationListTag = document.querySelector(\"d-citation-list\");\n      const bibliographyEntries = new Map(\n        frontMatter.citations.map(citationKey => {\n          return [citationKey, frontMatter.bibliography.get(citationKey)];\n        })\n      );\n      citationListTag.citations = bibliographyEntries;\n\n      const citeTags = document.querySelectorAll(\"d-cite\");\n      for (const citeTag of citeTags) {\n        console.log(citeTag);\n        const keys = citeTag.keys;\n        const numbers = keys.map(key => frontMatter.citations.indexOf(key));\n        citeTag.numbers = numbers;\n        const entries = keys.map(key => frontMatter.bibliography.get(key));\n        citeTag.entries = entries;\n      }\n    },\n\n    onCiteKeyRemoved(event) {\n      Controller.listeners.onCiteKeyChanged(event);\n    },\n\n    onBibliographyChanged(event) {\n      const citationListTag = document.querySelector(\"d-citation-list\");\n\n      const bibliography = event.detail;\n\n      frontMatter.bibliography = bibliography;\n      frontMatter.bibliographyParsed = true;\n      for (const waitingCallback of Controller.waitingOn.bibliography.slice()) {\n        waitingCallback();\n      }\n\n      // ensure we have citations\n      if (!frontMatter.citationsCollected) {\n        Controller.waitingOn.citations.push(function() {\n          Controller.listeners.onBibliographyChanged({\n            target: event.target,\n            detail: event.detail\n          });\n        });\n        return;\n      }\n\n      if (citationListTag.hasAttribute(\"distill-prerendered\")) {\n        console.debug(\"Citation list was prerendered; not updating it.\");\n      } else {\n        const entries = new Map(\n          frontMatter.citations.map(citationKey => {\n            return [citationKey, frontMatter.bibliography.get(citationKey)];\n          })\n        );\n        citationListTag.citations = entries;\n      }\n    },\n\n    onFootnoteChanged() {\n      // const footnote = event.detail;\n      //TODO: optimize to only update current footnote\n      const footnotesList = document.querySelector(\"d-footnote-list\");\n      if (footnotesList) {\n        const footnotes = document.querySelectorAll(\"d-footnote\");\n        footnotesList.footnotes = footnotes;\n      }\n    },\n\n    onFrontMatterChanged(event) {\n      const data = event.detail;\n      mergeFromYMLFrontmatter(frontMatter, data);\n\n      const interstitial = document.querySelector(\"d-interstitial\");\n      if (interstitial) {\n        if (typeof frontMatter.password !== \"undefined\") {\n          interstitial.password = frontMatter.password;\n        } else {\n          interstitial.parentElement.removeChild(interstitial);\n        }\n      }\n\n      const prerendered = document.body.hasAttribute(\"distill-prerendered\");\n      if (!prerendered && domContentLoaded()) {\n        optionalComponents(document, frontMatter);\n\n        const appendix = document.querySelector(\"distill-appendix\");\n        if (appendix) {\n          appendix.frontMatter = frontMatter;\n        }\n\n        const byline = document.querySelector(\"d-byline\");\n        if (byline) {\n          byline.frontMatter = frontMatter;\n        }\n\n        if (data.katex) {\n          DMath.katexOptions = data.katex;\n        }\n      }\n    },\n\n    DOMContentLoaded() {\n      if (Controller.loaded) {\n        console.warn(\n          \"Controller received DOMContentLoaded but was already loaded!\"\n        );\n        return;\n      } else if (!domContentLoaded()) {\n        console.warn(\n          \"Controller received DOMContentLoaded at document.readyState: \" +\n            document.readyState +\n            \"!\"\n        );\n        return;\n      } else {\n        Controller.loaded = true;\n        console.debug(\"Runlevel 4: Controller running DOMContentLoaded\");\n      }\n\n      const frontMatterTag = document.querySelector(\"d-front-matter\");\n      if (frontMatterTag) {\n        const data = parseFrontmatter(frontMatterTag);\n        Controller.listeners.onFrontMatterChanged({ detail: data });\n      }\n\n      // Resolving \"citations\" dependency due to initial DOM load\n      frontMatter.citations = collect_citations();\n      frontMatter.citationsCollected = true;\n      for (const waitingCallback of Controller.waitingOn.citations.slice()) {\n        waitingCallback();\n      }\n\n      if (frontMatter.bibliographyParsed) {\n        for (const waitingCallback of Controller.waitingOn.bibliography.slice()) {\n          waitingCallback();\n        }\n      }\n\n      const footnotesList = document.querySelector(\"d-footnote-list\");\n      if (footnotesList) {\n        const footnotes = document.querySelectorAll(\"d-footnote\");\n        footnotesList.footnotes = footnotes;\n      }\n    }\n  } // listeners\n}; // Controller\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// no appendix -> add appendix\n// title in front, no h1 -> add it\n// no title in front, h1 -> read and put into frontMatter\n// footnote -> footnote list\n// break up bib\n// if citation, no bib-list -> add citation-list\n\n// if authors, no byline -> add byline\n// Code sourced from https://github.com/distillpub/template.git\n\nexport default function(dom, data) {\n  const body = dom.body;\n  const article = body.querySelector('d-article');\n\n  // If we don't have an article tag, something weird is going on—giving up.\n  if (!article) {\n    console.warn('No d-article tag found; skipping adding optional components!');\n    return;\n  }\n\n  let byline = dom.querySelector('d-byline');\n  if (!byline) {\n    if (data.authors) {\n      byline = dom.createElement('d-byline');\n      body.insertBefore(byline, article);\n    } else {\n      console.warn('No authors found in front matter; please add them before submission!');\n    }\n  }\n\n  let title = dom.querySelector('d-title');\n  if (!title) {\n    title = dom.createElement('d-title');\n    body.insertBefore(title, byline);\n  }\n\n  let h1 = title.querySelector('h1');\n  if (!h1) {\n    h1 = dom.createElement('h1');\n    h1.textContent = data.title;\n    title.insertBefore(h1, title.firstChild);\n  }\n\n  const hasPassword = typeof data.password !== 'undefined';\n  let interstitial = body.querySelector('d-interstitial');\n  if (hasPassword && !interstitial) {\n    const inBrowser = typeof window !== 'undefined';\n    const onLocalhost = inBrowser && window.location.hostname.includes('localhost');\n    if (!inBrowser || !onLocalhost) {\n      interstitial = dom.createElement('d-interstitial');\n      interstitial.password = data.password;\n      body.insertBefore(interstitial, body.firstChild);\n    }\n  } else if (!hasPassword && interstitial) {\n    interstitial.parentElement.removeChild(this);\n  }\n\n  let appendix = dom.querySelector('d-appendix');\n  if (!appendix) {\n    appendix = dom.createElement('d-appendix');\n    dom.body.appendChild(appendix);\n  }\n\n  let footnoteList = dom.querySelector('d-footnote-list');\n  if (!footnoteList) {\n    footnoteList = dom.createElement('d-footnote-list');\n    appendix.appendChild(footnoteList);\n  }\n\n  let citationList = dom.querySelector('d-citation-list');\n  if (!citationList) {\n    citationList = dom.createElement('d-citation-list');\n    appendix.appendChild(citationList);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// /*Code sourced from https://github.com/distillpub/template.git*/\nimport base from './styles-base.css';\nimport layout from './styles-layout.css';\nimport print from './styles-print.css';\nimport byline from './d-byline.css';\nimport article from './d-article.css';\nimport title from './d-title.css';\nimport math from './d-math.css';\n\nexport const styles = base + layout + title + byline + article + math + print;\n\nexport function makeStyleTag(dom) {\n\n  const styleTagId = 'distill-prerendered-styles';\n  const prerenderedTag = dom.getElementById(styleTagId);\n  if (!prerenderedTag) {\n    const styleTag = dom.createElement('style');\n    styleTag.id = styleTagId;\n    styleTag.type = 'text/css';\n    const cssTextTag = dom.createTextNode(styles);\n    styleTag.appendChild(cssTextTag);\n    const firstScriptTag = dom.head.querySelector('script');\n    dom.head.insertBefore(styleTag, firstScriptTag);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport function addPolyfill(polyfill, polyfillLoadedCallback) {\n  console.debug('Runlevel 0: Polyfill required: ' + polyfill.name);\n  const script = document.createElement('script');\n  script.src = polyfill.url;\n  script.async = false;\n  if (polyfillLoadedCallback) {\n    script.onload = function() { polyfillLoadedCallback(polyfill); };\n  }\n  script.onerror = function() {\n    new Error('Runlevel 0: Polyfills failed to load script ' + polyfill.name);\n  };\n  document.head.appendChild(script);\n}\n\nexport const polyfills = [\n  {\n    name: 'WebComponents',\n    support: function() {\n      return 'customElements' in window &&\n             'attachShadow' in Element.prototype &&\n             'getRootNode' in Element.prototype &&\n             'content' in document.createElement('template') &&\n             'Promise' in window &&\n             'from' in Array;\n    },\n    url: 'https://distill.pub/third-party/polyfills/webcomponents-lite.js'\n  }, {\n    name: 'IntersectionObserver',\n    support: function() {\n      return 'IntersectionObserver' in window &&\n             'IntersectionObserverEntry' in window;\n    },\n    url: 'https://distill.pub/third-party/polyfills/intersection-observer.js'\n  },\n];\n\nexport class Polyfills {\n\n  static browserSupportsAllFeatures() {\n    return polyfills.every((poly) => poly.support());\n  }\n\n  static load(callback) {\n    // Define an intermediate callback that checks if all is loaded.\n    const polyfillLoaded = function(polyfill) {\n      polyfill.loaded = true;\n      console.debug('Runlevel 0: Polyfill has finished loading: ' + polyfill.name);\n      // console.debug(window[polyfill.name]);\n      if (Polyfills.neededPolyfills.every((poly) => poly.loaded)) {\n        console.debug('Runlevel 0: All required polyfills have finished loading.');\n        console.debug('Runlevel 0->1.');\n        window.distillRunlevel = 1;\n        callback();\n      }\n    };\n    // Add polyfill script tags\n    for (const polyfill of Polyfills.neededPolyfills) {\n      addPolyfill(polyfill, polyfillLoaded);\n    }\n  }\n\n  static get neededPolyfills() {\n    if (!Polyfills._neededPolyfills) {\n      Polyfills._neededPolyfills = polyfills.filter((poly) => !poly.support());\n    }\n    return Polyfills._neededPolyfills;\n  }\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\nimport { Template } from '../mixins/template';\nimport { body } from '../helpers/layout';\n\nconst T = Template('d-abstract', `\n<style>\n  :host {\n    font-size: 1.25rem;\n    line-height: 1.6em;\n    color: rgba(0, 0, 0, 0.7);\n    -webkit-font-smoothing: antialiased;\n  }\n\n  ::slotted(p) {\n    margin-top: 0;\n    margin-bottom: 1em;\n    grid-column: text-start / middle-end;\n  }\n  ${body('d-abstract')}\n</style>\n\n<slot></slot>\n`);\n\nexport class Abstract extends T(HTMLElement) {\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// Code sourced from https://github.com/distillpub/template.git\nimport { Template } from '../mixins/template';\n\nconst T = Template('d-appendix', `\n<style>\n\nd-appendix {\n  contain: layout style;\n  font-size: 0.8em;\n  line-height: 1.7em;\n  margin-top: 60px;\n  margin-bottom: 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  color: rgba(0,0,0,0.5);\n  padding-top: 60px;\n  padding-bottom: 48px;\n}\n\nd-appendix h3 {\n  grid-column: page-start / text-start;\n  font-size: 15px;\n  font-weight: 500;\n  margin-top: 1em;\n  margin-bottom: 0;\n  color: rgba(0,0,0,0.65);\n}\n\nd-appendix h3 + * {\n  margin-top: 1em;\n}\n\nd-appendix ol {\n  padding: 0 0 0 15px;\n}\n\n@media (min-width: 768px) {\n  d-appendix ol {\n    padding: 0 0 0 30px;\n    margin-left: -30px;\n  }\n}\n\nd-appendix li {\n  margin-bottom: 1em;\n}\n\nd-appendix a {\n  color: rgba(0, 0, 0, 0.6);\n}\n\nd-appendix > * {\n  grid-column: text;\n}\n\nd-appendix > d-footnote-list,\nd-appendix > d-citation-list,\nd-appendix > distill-appendix {\n  grid-column: screen;\n}\n\n</style>\n\n`, false);\n\nexport class Appendix extends T(HTMLElement) {\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n// import { Template } from '../mixins/template';\n// import { Controller } from '../controller';\n\nconst isOnlyWhitespace = /^\\s*$/;\n\nexport class Article extends HTMLElement {\n  static get is() { return 'd-article'; }\n\n  constructor() {\n    super();\n\n    new MutationObserver( (mutations) => {\n      for (const mutation of mutations) {\n        for (const addedNode of mutation.addedNodes) {\n          switch (addedNode.nodeName) {\n          case '#text': { // usually text nodes are only linebreaks.\n            const text = addedNode.nodeValue;\n            if (!isOnlyWhitespace.test(text)) {\n              console.warn('Use of unwrapped text in distill articles is discouraged as it breaks layout! Please wrap any text in a <span> or <p> tag. We found the following text: ' + text);\n              const wrapper = document.createElement('span');\n              wrapper.innerHTML = addedNode.nodeValue;\n              addedNode.parentNode.insertBefore(wrapper, addedNode);\n              addedNode.parentNode.removeChild(addedNode);\n            }\n          } break;\n          }\n        }\n      }\n    }).observe(this, {childList: true});\n  }\n\n}\n","/* start bibtexParse 0.0.22 */\n\n//Original work by Henrik Muehe (c) 2010\n//\n//CommonJS port by Mikola Lysenko 2013\n//\n//Port to Browser lib by ORCID / RCPETERS\n//\n//Issues:\n//no comment handling within strings\n//no string concatenation\n//no variable values yet\n//Grammar implemented here:\n//bibtex -> (string | preamble | comment | entry)*;\n//string -> '@STRING' '{' key_equals_value '}';\n//preamble -> '@PREAMBLE' '{' value '}';\n//comment -> '@COMMENT' '{' value '}';\n//entry -> '@' key '{' key ',' key_value_list '}';\n//key_value_list -> key_equals_value (',' key_equals_value)*;\n//key_equals_value -> key '=' value;\n//value -> value_quotes | value_braces | key;\n//value_quotes -> '\"' .*? '\"'; // not quite\n//value_braces -> '{' .*? '\"'; // not quite\n(function(exports) {\n\n    function BibtexParser() {\n        \n        this.months = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\n        this.notKey = [',','{','}',' ','='];\n        this.pos = 0;\n        this.input = \"\";\n        this.entries = new Array();\n\n        this.currentEntry = \"\";\n\n        this.setInput = function(t) {\n            this.input = t;\n        };\n\n        this.getEntries = function() {\n            return this.entries;\n        };\n\n        this.isWhitespace = function(s) {\n            return (s == ' ' || s == '\\r' || s == '\\t' || s == '\\n');\n        };\n\n        this.match = function(s, canCommentOut) {\n            if (canCommentOut == undefined || canCommentOut == null)\n                canCommentOut = true;\n            this.skipWhitespace(canCommentOut);\n            if (this.input.substring(this.pos, this.pos + s.length) == s) {\n                this.pos += s.length;\n            } else {\n                throw \"Token mismatch, expected \" + s + \", found \"\n                        + this.input.substring(this.pos);\n            };\n            this.skipWhitespace(canCommentOut);\n        };\n\n        this.tryMatch = function(s, canCommentOut) {\n            if (canCommentOut == undefined || canCommentOut == null)\n                canCommentOut = true;\n            this.skipWhitespace(canCommentOut);\n            if (this.input.substring(this.pos, this.pos + s.length) == s) {\n                return true;\n            } else {\n                return false;\n            };\n            this.skipWhitespace(canCommentOut);\n        };\n\n        /* when search for a match all text can be ignored, not just white space */\n        this.matchAt = function() {\n            while (this.input.length > this.pos && this.input[this.pos] != '@') {\n                this.pos++;\n            };\n\n            if (this.input[this.pos] == '@') {\n                return true;\n            };\n            return false;\n        };\n\n        this.skipWhitespace = function(canCommentOut) {\n            while (this.isWhitespace(this.input[this.pos])) {\n                this.pos++;\n            };\n            if (this.input[this.pos] == \"%\" && canCommentOut == true) {\n                while (this.input[this.pos] != \"\\n\") {\n                    this.pos++;\n                };\n                this.skipWhitespace(canCommentOut);\n            };\n        };\n\n        this.value_braces = function() {\n            var bracecount = 0;\n            this.match(\"{\", false);\n            var start = this.pos;\n            var escaped = false;\n            while (true) {\n                if (!escaped) {\n                    if (this.input[this.pos] == '}') {\n                        if (bracecount > 0) {\n                            bracecount--;\n                        } else {\n                            var end = this.pos;\n                            this.match(\"}\", false);\n                            return this.input.substring(start, end);\n                        };\n                    } else if (this.input[this.pos] == '{') {\n                        bracecount++;\n                    } else if (this.pos >= this.input.length - 1) {\n                        throw \"Unterminated value\";\n                    };\n                };\n                if (this.input[this.pos] == '\\\\' && escaped == false)\n                    escaped = true;\n                else\n                    escaped = false;\n                this.pos++;\n            };\n        };\n\n        this.value_comment = function() {\n            var str = '';\n            var brcktCnt = 0;\n            while (!(this.tryMatch(\"}\", false) && brcktCnt == 0)) {\n                str = str + this.input[this.pos];\n                if (this.input[this.pos] == '{')\n                    brcktCnt++;\n                if (this.input[this.pos] == '}')\n                    brcktCnt--;\n                if (this.pos >= this.input.length - 1) {\n                    throw \"Unterminated value:\" + this.input.substring(start);\n                };\n                this.pos++;\n            };\n            return str;\n        };\n\n        this.value_quotes = function() {\n            this.match('\"', false);\n            var start = this.pos;\n            var escaped = false;\n            while (true) {\n                if (!escaped) {\n                    if (this.input[this.pos] == '\"') {\n                        var end = this.pos;\n                        this.match('\"', false);\n                        return this.input.substring(start, end);\n                    } else if (this.pos >= this.input.length - 1) {\n                        throw \"Unterminated value:\" + this.input.substring(start);\n                    };\n                }\n                if (this.input[this.pos] == '\\\\' && escaped == false)\n                    escaped = true;\n                else\n                    escaped = false;\n                this.pos++;\n            };\n        };\n\n        this.single_value = function() {\n            var start = this.pos;\n            if (this.tryMatch(\"{\")) {\n                return this.value_braces();\n            } else if (this.tryMatch('\"')) {\n                return this.value_quotes();\n            } else {\n                var k = this.key();\n                if (k.match(\"^[0-9]+$\"))\n                    return k;\n                else if (this.months.indexOf(k.toLowerCase()) >= 0)\n                    return k.toLowerCase();\n                else\n                    throw \"Value expected:\" + this.input.substring(start) + ' for key: ' + k;\n            \n            };\n        };\n\n        this.value = function() {\n            var values = [];\n            values.push(this.single_value());\n            while (this.tryMatch(\"#\")) {\n                this.match(\"#\");\n                values.push(this.single_value());\n            };\n            return values.join(\"\");\n        };\n\n        this.key = function() {\n            var start = this.pos;\n            while (true) {\n                if (this.pos >= this.input.length) {\n                    throw \"Runaway key\";\n                };\n                                // а-яА-Я is Cyrillic\n                //console.log(this.input[this.pos]);\n                if (this.notKey.indexOf(this.input[this.pos]) >= 0) {\n                    return this.input.substring(start, this.pos);\n                } else {\n                    this.pos++;\n                    \n                };\n            };\n        };\n\n        this.key_equals_value = function() {\n            var key = this.key();\n            if (this.tryMatch(\"=\")) {\n                this.match(\"=\");\n                var val = this.value();\n                return [ key, val ];\n            } else {\n                throw \"... = value expected, equals sign missing:\"\n                        + this.input.substring(this.pos);\n            };\n        };\n\n        this.key_value_list = function() {\n            var kv = this.key_equals_value();\n            this.currentEntry['entryTags'] = {};\n            this.currentEntry['entryTags'][kv[0]] = kv[1];\n            while (this.tryMatch(\",\")) {\n                this.match(\",\");\n                // fixes problems with commas at the end of a list\n                if (this.tryMatch(\"}\")) {\n                    break;\n                }\n                ;\n                kv = this.key_equals_value();\n                this.currentEntry['entryTags'][kv[0]] = kv[1];\n            };\n        };\n\n        this.entry_body = function(d) {\n            this.currentEntry = {};\n            this.currentEntry['citationKey'] = this.key();\n            this.currentEntry['entryType'] = d.substring(1);\n            this.match(\",\");\n            this.key_value_list();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.directive = function() {\n            this.match(\"@\");\n            return \"@\" + this.key();\n        };\n\n        this.preamble = function() {\n            this.currentEntry = {};\n            this.currentEntry['entryType'] = 'PREAMBLE';\n            this.currentEntry['entry'] = this.value_comment();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.comment = function() {\n            this.currentEntry = {};\n            this.currentEntry['entryType'] = 'COMMENT';\n            this.currentEntry['entry'] = this.value_comment();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.entry = function(d) {\n            this.entry_body(d);\n        };\n\n        this.bibtex = function() {\n            while (this.matchAt()) {\n                var d = this.directive();\n                this.match(\"{\");\n                if (d == \"@STRING\") {\n                    this.string();\n                } else if (d == \"@PREAMBLE\") {\n                    this.preamble();\n                } else if (d == \"@COMMENT\") {\n                    this.comment();\n                } else {\n                    this.entry(d);\n                }\n                this.match(\"}\");\n            };\n        };\n    };\n    \n    exports.toJSON = function(bibtex) {\n        var b = new BibtexParser();\n        b.setInput(bibtex);\n        b.bibtex();\n        return b.entries;\n    };\n\n    /* added during hackathon don't hate on me */\n    exports.toBibtex = function(json) {\n        var out = '';\n        for ( var i in json) {\n            out += \"@\" + json[i].entryType;\n            out += '{';\n            if (json[i].citationKey)\n                out += json[i].citationKey + ', ';\n            if (json[i].entry)\n                out += json[i].entry ;\n            if (json[i].entryTags) {\n                var tags = '';\n                for (var jdx in json[i].entryTags) {\n                    if (tags.length != 0)\n                        tags += ', ';\n                    tags += jdx + '= {' + json[i].entryTags[jdx] + '}';\n                }\n                out += tags;\n            }\n            out += '}\\n\\n';\n        }\n        return out;\n        \n    };\n\n})(typeof exports === 'undefined' ? this['bibtexParse'] = {} : exports);\n\n/* end bibtexParse */\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport bibtexParse from 'bibtex-parse-js';\n\nfunction normalizeTag(string) {\n  return string\n    .replace(/[\\t\\n ]+/g, ' ')\n    .replace(/{\\\\[\"^`.'acu~Hvs]( )?([a-zA-Z])}/g, (full, x, char) => char)\n    .replace(/{\\\\([a-zA-Z])}/g, (full, char) => char)\n    .replace(/[{}]/gi,'');  // Replace curly braces forcing plaintext in latex.\n}\n\nexport function parseBibtex(bibtex) {\n  const bibliography = new Map();\n  const parsedEntries = bibtexParse.toJSON(bibtex);\n  for (const entry of parsedEntries) {\n    // normalize tags; note entryTags is an object, not Map\n    for (const [key, value] of Object.entries(entry.entryTags)) {\n      entry.entryTags[key.toLowerCase()] = normalizeTag(value);\n    }\n    entry.entryTags.type = entry.entryType;\n    // add to bibliography\n    bibliography.set(entry.citationKey, entry.entryTags);\n  }\n  return bibliography;\n}\n\nexport function serializeFrontmatterToBibtex(frontMatter) {\n  return `@article{${frontMatter.slug},\n  author = {${frontMatter.bibtexAuthors}},\n  title = {${frontMatter.title}},\n  journal = {${frontMatter.journal.title}},\n  year = {${frontMatter.publishedYear}},\n  note = {${frontMatter.url}},\n  doi = {${frontMatter.doi}}\n}`;\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { parseBibtex } from '../helpers/bibtex';\n\nexport function parseBibliography(element) {\n  const scriptTag = element.firstElementChild;\n  if (scriptTag && scriptTag.tagName === 'SCRIPT') {\n    if (scriptTag.type == 'text/bibtex') {\n      const bibtex = element.firstElementChild.textContent;\n      return parseBibtex(bibtex);\n    } else if (scriptTag.type == 'text/json') {\n      return new Map(JSON.parse(scriptTag.textContent));\n    } else {\n      console.warn('Unsupported bibliography script tag type: ' + scriptTag.type);\n    }\n  } else {\n    console.warn('Bibliography did not have any script tag.');\n  }\n}\n\nexport class Bibliography extends HTMLElement {\n\n  static get is() { return 'd-bibliography'; }\n\n  constructor() {\n    super();\n\n    // set up mutation observer\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver( (entries) => {\n      for (const entry of entries) {\n        if (entry.target.nodeName === 'SCRIPT' || entry.type === 'characterData') {\n          this.parseIfPossible();\n        }\n      }\n    });\n    observer.observe(this, options);\n  }\n\n  connectedCallback() {\n    requestAnimationFrame(() => {\n      this.parseIfPossible();\n    });\n  }\n\n  parseIfPossible() {\n    const scriptTag = this.querySelector('script');\n    if (!scriptTag) return;\n    if (scriptTag.type == 'text/bibtex') {\n      const newBibtex = scriptTag.textContent;\n      if (this.bibtex !== newBibtex) {\n        this.bibtex = newBibtex;\n        const bibliography = parseBibtex(this.bibtex);\n        this.notify(bibliography);\n      }\n    } else if (scriptTag.type == 'text/json') {\n      const bibliography = new Map(JSON.parse(scriptTag.textContent));\n      this.notify(bibliography);\n    } else {\n      console.warn('Unsupported bibliography script tag type: ' + scriptTag.type);\n    }\n  }\n\n  notify(bibliography) {\n    const options = { detail: bibliography, bubbles: true };\n    const event = new CustomEvent('onBibliographyChanged', options);\n    this.dispatchEvent(event);\n  }\n\n  /* observe 'src' attribute */\n\n  static get observedAttributes() {\n    return ['src'];\n  }\n\n  receivedBibtex(event) {\n    const bibliography = parseBibtex(event.target.response);\n    this.notify(bibliography);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    var oReq = new XMLHttpRequest();\n    oReq.onload = (e) => this.receivedBibtex(e);\n    oReq.onerror = () => console.warn(`Could not load Bibtex! (tried ${newValue})`);\n    oReq.responseType = 'text';\n    oReq.open('GET', newValue, true);\n    oReq.send();\n  }\n\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n// import style from '../styles/d-byline.css';\n\nexport function bylineTemplate(frontMatter) {\n  return `\n  <div class=\"byline grid\">\n    <div class=\"authors-affiliations grid\">\n      <h3>Authors</h3>\n      <h3>Affiliations</h3>\n      ${frontMatter.authors.map(author => `\n        <p class=\"author\">\n          ${author.personalURL ? `\n            <a class=\"name\" href=\"${author.personalURL}\">${author.name}</a>` : `\n            <span class=\"name\">${author.name}</span>`}\n        </p>\n        <p class=\"affiliation\">\n        ${author.affiliations.map(affiliation =>\n          affiliation.url ? `<a class=\"affiliation\" href=\"${affiliation.url}\">${affiliation.name}</a>` : `<span class=\"affiliation\">${affiliation.name}</span>`\n        ).join(', ')}\n        </p>\n      `).join('')}\n    </div>\n    <div>\n      <h3>Published</h3>\n      ${frontMatter.publishedDate ? `\n        <p>${frontMatter.publishedMonth} ${frontMatter.publishedDay}, ${frontMatter.publishedYear}</p> ` : `\n        <p><em>Not published yet.</em></p>`}\n    </div>\n    <div>\n      <h3>DOI</h3>\n      ${frontMatter.doi ? `\n        <p><a href=\"https://doi.org/${frontMatter.doi}\">${frontMatter.doi}</a></p>` : `\n        <p><em>No DOI yet.</em></p>`}\n    </div>\n  </div>\n`;\n}\n\nexport class Byline extends HTMLElement {\n\n  static get is() { return 'd-byline'; }\n\n  set frontMatter(frontMatter) {\n    this.innerHTML = bylineTemplate(frontMatter);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from \"../mixins/template\";\nimport { hover_cite, bibliography_cite } from \"../helpers/citation\";\n\nconst T = Template(\n  \"d-cite\",\n  `\n<style>\n\n:host {\n  display: inline-block;\n}\n\n.citation {\n  color: hsla(206, 90%, 20%, 0.7);\n}\n\n.citation-number {\n  cursor: default;\n  white-space: nowrap;\n  font-family: -apple-system, BlinkMacSystemFont, \"Roboto\", Helvetica, sans-serif;\n  font-size: 75%;\n  color: hsla(206, 90%, 20%, 0.7);\n  display: inline-block;\n  line-height: 1.1em;\n  text-align: center;\n  position: relative;\n  top: -2px;\n  margin: 0 2px;\n}\n\nfigcaption .citation-number {\n  font-size: 11px;\n  font-weight: normal;\n  top: -2px;\n  line-height: 1em;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n}\n\nul li {\n  padding: 15px 10px 15px 10px;\n  border-bottom: 1px solid rgba(0,0,0,0.1)\n}\n\nul li:last-of-type {\n  border-bottom: none;\n}\n\n</style>\n\n<d-hover-box id=\"hover-box\"></d-hover-box>\n\n<div id=\"citation-\" class=\"citation\">\n  <span class=\"citation-number\"></span>\n</div>\n`\n);\n\nexport class Cite extends T(HTMLElement) {\n  /* Lifecycle */\n  constructor() {\n    super();\n    this._numbers = [];\n    this._entries = [];\n  }\n\n  connectedCallback() {\n    this.outerSpan = this.root.querySelector(\"#citation-\");\n    this.innerSpan = this.root.querySelector(\".citation-number\");\n    this.hoverBox = this.root.querySelector(\"d-hover-box\");\n    window.customElements.whenDefined(\"d-hover-box\").then(() => {\n      this.hoverBox.listen(this);\n    });\n    // in case this component got connected after values were set\n    if (this.numbers) {\n      this.displayNumbers(this.numbers);\n    }\n    if (this.entries) {\n      this.displayEntries(this.entries);\n    }\n  }\n\n  //TODO This causes an infinite loop on firefox with polyfills.\n  // This is only needed for interactive editing so no priority.\n  // disconnectedCallback() {\n  // const options = { detail: [this, this.keys], bubbles: true };\n  // const event = new CustomEvent('onCiteKeyRemoved', options);\n  // document.dispatchEvent(event);\n  // }\n\n  /* observe 'key' attribute */\n\n  static get observedAttributes() {\n    return [\"key\", \"bibtex-key\"];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    const eventName = oldValue ? \"onCiteKeyChanged\" : \"onCiteKeyCreated\";\n    const keys = newValue.split(\",\").map(k => k.trim());\n    const options = { detail: [this, keys], bubbles: true };\n    const event = new CustomEvent(eventName, options);\n    document.dispatchEvent(event);\n  }\n\n  set key(value) {\n    this.setAttribute(\"key\", value);\n  }\n\n  get key() {\n    return this.getAttribute(\"key\") || this.getAttribute(\"bibtex-key\");\n  }\n\n  get keys() {\n    const result = this.key.split(\",\");\n    console.log(result);\n    return result;\n  }\n\n  /* Setters & Rendering */\n\n  set numbers(numbers) {\n    this._numbers = numbers;\n    this.displayNumbers(numbers);\n  }\n\n  get numbers() {\n    return this._numbers;\n  }\n\n  displayNumbers(numbers) {\n    if (!this.innerSpan) return;\n    const numberStrings = numbers.map(index => {\n      return index == -1 ? \"?\" : index + 1 + \"\";\n    });\n    const textContent = \"[\" + numberStrings.join(\", \") + \"]\";\n    this.innerSpan.textContent = textContent;\n  }\n\n  set entries(entries) {\n    this._entries = entries;\n    this.displayEntries(entries);\n  }\n\n  get entries() {\n    return this._entries;\n  }\n\n  displayEntries(entries) {\n    if (!this.hoverBox) return;\n    this.hoverBox.innerHTML = `<ul>\n      ${entries\n        .map(hover_cite)\n        .map(html => `<li>${html}</li>`)\n        .join(\"\\n\")}\n    </ul>`;\n  }\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { bibliography_cite } from '../helpers/citation';\n\nconst styles = `\nd-citation-list {\n  contain: style;\n}\n\nd-citation-list .references {\n  grid-column: text;\n}\n\nd-citation-list .references .title {\n  font-weight: 500;\n}\n`;\n\nexport function renderCitationList(element, entries, dom=document) {\n  if (entries.size > 0) {\n    element.style.display = '';\n    let list = element.querySelector('.references');\n    if (list) {\n      list.innerHTML = '';\n    } else {\n      const stylesTag = dom.createElement('style');\n      stylesTag.innerHTML = styles;\n      element.appendChild(stylesTag);\n\n      const heading = dom.createElement('h3');\n      heading.id = 'references';\n      heading.textContent = 'References';\n      element.appendChild(heading);\n\n      list = dom.createElement('ol');\n      list.id = 'references-list';\n      list.className = 'references';\n      element.appendChild(list);\n    }\n\n    for (const [key, entry] of entries) {\n      const listItem = dom.createElement('li');\n      listItem.id = key;\n      listItem.innerHTML = bibliography_cite(entry);\n      list.appendChild(listItem);\n    }\n  } else {\n    element.style.display = 'none';\n  }\n}\n\nexport class CitationList extends HTMLElement {\n\n  static get is() { return 'd-citation-list'; }\n\n  connectedCallback() {\n    if (!this.hasAttribute('distill-prerendered')) {\n      this.style.display = 'none';\n    }\n  }\n\n  set citations(citations) {\n    renderCitationList(this, citations);\n  }\n\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","Prism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n","Prism.languages.lua = {\n\t'comment': /^#!.+|--(?:\\[(=*)\\[[\\s\\S]*?\\]\\1\\]|.*)/m,\n\t// \\z may be used to skip the following space\n\t'string': {\n\t\tpattern: /([\"'])(?:(?!\\1)[^\\\\\\r\\n]|\\\\z(?:\\r\\n|\\s)|\\\\(?:\\r\\n|[^z]))*\\1|\\[(=*)\\[[\\s\\S]*?\\]\\2\\]/,\n\t\tgreedy: true\n\t},\n\t'number': /\\b0x[a-f\\d]+(?:\\.[a-f\\d]*)?(?:p[+-]?\\d+)?\\b|\\b\\d+(?:\\.\\B|(?:\\.\\d*)?(?:e[+-]?\\d+)?\\b)|\\B\\.\\d+(?:e[+-]?\\d+)?\\b/i,\n\t'keyword': /\\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\\b/,\n\t'function': /(?!\\d)\\w+(?=\\s*(?:[({]))/,\n\t'operator': [\n\t\t/[-+*%^&|#]|\\/\\/?|<[<=]?|>[>=]?|[=~]=?/,\n\t\t{\n\t\t\t// Match \"..\" but don't break \"...\"\n\t\t\tpattern: /(^|[^.])\\.\\.(?!\\.)/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'punctuation': /[\\[\\](){},;]|\\.+|:+/\n};\n","(function (Prism) {\n\t// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n\t// + LC_ALL, RANDOM, REPLY, SECONDS.\n\t// + make sure PS1..4 are here as they are not always set,\n\t// - some useless things.\n\tvar envVars = '\\\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\\\b';\n\n\tvar commandAfterHeredoc = {\n\t\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n\t\tlookbehind: true,\n\t\talias: 'punctuation', // this looks reasonably well in all themes\n\t\tinside: null // see below\n\t};\n\n\tvar insideString = {\n\t\t'bash': commandAfterHeredoc,\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': [\n\t\t\t// [0]: Arithmetic Environment\n\t\t\t{\n\t\t\t\tpattern: /\\$?\\(\\([\\s\\S]+?\\)\\)/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\n\t\t\t\t\t'variable': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(^\\$\\(\\([\\s\\S]+)\\)\\)/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\t/^\\$\\(\\(/\n\t\t\t\t\t],\n\t\t\t\t\t'number': /\\b0x[\\dA-Fa-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n\t\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n\t\t\t\t\t'operator': /--|\\+\\+|\\*\\*=?|<<=?|>>=?|&&|\\|\\||[=!+\\-*/%<>^&|]=?|[?~:]/,\n\t\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\n\t\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [1]: Command Substitution\n\t\t\t{\n\t\t\t\tpattern: /\\$\\((?:\\([^)]+\\)|[^()])+\\)|`[^`]+`/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'variable': /^\\$\\(|^`|\\)$|`$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t// [2]: Brace expansion\n\t\t\t{\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'operator': /:[-=?+]?|[!\\/]|##?|%%?|\\^\\^?|,,?/,\n\t\t\t\t\t'punctuation': /[\\[\\]]/,\n\t\t\t\t\t'environment': {\n\t\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'constant'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t/\\$(?:\\w+|[#?*!@$])/\n\t\t],\n\t\t// Escape sequences from echo and printf's manuals, and escaped quotes.\n\t\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/\n\t};\n\n\tPrism.languages.bash = {\n\t\t'shebang': {\n\t\t\tpattern: /^#!\\s*\\/.*/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': {\n\t\t\tpattern: /(^|[^\"{\\\\$])#.*/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'function-name': [\n\t\t\t// a) function foo {\n\t\t\t// b) foo() {\n\t\t\t// c) function foo() {\n\t\t\t// but not “foo {”\n\t\t\t{\n\t\t\t\t// a) and c)\n\t\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'function'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// b)\n\t\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n\t\t\t\talias: 'function'\n\t\t\t}\n\t\t],\n\t\t// Highlight variable names as variables in for and select beginnings.\n\t\t'for-or-select': {\n\t\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight variable names as variables in the left-hand part\n\t\t// of assignments (“=” and “+=”).\n\t\t'assign-left': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\n\t\t\tinside: {\n\t\t\t\t'environment': {\n\t\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'constant'\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t// Highlight parameter names as variables\n\t\t'parameter': {\n\t\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?=[=\\s]|$)/,\n\t\t\talias: 'variable',\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': [\n\t\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\2/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t// Here-document with quotes around the tag\n\t\t\t// → No expansion (so no “inside”).\n\t\t\t{\n\t\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?(?:\\r?\\n|\\r)\\3/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'bash': commandAfterHeredoc\n\t\t\t\t}\n\t\t\t},\n\t\t\t// “Normal” string\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n\t\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\"\\\\`$])*\"/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: insideString\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n\t\t\t\tpattern: /(^|[^$\\\\])'[^']*'/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n\t\t\t\tpattern: /\\$'(?:[^'\\\\]|\\\\[\\s\\S])*'/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'entity': insideString.entity\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'environment': {\n\t\t\tpattern: RegExp('\\\\$?' + envVars),\n\t\t\talias: 'constant'\n\t\t},\n\t\t'variable': insideString.variable,\n\t\t'function': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'keyword': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n\t\t'builtin': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true,\n\t\t\t// Alias added to make those easier to distinguish from strings.\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'boolean': {\n\t\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'file-descriptor': {\n\t\t\tpattern: /\\B&\\d\\b/,\n\t\t\talias: 'important'\n\t\t},\n\t\t'operator': {\n\t\t\t// Lots of redirections here, but not just that.\n\t\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n\t\t\tinside: {\n\t\t\t\t'file-descriptor': {\n\t\t\t\t\tpattern: /^\\d/,\n\t\t\t\t\talias: 'important'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[{}[\\];\\\\]/,\n\t\t'number': {\n\t\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n\t\t\tlookbehind: true\n\t\t}\n\t};\n\n\tcommandAfterHeredoc.inside = Prism.languages.bash;\n\n\t/* Patterns in command substitution. */\n\tvar toBeCopied = [\n\t\t'comment',\n\t\t'function-name',\n\t\t'for-or-select',\n\t\t'assign-left',\n\t\t'parameter',\n\t\t'string',\n\t\t'environment',\n\t\t'function',\n\t\t'keyword',\n\t\t'builtin',\n\t\t'boolean',\n\t\t'file-descriptor',\n\t\t'operator',\n\t\t'punctuation',\n\t\t'number'\n\t];\n\tvar inside = insideString.variable[1].inside;\n\tfor (var i = 0; i < toBeCopied.length; i++) {\n\t\tinside[toBeCopied[i]] = Prism.languages.bash[toBeCopied[i]];\n\t}\n\n\tPrism.languages.sh = Prism.languages.bash;\n\tPrism.languages.shell = Prism.languages.bash;\n}(Prism));\n","Prism.languages.go = Prism.languages.extend('clike', {\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|`[^`]*`/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'keyword': /\\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\\b/,\n\t'boolean': /\\b(?:_|false|iota|nil|true)\\b/,\n\t'number': [\n\t\t// binary and octal integers\n\t\t/\\b0(?:b[01_]+|o[0-7_]+)i?\\b/i,\n\t\t// hexadecimal integers and floats\n\t\t/\\b0x(?:[a-f\\d_]+(?:\\.[a-f\\d_]*)?|\\.[a-f\\d_]+)(?:p[+-]?\\d+(?:_\\d+)*)?i?(?!\\w)/i,\n\t\t// decimal integers and floats\n\t\t/(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?[\\d_]+)?i?(?!\\w)/i\n\t],\n\t'operator': /[*\\/%^!=]=?|\\+[=+]?|-[=-]?|\\|[=|]?|&(?:=|&|\\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\\.\\.\\./,\n\t'builtin': /\\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\\b/\n});\n\nPrism.languages.insertBefore('go', 'string', {\n\t'char': {\n\t\tpattern: /'(?:\\\\.|[^'\\\\\\r\\n]){0,10}'/,\n\t\tgreedy: true\n\t}\n});\n\ndelete Prism.languages.go['class-name'];\n","(function (Prism) {\n\n\t// Allow only one line break\n\tvar inner = /(?:\\\\.|[^\\\\\\n\\r]|(?:\\n|\\r\\n?)(?![\\r\\n]))/.source;\n\n\t/**\n\t * This function is intended for the creation of the bold or italic pattern.\n\t *\n\t * This also adds a lookbehind group to the given pattern to ensure that the pattern is not backslash-escaped.\n\t *\n\t * _Note:_ Keep in mind that this adds a capturing group.\n\t *\n\t * @param {string} pattern\n\t * @returns {RegExp}\n\t */\n\tfunction createInline(pattern) {\n\t\tpattern = pattern.replace(/<inner>/g, function () { return inner; });\n\t\treturn RegExp(/((?:^|[^\\\\])(?:\\\\{2})*)/.source + '(?:' + pattern + ')');\n\t}\n\n\n\tvar tableCell = /(?:\\\\.|``(?:[^`\\r\\n]|`(?!`))+``|`[^`\\r\\n]+`|[^\\\\|\\r\\n`])+/.source;\n\tvar tableRow = /\\|?__(?:\\|__)+\\|?(?:(?:\\n|\\r\\n?)|(?![\\s\\S]))/.source.replace(/__/g, function () { return tableCell; });\n\tvar tableLine = /\\|?[ \\t]*:?-{3,}:?[ \\t]*(?:\\|[ \\t]*:?-{3,}:?[ \\t]*)+\\|?(?:\\n|\\r\\n?)/.source;\n\n\n\tPrism.languages.markdown = Prism.languages.extend('markup', {});\n\tPrism.languages.insertBefore('markdown', 'prolog', {\n\t\t'front-matter-block': {\n\t\t\tpattern: /(^(?:\\s*[\\r\\n])?)---(?!.)[\\s\\S]*?[\\r\\n]---(?!.)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /^---|---$/,\n\t\t\t\t'front-matter': {\n\t\t\t\t\tpattern: /\\S+(?:\\s+\\S+)*/,\n\t\t\t\t\talias: ['yaml', 'language-yaml'],\n\t\t\t\t\tinside: Prism.languages.yaml\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'blockquote': {\n\t\t\t// > ...\n\t\t\tpattern: /^>(?:[\\t ]*>)*/m,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'table': {\n\t\t\tpattern: RegExp('^' + tableRow + tableLine + '(?:' + tableRow + ')*', 'm'),\n\t\t\tinside: {\n\t\t\t\t'table-data-rows': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + tableLine + ')(?:' + tableRow + ')*$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-data': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-line': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + ')' + tableLine + '$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /\\||:?-{3,}:?/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-header-row': {\n\t\t\t\t\tpattern: RegExp('^' + tableRow + '$'),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-header': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\talias: 'important',\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'code': [\n\t\t\t{\n\t\t\t\t// Prefixed by 4 spaces or 1 tab and preceded by an empty line\n\t\t\t\tpattern: /((?:^|\\n)[ \\t]*\\n|(?:^|\\r\\n?)[ \\t]*\\r\\n?)(?: {4}|\\t).+(?:(?:\\n|\\r\\n?)(?: {4}|\\t).+)*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// ```optional language\n\t\t\t\t// code block\n\t\t\t\t// ```\n\t\t\t\tpattern: /^```[\\s\\S]*?^```$/m,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'code-block': {\n\t\t\t\t\t\tpattern: /^(```.*(?:\\n|\\r\\n?))[\\s\\S]+?(?=(?:\\n|\\r\\n?)^```$)/m,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'code-language': {\n\t\t\t\t\t\tpattern: /^(```).+/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /```/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'title': [\n\t\t\t{\n\t\t\t\t// title 1\n\t\t\t\t// =======\n\n\t\t\t\t// title 2\n\t\t\t\t// -------\n\t\t\t\tpattern: /\\S.*(?:\\n|\\r\\n?)(?:==+|--+)(?=[ \\t]*$)/m,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /==+$|--+$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t// # title 1\n\t\t\t\t// ###### title 6\n\t\t\t\tpattern: /(^\\s*)#.+/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /^#+|#+$/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'hr': {\n\t\t\t// ***\n\t\t\t// ---\n\t\t\t// * * *\n\t\t\t// -----------\n\t\t\tpattern: /(^\\s*)([*-])(?:[\\t ]*\\2){2,}(?=\\s*$)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'list': {\n\t\t\t// * item\n\t\t\t// + item\n\t\t\t// - item\n\t\t\t// 1. item\n\t\t\tpattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'url-reference': {\n\t\t\t// [id]: http://example.com \"Optional title\"\n\t\t\t// [id]: http://example.com 'Optional title'\n\t\t\t// [id]: http://example.com (Optional title)\n\t\t\t// [id]: <http://example.com> \"Optional title\"\n\t\t\tpattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n\t\t\tinside: {\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /^(!?\\[)[^\\]]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n\t\t\t\t'punctuation': /^[\\[\\]!:]|[<>]/\n\t\t\t},\n\t\t\talias: 'url'\n\t\t},\n\t\t'bold': {\n\t\t\t// **strong**\n\t\t\t// __strong__\n\n\t\t\t// allow one nested instance of italic text using the same delimiter\n\t\t\tpattern: createInline(/\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^..)[\\s\\S]+(?=..$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /\\*\\*|__/\n\t\t\t}\n\t\t},\n\t\t'italic': {\n\t\t\t// *em*\n\t\t\t// _em_\n\n\t\t\t// allow one nested instance of bold text using the same delimiter\n\t\t\tpattern: createInline(/\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^.)[\\s\\S]+(?=.$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /[*_]/\n\t\t\t}\n\t\t},\n\t\t'strike': {\n\t\t\t// ~~strike through~~\n\t\t\t// ~strike~\n\t\t\t// eslint-disable-next-line regexp/strict\n\t\t\tpattern: createInline(/(~~?)(?:(?!~)<inner>)+\\2/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^~~?)[\\s\\S]+(?=\\1$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /~~?/\n\t\t\t}\n\t\t},\n\t\t'code-snippet': {\n\t\t\t// `code`\n\t\t\t// ``code``\n\t\t\tpattern: /(^|[^\\\\`])(?:``[^`\\r\\n]+(?:`[^`\\r\\n]+)*``(?!`)|`[^`\\r\\n]+`(?!`))/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\talias: ['code', 'keyword']\n\t\t},\n\t\t'url': {\n\t\t\t// [example](http://example.com \"Optional title\")\n\t\t\t// [example][id]\n\t\t\t// [example] [id]\n\t\t\tpattern: createInline(/!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)|[ \\t]?\\[(?:(?!\\])<inner>)+\\])/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'operator': /^!/,\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^\\[)[^\\]]+(?=\\])/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /(^\\][ \\t]?\\[)[^\\]]+(?=\\]$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'url': {\n\t\t\t\t\tpattern: /(^\\]\\()[^\\s)]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: /(^[ \\t]+)\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t['url', 'bold', 'italic', 'strike'].forEach(function (token) {\n\t\t['url', 'bold', 'italic', 'strike', 'code-snippet'].forEach(function (inside) {\n\t\t\tif (token !== inside) {\n\t\t\t\tPrism.languages.markdown[token].inside.content.inside[inside] = Prism.languages.markdown[inside];\n\t\t\t}\n\t\t});\n\t});\n\n\tPrism.hooks.add('after-tokenize', function (env) {\n\t\tif (env.language !== 'markdown' && env.language !== 'md') {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction walkTokens(tokens) {\n\t\t\tif (!tokens || typeof tokens === 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = tokens.length; i < l; i++) {\n\t\t\t\tvar token = tokens[i];\n\n\t\t\t\tif (token.type !== 'code') {\n\t\t\t\t\twalkTokens(token.content);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Add the correct `language-xxxx` class to this code block. Keep in mind that the `code-language` token\n\t\t\t\t * is optional. But the grammar is defined so that there is only one case we have to handle:\n\t\t\t\t *\n\t\t\t\t * token.content = [\n\t\t\t\t *     <span class=\"punctuation\">```</span>,\n\t\t\t\t *     <span class=\"code-language\">xxxx</span>,\n\t\t\t\t *     '\\n', // exactly one new lines (\\r or \\n or \\r\\n)\n\t\t\t\t *     <span class=\"code-block\">...</span>,\n\t\t\t\t *     '\\n', // exactly one new lines again\n\t\t\t\t *     <span class=\"punctuation\">```</span>\n\t\t\t\t * ];\n\t\t\t\t */\n\n\t\t\t\tvar codeLang = token.content[1];\n\t\t\t\tvar codeBlock = token.content[3];\n\n\t\t\t\tif (codeLang && codeBlock &&\n\t\t\t\t\tcodeLang.type === 'code-language' && codeBlock.type === 'code-block' &&\n\t\t\t\t\ttypeof codeLang.content === 'string') {\n\n\t\t\t\t\t// this might be a language that Prism does not support\n\n\t\t\t\t\t// do some replacements to support C++, C#, and F#\n\t\t\t\t\tvar lang = codeLang.content.replace(/\\b#/g, 'sharp').replace(/\\b\\+\\+/g, 'pp');\n\t\t\t\t\t// only use the first word\n\t\t\t\t\tlang = (/[a-z][\\w-]*/i.exec(lang) || [''])[0].toLowerCase();\n\t\t\t\t\tvar alias = 'language-' + lang;\n\n\t\t\t\t\t// add alias\n\t\t\t\t\tif (!codeBlock.alias) {\n\t\t\t\t\t\tcodeBlock.alias = [alias];\n\t\t\t\t\t} else if (typeof codeBlock.alias === 'string') {\n\t\t\t\t\t\tcodeBlock.alias = [codeBlock.alias, alias];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcodeBlock.alias.push(alias);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twalkTokens(env.tokens);\n\t});\n\n\tPrism.hooks.add('wrap', function (env) {\n\t\tif (env.type !== 'code-block') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar codeLang = '';\n\t\tfor (var i = 0, l = env.classes.length; i < l; i++) {\n\t\t\tvar cls = env.classes[i];\n\t\t\tvar match = /language-(.+)/.exec(cls);\n\t\t\tif (match) {\n\t\t\t\tcodeLang = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar grammar = Prism.languages[codeLang];\n\n\t\tif (!grammar) {\n\t\t\tif (codeLang && codeLang !== 'none' && Prism.plugins.autoloader) {\n\t\t\t\tvar id = 'md-' + new Date().valueOf() + '-' + Math.floor(Math.random() * 1e16);\n\t\t\t\tenv.attributes['id'] = id;\n\n\t\t\t\tPrism.plugins.autoloader.loadLanguages(codeLang, function () {\n\t\t\t\t\tvar ele = document.getElementById(id);\n\t\t\t\t\tif (ele) {\n\t\t\t\t\t\tele.innerHTML = Prism.highlight(ele.textContent, Prism.languages[codeLang], codeLang);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tenv.content = Prism.highlight(textContent(env.content), grammar, codeLang);\n\t\t}\n\t});\n\n\tvar tagPattern = RegExp(Prism.languages.markup.tag.pattern.source, 'gi');\n\n\t/**\n\t * A list of known entity names.\n\t *\n\t * This will always be incomplete to save space. The current list is the one used by lowdash's unescape function.\n\t *\n\t * @see {@link https://github.com/lodash/lodash/blob/2da024c3b4f9947a48517639de7560457cd4ec6c/unescape.js#L2}\n\t */\n\tvar KNOWN_ENTITY_NAMES = {\n\t\t'amp': '&',\n\t\t'lt': '<',\n\t\t'gt': '>',\n\t\t'quot': '\"',\n\t};\n\n\t// IE 11 doesn't support `String.fromCodePoint`\n\tvar fromCodePoint = String.fromCodePoint || String.fromCharCode;\n\n\t/**\n\t * Returns the text content of a given HTML source code string.\n\t *\n\t * @param {string} html\n\t * @returns {string}\n\t */\n\tfunction textContent(html) {\n\t\t// remove all tags\n\t\tvar text = html.replace(tagPattern, '');\n\n\t\t// decode known entities\n\t\ttext = text.replace(/&(\\w{1,8}|#x?[\\da-f]{1,8});/gi, function (m, code) {\n\t\t\tcode = code.toLowerCase();\n\n\t\t\tif (code[0] === '#') {\n\t\t\t\tvar value;\n\t\t\t\tif (code[1] === 'x') {\n\t\t\t\t\tvalue = parseInt(code.slice(2), 16);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = Number(code.slice(1));\n\t\t\t\t}\n\n\t\t\t\treturn fromCodePoint(value);\n\t\t\t} else {\n\t\t\t\tvar known = KNOWN_ENTITY_NAMES[code];\n\t\t\t\tif (known) {\n\t\t\t\t\treturn known;\n\t\t\t\t}\n\n\t\t\t\t// unable to decode\n\t\t\t\treturn m;\n\t\t\t}\n\t\t});\n\n\t\treturn text;\n\t}\n\n\tPrism.languages.md = Prism.languages.markdown;\n\n}(Prism));\n","Prism.languages.julia = {\n\t'comment': {\n\t\t// support one level of nested comments\n\t\t// https://github.com/JuliaLang/julia/pull/6128\n\t\tpattern: /(^|[^\\\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,\n\t\tlookbehind: true\n\t},\n\t'regex': {\n\t\t// https://docs.julialang.org/en/v1/manual/strings/#Regular-Expressions-1\n\t\tpattern: /r\"(?:\\\\.|[^\"\\\\\\r\\n])*\"[imsx]{0,4}/,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\t// https://docs.julialang.org/en/v1/manual/strings/#String-Basics-1\n\t\t// https://docs.julialang.org/en/v1/manual/strings/#non-standard-string-literals-1\n\t\t// https://docs.julialang.org/en/v1/manual/running-external-programs/#Running-External-Programs-1\n\t\tpattern: /\"\"\"[\\s\\S]+?\"\"\"|(?:\\b\\w+)?\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|`(?:[^\\\\`\\r\\n]|\\\\.)*`/,\n\t\tgreedy: true\n\t},\n\t'char': {\n\t\t// https://docs.julialang.org/en/v1/manual/strings/#man-characters-1\n\t\tpattern: /(^|[^\\w'])'(?:\\\\[^\\r\\n][^'\\r\\n]*|[^\\\\\\r\\n])'/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'keyword': /\\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'number': /(?:\\b(?=\\d)|\\B(?=\\.))(?:0[box])?(?:[\\da-f]+(?:_[\\da-f]+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[efp][+-]?\\d+(?:_\\d+)*)?j?/i,\n\t// https://docs.julialang.org/en/v1/manual/mathematical-operations/\n\t// https://docs.julialang.org/en/v1/manual/mathematical-operations/#Operator-Precedence-and-Associativity-1\n\t'operator': /&&|\\|\\||[-+*^%÷⊻&$\\\\]=?|\\/[\\/=]?|!=?=?|\\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~≠≤≥'√∛]/,\n\t'punctuation': /::?|[{}[\\]();,.?]/,\n\t// https://docs.julialang.org/en/v1/base/numbers/#Base.im\n\t'constant': /\\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\\b|[πℯ]/\n};\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n// Code sourced from https://github.com/distillpub/template.git\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-lua';\nimport 'prismjs/components/prism-bash';\nimport 'prismjs/components/prism-go';\nimport 'prismjs/components/prism-markdown';\nimport 'prismjs/components/prism-julia';\nimport css from 'prismjs/themes/prism.css';\n\nimport { Template } from '../mixins/template.js';\nimport { Mutating } from '../mixins/mutating.js';\n\nconst T = Template('d-code', `\n<style>\n\ncode {\n  white-space: nowrap;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 2px;\n  padding: 4px 7px;\n  font-size: 15px;\n  color: rgba(0, 0, 0, 0.6);\n}\n\npre code {\n  display: block;\n  border-left: 2px solid rgba(0, 0, 0, .1);\n  padding: 0 0 0 36px;\n}\n\n${css}\n</style>\n\n<code id=\"code-container\"></code>\n\n`);\n\nexport class Code extends Mutating(T(HTMLElement)) {\n\n  renderContent() {\n\n    // check if language can be highlighted\n    this.languageName = this.getAttribute('language');\n    if (!this.languageName) {\n      console.warn('You need to provide a language attribute to your <d-code> block to let us know how to highlight your code; e.g.:\\n <d-code language=\"python\">zeros = np.zeros(shape)</d-code>.');\n      return;\n    }\n    const language = Prism.languages[this.languageName];\n    if (language == undefined) {\n      console.warn(`Distill does not yet support highlighting your code block in \"${this.languageName}'.`);\n      return;\n    }\n\n    let content = this.textContent;\n    const codeTag = this.shadowRoot.querySelector('#code-container');\n\n    if (this.hasAttribute('block')) {\n      // normalize the tab indents\n      content = content.replace(/\\n/, '');\n      const tabs = content.match(/\\s*/);\n      content = content.replace(new RegExp('\\n' + tabs, 'g'), '\\n');\n      content = content.trim();\n      // wrap code block in pre tag if needed\n      if (codeTag.parentNode instanceof ShadowRoot) {\n        const preTag = document.createElement('pre');\n        this.shadowRoot.removeChild(codeTag);\n        preTag.appendChild(codeTag);\n        this.shadowRoot.appendChild(preTag);\n      }\n\n    }\n\n    codeTag.className = `language-${this.languageName}`;\n    codeTag.innerHTML = Prism.highlight(content, language);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template.js';\n\nconst T = Template('d-footnote', `\n<style>\n\nd-math[block] {\n  display: block;\n}\n\n:host {\n\n}\n\nsup {\n  line-height: 1em;\n  font-size: 0.75em;\n  position: relative;\n  top: -.5em;\n  vertical-align: baseline;\n}\n\nspan {\n  color: hsla(206, 90%, 20%, 0.7);\n  cursor: default;\n}\n\n.footnote-container {\n  padding: 10px;\n}\n\n</style>\n\n<d-hover-box>\n  <div class=\"footnote-container\">\n    <slot id=\"slot\"></slot>\n  </div>\n</d-hover-box>\n\n<sup>\n  <span id=\"fn-\" data-hover-ref=\"\"></span>\n</sup>\n\n`);\n\nexport class Footnote extends T(HTMLElement) {\n\n  constructor() {\n    super();\n\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver(this.notify);\n    observer.observe(this, options);\n  }\n\n  notify() {\n    const options = { detail: this, bubbles: true };\n    const event = new CustomEvent('onFootnoteChanged', options);\n    document.dispatchEvent(event);\n  }\n\n  connectedCallback() {\n    // listen and notify about changes to slotted content\n    // const slot = this.shadowRoot.querySelector('#slot');\n    // console.warn(slot.textContent);\n    // slot.addEventListener('slotchange', this.notify);\n    this.hoverBox = this.root.querySelector('d-hover-box');\n    window.customElements.whenDefined('d-hover-box').then(() => {\n      this.hoverBox.listen(this);\n    });\n    // create numeric ID\n    Footnote.currentFootnoteId += 1;\n    const IdString = Footnote.currentFootnoteId.toString();\n    this.root.host.id = 'd-footnote-' + IdString;\n\n    // set up hidden hover box\n    const id = 'dt-fn-hover-box-' + IdString;\n    this.hoverBox.id = id\n\n    // set up visible footnote marker\n    const span = this.root.querySelector('#fn-');\n    span.setAttribute('id', 'fn-' + IdString);\n    span.setAttribute('data-hover-ref', id);\n    span.textContent = IdString;\n  }\n\n}\n\nFootnote.currentFootnoteId = 0;\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\n\nconst T = Template('d-footnote-list', `\n<style>\n\nd-footnote-list {\n  contain: layout style;\n}\n\nd-footnote-list > * {\n  grid-column: text;\n}\n\nd-footnote-list a.footnote-backlink {\n  color: rgba(0,0,0,0.3);\n  padding-left: 0.5em;\n}\n\n</style>\n\n<h3>Footnotes</h3>\n<ol></ol>\n`, false);\n\nexport class FootnoteList extends T(HTMLElement) {\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.list = this.root.querySelector('ol');\n    // footnotes list is initially hidden\n    this.root.style.display = 'none';\n    // look through document and register existing footnotes\n    // Store.subscribeTo('footnotes', (footnote) => {\n    //   this.renderFootnote(footnote);\n    // });\n  }\n\n  // TODO: could optimize this to accept individual footnotes?\n  set footnotes(footnotes) {\n    this.list.innerHTML = '';\n    if (footnotes.length) {\n      // ensure footnote list is visible\n      this.root.style.display = '';\n\n      for (const footnote of footnotes) {\n        // construct and append list item to show footnote\n        const listItem = document.createElement('li');\n        listItem.id = footnote.id + '-listing';\n        listItem.innerHTML = footnote.innerHTML;\n\n        const backlink = document.createElement('a');\n        backlink.setAttribute('class', 'footnote-backlink');\n        backlink.textContent = '[↩]';\n        backlink.href = '#' + footnote.id;\n\n        listItem.appendChild(backlink);\n        this.list.appendChild(listItem);\n      }\n    } else {\n      // ensure footnote list is invisible\n      this.root.style.display = 'none';\n    }\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template.js';\n\nconst T = Template('d-hover-box', `\n<style>\n\n:host {\n  position: absolute;\n  width: 100%;\n  left: 0px;\n  z-index: 10000;\n  display: none;\n  white-space: normal\n}\n\n.container {\n  position: relative;\n  width: 704px;\n  max-width: 100vw;\n  margin: 0 auto;\n}\n\n.panel {\n  position: absolute;\n  font-size: 1rem;\n  line-height: 1.5em;\n  top: 0;\n  left: 0;\n  width: 100%;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  background-color: rgba(250, 250, 250, 0.95);\n  box-shadow: 0 0 7px rgba(0, 0, 0, 0.1);\n  border-radius: 4px;\n  box-sizing: border-box;\n\n  backdrop-filter: blur(2px);\n  -webkit-backdrop-filter: blur(2px);\n}\n\n</style>\n\n<div class=\"container\">\n  <div class=\"panel\">\n    <slot></slot>\n  </div>\n</div>\n`);\n\nexport class HoverBox extends T(HTMLElement) {\n\n  constructor() {\n    super();\n  }\n\n  connectedCallback() {\n\n  }\n\n  listen(element) {\n    // console.log(element)\n    this.bindDivEvents(this);\n    this.bindTriggerEvents(element);\n    // this.style.display = \"block\";\n  }\n\n  bindDivEvents(element) {\n    // For mice, same behavior as hovering on links\n    element.addEventListener('mouseover', () => {\n      if (!this.visible) this.showAtNode(element);\n      this.stopTimeout();\n    });\n    element.addEventListener('mouseout', () => {\n      this.extendTimeout(500);\n    });\n    // Don't trigger body touchstart event when touching within box\n    element.addEventListener('touchstart', (event) => {\n      event.stopPropagation();\n    }, {passive: true});\n    // Close box when touching outside box\n    document.body.addEventListener('touchstart', () => {\n      this.hide();\n    }, {passive: true});\n  }\n\n  bindTriggerEvents(node) {\n    node.addEventListener('mouseover', () => {\n      if (!this.visible) {\n        this.showAtNode(node);\n      }\n      this.stopTimeout();\n    });\n\n    node.addEventListener('mouseout', () => {\n      this.extendTimeout(300);\n    });\n\n    node.addEventListener('touchstart', (event) => {\n      if (this.visible) {\n        this.hide();\n      } else {\n        this.showAtNode(node);\n      }\n      // Don't trigger body touchstart event when touching link\n      event.stopPropagation();\n    }, {passive: true});\n  }\n\n  show(position) {\n    this.visible = true;\n    this.style.display = 'block';\n    // 10px extra offset from element\n    this.style.top = Math.round(position[1] + 10) + 'px';\n  }\n\n  showAtNode(node) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop\n    const bbox = node.getBoundingClientRect();\n    this.show([node.offsetLeft + bbox.width, node.offsetTop + bbox.height]);\n  }\n\n  hide() {\n    this.visible = false;\n    this.style.display = 'none';\n    this.stopTimeout();\n  }\n\n  stopTimeout() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  extendTimeout(time) {\n    this.stopTimeout();\n    this.timeout = setTimeout(() => {\n      this.hide();\n    }, time);\n  }\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport class Title extends HTMLElement {\n  static get is() { return 'd-title'; }\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\n\nconst T = Template('d-references', `\n<style>\nd-references {\n  display: block;\n}\n</style>\n`, false);\n\nexport  class References extends T(HTMLElement) {\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nexport class TOC extends HTMLElement {\n\n  static get is() { return 'd-toc'; }\n\n  connectedCallback() {\n    if (!this.getAttribute('prerendered')) {\n      window.onload = () => {\n        const article = document.querySelector('d-article');\n        const headings = article.querySelectorAll('h2, h3');\n        renderTOC(this, headings);\n      };\n    }\n  }\n\n}\n\nexport function renderTOC(element, headings) {\n\n  let ToC =`\n  <style>\n\n  d-toc {\n    contain: layout style;\n    display: block;\n  }\n\n  d-toc ul {\n    padding-left: 0;\n  }\n\n  d-toc ul > ul {\n    padding-left: 24px;\n  }\n\n  d-toc a {\n    border-bottom: none;\n    text-decoration: none;\n  }\n\n  </style>\n  <nav role=\"navigation\" class=\"table-of-contents\"></nav>\n  <h2>Table of contents</h2>\n  <ul>`;\n\n  for (const el of headings) {\n    // should element be included in TOC?\n    const isInTitle = el.parentElement.tagName == 'D-TITLE';\n    const isException = el.getAttribute('no-toc');\n    if (isInTitle || isException) continue;\n    // create TOC entry\n    const title = el.textContent;\n    const link = '#' + el.getAttribute('id');\n\n    let newLine = '<li>' + '<a href=\"' + link + '\">' + title + '</a>' + '</li>';\n    if (el.tagName == 'H3') {\n      newLine = '<ul>' + newLine + '</ul>';\n    } else {\n      newLine += '<br>';\n    }\n    ToC += newLine;\n\n  }\n\n  ToC += '</ul></nav>';\n  element.innerHTML = ToC;\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\n// Figure\n//\n// d-figure provides a state-machine of visibility events:\n//\n//                         scroll out of view\n//                         +----------------+\n//   *do work here*        |                |\n// +----------------+    +-+---------+    +-v---------+\n// | ready          +----> onscreen  |    | offscreen |\n// +----------------+    +---------^-+    +---------+-+\n//                                 |                |\n//                                 +----------------+\n//                                  scroll into view\n//\n\nexport class Figure extends HTMLElement {\n\n  static get is() { return 'd-figure'; }\n\n  static get readyQueue() {\n    if (!Figure._readyQueue) {\n      Figure._readyQueue = [];\n    }\n    return Figure._readyQueue;\n  }\n\n  static addToReadyQueue(figure) {\n    if (Figure.readyQueue.indexOf(figure) === -1) {\n      Figure.readyQueue.push(figure);\n      Figure.runReadyQueue();\n    }\n  }\n\n  static runReadyQueue() {\n    // console.log(\"Checking to run readyQueue, length: \" + Figure.readyQueue.length + \", scrolling: \" + Figure.isScrolling);\n    // if (Figure.isScrolling) return;\n    // console.log(\"Running ready Queue\");\n    const figure = Figure.readyQueue\n      .sort((a,b) => a._seenOnScreen - b._seenOnScreen )\n      .filter((figure) => !figure._ready)\n      .pop();\n    if (figure) {\n      figure.ready();\n      requestAnimationFrame(Figure.runReadyQueue);\n    }\n\n  }\n\n  constructor() {\n    super();\n    // debugger\n    this._ready = false;\n    this._onscreen = false;\n    this._offscreen = true;\n  }\n\n  connectedCallback() {\n    this.loadsWhileScrolling = this.hasAttribute('loadsWhileScrolling');\n    Figure.marginObserver.observe(this);\n    Figure.directObserver.observe(this);\n  }\n\n  disconnectedCallback() {\n    Figure.marginObserver.unobserve(this);\n    Figure.directObserver.unobserve(this);\n  }\n\n  // We use two separate observers:\n  // One with an extra 1000px margin to warn if the viewpoint gets close,\n  // And one for the actual on/off screen events\n\n  static get marginObserver() {\n    if (!Figure._marginObserver) {\n      // if (!('IntersectionObserver' in window)) {\n      //   throw new Error('no interscetionobbserver!');\n      // }\n      const viewportHeight = window.innerHeight;\n      const margin = Math.floor(2 * viewportHeight);\n      const options = {rootMargin: margin + 'px 0px ' + margin + 'px 0px', threshold: 0.01};\n      const callback = Figure.didObserveMarginIntersection;\n      const observer = new IntersectionObserver(callback, options);\n      Figure._marginObserver = observer;\n    }\n    return Figure._marginObserver;\n  }\n\n  static didObserveMarginIntersection(entries) {\n    for (const entry of entries) {\n      const figure = entry.target;\n      if (entry.isIntersecting && !figure._ready) {\n        Figure.addToReadyQueue(figure);\n      }\n    }\n  }\n\n  static get directObserver() {\n    if (!Figure._directObserver) {\n      Figure._directObserver = new IntersectionObserver(\n        Figure.didObserveDirectIntersection, {\n          rootMargin: '0px', threshold: [0, 1.0],\n        }\n      );\n    }\n    return Figure._directObserver;\n  }\n\n  static didObserveDirectIntersection(entries) {\n    for (const entry of entries) {\n      const figure = entry.target;\n      if (entry.isIntersecting) {\n        figure._seenOnScreen = new Date();\n        // if (!figure._ready) { figure.ready(); }\n        if (figure._offscreen) { figure.onscreen(); }\n      } else {\n        if (figure._onscreen) { figure.offscreen(); }\n      }\n    }\n  }\n\n  // Notify listeners that registered late, too:\n\n  addEventListener(eventName, callback) {\n    super.addEventListener(eventName, callback);\n    // if we had already dispatched something while presumingly no one was listening, we do so again\n    // debugger\n    if (eventName === 'ready') {\n      if (Figure.readyQueue.indexOf(this) !== -1) {\n        this._ready = false;\n        Figure.runReadyQueue();\n      }\n    }\n    if (eventName === 'onscreen') {\n      this.onscreen();\n    }\n  }\n\n  // Custom Events\n\n  ready() {\n    // debugger\n    this._ready = true;\n    Figure.marginObserver.unobserve(this);\n    const event = new CustomEvent('ready');\n    this.dispatchEvent(event);\n  }\n\n  onscreen() {\n    this._onscreen = true;\n    this._offscreen = false;\n    const event = new CustomEvent('onscreen');\n    this.dispatchEvent(event);\n  }\n\n  offscreen() {\n    this._onscreen = false;\n    this._offscreen = true;\n    const event = new CustomEvent('offscreen');\n    this.dispatchEvent(event);\n  }\n\n}\n\nif (typeof window !== 'undefined') {\n\n  Figure.isScrolling = false;\n  let timeout;\n  const resetTimer = () => {\n    Figure.isScrolling = true;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      Figure.isScrolling = false;\n      Figure.runReadyQueue();\n    }, 500);\n  };\n  window.addEventListener('scroll', resetTimer, true);\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\n\n// This overlay is not secure.\n// It is only meant as a social deterrent.\n\nconst productionHostname = 'distill.pub';\nconst T = Template('d-interstitial', `\n<style>\n\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: white;\n\n  opacity: 1;\n  visibility: visible;\n\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  z-index: 2147483647 /* MaxInt32 */\n\n}\n\n.container {\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n  max-width: 420px;\n  padding: 2em;\n}\n\nh1 {\n  text-decoration: underline;\n  text-decoration-color: hsl(0,100%,40%);\n  -webkit-text-decoration-color: hsl(0,100%,40%);\n  margin-bottom: 1em;\n  line-height: 1.5em;\n}\n\ninput[type=\"password\"] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  -webkit-border-radius: none;\n  -moz-border-radius: none;\n  -ms-border-radius: none;\n  -o-border-radius: none;\n  border-radius: none;\n  outline: none;\n\n  font-size: 18px;\n  background: none;\n  width: 25%;\n  padding: 10px;\n  border: none;\n  border-bottom: solid 2px #999;\n  transition: border .3s;\n}\n\ninput[type=\"password\"]:focus {\n  border-bottom: solid 2px #333;\n}\n\ninput[type=\"password\"].wrong {\n  border-bottom: solid 2px hsl(0,100%,40%);\n}\n\np small {\n  color: #888;\n}\n\n.logo {\n  position: relative;\n  font-size: 1.5em;\n  margin-bottom: 3em;\n}\n\n.logo svg {\n  width: 36px;\n  position: relative;\n  top: 6px;\n  margin-right: 2px;\n}\n\n.logo svg path {\n  fill: none;\n  stroke: black;\n  stroke-width: 2px;\n}\n\n</style>\n\n<div class=\"overlay\">\n  <div class=\"container\">\n    <h1>This article is in review.</h1>\n    <p>Do not share this URL or the contents of this article. Thank you!</p>\n    <input id=\"interstitial-password-input\" type=\"password\" name=\"password\" autofocus/>\n    <p><small>Enter the password we shared with you as part of the review process to view the article.</small></p>\n  </div>\n</div>\n`);\n\nexport class Interstitial extends T(HTMLElement) {\n\n  connectedCallback() {\n    if (this.shouldRemoveSelf()) {\n      this.parentElement.removeChild(this);\n    } else {\n      const passwordInput = this.root.querySelector('#interstitial-password-input');\n      passwordInput.oninput = (event) => this.passwordChanged(event);\n    }\n  }\n\n  passwordChanged(event) {\n    const entered = event.target.value;\n    if (entered === this.password) {\n      console.log('Correct password entered.');\n      this.parentElement.removeChild(this);\n      if (typeof(Storage) !== 'undefined') {\n        console.log('Saved that correct password was entered.');\n        localStorage.setItem(this.localStorageIdentifier(), 'true');\n      }\n    }\n  }\n\n  shouldRemoveSelf() {\n    // should never be visible in production\n    if (window && window.location.hostname === productionHostname) {\n      console.warn('Interstitial found on production, hiding it.');\n      return true\n    }\n    // should only have to enter password once\n    if (typeof(Storage) !== 'undefined') {\n      if (localStorage.getItem(this.localStorageIdentifier()) === 'true') {\n        console.log('Loaded that correct password was entered before; skipping interstitial.');\n        return true;\n      }\n    }\n    // otherwise, leave visible\n    return false;\n  }\n\n  localStorageIdentifier() {\n    const prefix = 'distill-drafts'\n    const suffix = 'interstitial-password-correct';\n    return prefix + (window ? window.location.pathname : '-') + suffix\n  }\n\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0 ≅ u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale.js\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat.js\";\nimport {utcParse} from \"./defaultLocale.js\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_join from \"./join\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\nimport { scaleLinear } from 'd3-scale';\nimport { range } from 'd3-array';\nimport { drag } from 'd3-drag';\nimport { select, event as currentEvent } from 'd3-selection';\n\nconst T = Template('d-slider', `\n<style>\n  :host {\n    position: relative;\n    display: inline-block;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .background {\n    padding: 9px 0;\n    color: white;\n    position: relative;\n  }\n\n  .track {\n    height: 3px;\n    width: 100%;\n    border-radius: 2px;\n    background-color: hsla(0, 0%, 0%, 0.2);\n  }\n\n  .track-fill {\n    position: absolute;\n    top: 9px;\n    height: 3px;\n    border-radius: 4px;\n    background-color: hsl(24, 100%, 50%);\n  }\n\n  .knob-container {\n    position: absolute;\n    top: 10px;\n  }\n\n  .knob {\n    position: absolute;\n    top: -6px;\n    left: -6px;\n    width: 13px;\n    height: 13px;\n    background-color: hsl(24, 100%, 50%);\n    border-radius: 50%;\n    transition-property: transform;\n    transition-duration: 0.18s;\n    transition-timing-function: ease;\n  }\n  .mousedown .knob {\n    transform: scale(1.5);\n  }\n\n  .knob-highlight {\n    position: absolute;\n    top: -6px;\n    left: -6px;\n    width: 13px;\n    height: 13px;\n    background-color: hsla(0, 0%, 0%, 0.1);\n    border-radius: 50%;\n    transition-property: transform;\n    transition-duration: 0.18s;\n    transition-timing-function: ease;\n  }\n\n  .focus .knob-highlight {\n    transform: scale(2);\n  }\n\n  .ticks {\n    position: absolute;\n    top: 16px;\n    height: 4px;\n    width: 100%;\n    z-index: -1;\n  }\n\n  .ticks .tick {\n    position: absolute;\n    height: 100%;\n    border-left: 1px solid hsla(0, 0%, 0%, 0.2);\n  }\n\n</style>\n\n  <div class='background'>\n    <div class='track'></div>\n    <div class='track-fill'></div>\n    <div class='knob-container'>\n      <div class='knob-highlight'></div>\n      <div class='knob'></div>\n    </div>\n    <div class='ticks'></div>\n  </div>\n`);\n\n// ARIA\n// If the slider has a visible label, it is referenced by aria-labelledby on the slider element. Otherwise, the slider element has a label provided by aria-label.\n// If the slider is vertically oriented, it has aria-orientation set to vertical. The default value of aria-orientation for a slider is horizontal.\n\nconst keyCodes = {\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  pageUp: 33,\n  pageDown: 34,\n  end: 35,\n  home: 36\n};\n\nexport class Slider extends T(HTMLElement) {\n\n\n  connectedCallback() {\n    this.connected = true;\n    this.setAttribute('role', 'slider');\n    // Makes the element tab-able.\n    if (!this.hasAttribute('tabindex')) { this.setAttribute('tabindex', 0); }\n\n    // Keeps track of keyboard vs. mouse interactions for focus rings\n    this.mouseEvent = false;\n\n    // Handles to shadow DOM elements\n    this.knob = this.root.querySelector('.knob-container');\n    this.background = this.root.querySelector('.background');\n    this.trackFill = this.root.querySelector('.track-fill');\n    this.track = this.root.querySelector('.track');\n\n    // Default values for attributes\n    this.min = this.min ? this.min : 0;\n    this.max = this.max ? this.max : 100;\n    this.scale = scaleLinear().domain([this.min, this.max]).range([0, 1]).clamp(true);\n\n    this.origin = this.origin !== undefined ? this.origin : this.min;\n    this.step = this.step ? this.step : 1;\n    this.update(this.value ? this.value : 0);\n\n    this.ticks = this.ticks ? this.ticks : false;\n    this.renderTicks();\n\n    this.drag = drag()\n      .container(this.background)\n      .on('start', () => {\n        this.mouseEvent = true;\n        this.background.classList.add('mousedown');\n        this.changeValue = this.value;\n        this.dragUpdate();\n      })\n      .on('drag', () => {\n        this.dragUpdate();\n      })\n      .on('end', () => {\n        this.mouseEvent = false;\n        this.background.classList.remove('mousedown');\n        this.dragUpdate();\n        if (this.changeValue !== this.value) this.dispatchChange();\n        this.changeValue = this.value;\n      });\n    this.drag(select(this.background));\n\n    this.addEventListener('focusin', () => {\n      if(!this.mouseEvent) {\n        this.background.classList.add('focus');\n      }\n    });\n    this.addEventListener('focusout', () => {\n      this.background.classList.remove('focus');\n    });\n    this.addEventListener('keydown', this.onKeyDown);\n\n  }\n\n  static get observedAttributes() {return ['min', 'max', 'value', 'step', 'ticks', 'origin', 'tickValues', 'tickLabels']; }\n\n  attributeChangedCallback(attr, oldValue, newValue) {\n    if (isNaN(newValue) || newValue === undefined || newValue === null) return;\n    if (attr == 'min') {\n      this.min = +newValue;\n      this.setAttribute('aria-valuemin', this.min);\n    }\n    if (attr == 'max') {\n      this.max = +newValue;\n      this.setAttribute('aria-valuemax', this.max);\n    }\n    if (attr == 'value') {\n      this.update(+newValue);\n    }\n    if (attr == 'origin') {\n      this.origin = +newValue;\n      // this.update(this.value);\n    }\n    if (attr == 'step') {\n      if (newValue > 0) {\n        this.step = +newValue;\n      }\n    }\n    if (attr == 'ticks') {\n      this.ticks = (newValue === '' ? true : newValue);\n    }\n  }\n\n  onKeyDown(event) {\n    this.changeValue = this.value;\n    let stopPropagation = false;\n    switch (event.keyCode) {\n    case keyCodes.left:\n    case keyCodes.down:\n      this.update(this.value - this.step);\n      stopPropagation = true;\n      break;\n    case keyCodes.right:\n    case keyCodes.up:\n      this.update(this.value + this.step);\n      stopPropagation = true;\n      break;\n    case keyCodes.pageUp:\n      this.update(this.value + this.step * 10);\n      stopPropagation = true;\n      break;\n\n    case keyCodes.pageDown:\n      this.update(this.value + this.step * 10);\n      stopPropagation = true;\n      break;\n    case keyCodes.home:\n      this.update(this.min);\n      stopPropagation = true;\n      break;\n    case keyCodes.end:\n      this.update(this.max);\n      stopPropagation = true;\n      break;\n    default:\n      break;\n    }\n    if (stopPropagation) {\n      this.background.classList.add('focus');\n      event.preventDefault();\n      event.stopPropagation();\n      if (this.changeValue !== this.value) this.dispatchChange();\n    }\n  }\n\n  validateValueRange(min, max, value) {\n    return Math.max(Math.min(max, value), min);\n  }\n\n  quantizeValue(value, step) {\n    return Math.round(value / step) * step;\n  }\n\n  dragUpdate() {\n    const bbox = this.background.getBoundingClientRect();\n    const x = currentEvent.x;\n    const width = bbox.width;\n    this.update(this.scale.invert(x / width));\n  }\n\n  update(value) {\n    let v = value;\n    if (this.step !== 'any') {\n      v = this.quantizeValue(value, this.step);\n    }\n    v = this.validateValueRange(this.min, this.max, v);\n    if (this.connected) {\n      this.knob.style.left = this.scale(v) * 100 + '%';\n      this.trackFill.style.width = this.scale(this.min + Math.abs(v - this.origin)) * 100 + '%';\n      this.trackFill.style.left = this.scale(Math.min(v, this.origin)) * 100 + '%';\n    }\n    if (this.value !== v) {\n      this.value = v;\n      this.setAttribute('aria-valuenow', this.value);\n      this.dispatchInput();\n    }\n  }\n\n  // Dispatches only on a committed change (basically only on mouseup).\n  dispatchChange() {\n    const e = new Event('change');\n    this.dispatchEvent(e, {});\n  }\n\n  // Dispatches on each value change.\n  dispatchInput() {\n    const e = new Event('input');\n    this.dispatchEvent(e, {});\n  }\n\n  renderTicks() {\n    const ticksContainer = this.root.querySelector('.ticks');\n    if (this.ticks !== false) {\n      let tickData = [];\n      if (this.ticks > 0) {\n        tickData = this.scale.ticks(this.ticks);\n      } else if (this.step === 'any') {\n        tickData = this.scale.ticks();\n      } else {\n        tickData = range(this.min, this.max + 1e-6, this.step);\n      }\n      tickData.forEach(d => {\n        const tick = document.createElement('div');\n        tick.classList.add('tick');\n        tick.style.left = this.scale(d) * 100 + '%';\n        ticksContainer.appendChild(tick);\n      });\n    } else {\n      ticksContainer.style.display = 'none';\n    }\n  }\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","\n// Code sourced from https://github.com/distillpub/template.git\n\nexport const headerTemplate = `\n<style>\ndistill-header {\n  position: relative;\n  height: 60px;\n  background-color: hsl(200, 60%, 15%);\n  width: 100%;\n  box-sizing: border-box;\n  z-index: 2;\n  color: rgba(0, 0, 0, 0.8);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.08);\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);\n}\ndistill-header .content {\n  height: 70px;\n  grid-column: page;\n}\ndistill-header a {\n  font-size: 16px;\n  height: 60px;\n  line-height: 60px;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 22px 0;\n}\ndistill-header a:hover {\n  color: rgba(255, 255, 255, 1);\n}\ndistill-header svg {\n  width: 24px;\n  position: relative;\n  top: 4px;\n  margin-right: 2px;\n}\n@media(min-width: 1080px) {\n  distill-header {\n    height: 70px;\n  }\n  distill-header a {\n    height: 70px;\n    line-height: 70px;\n    padding: 28px 0;\n  }\n  distill-header .logo {\n  }\n}\ndistill-header svg path {\n  fill: none;\n  stroke: rgba(255, 255, 255, 0.8);\n  stroke-width: 3px;\n}\ndistill-header .logo {\n  font-size: 17px;\n  font-weight: 200;\n}\ndistill-header .nav {\n  float: right;\n  font-weight: 300;\n}\ndistill-header .nav a {\n  font-size: 12px;\n  margin-left: 24px;\n  text-transform: uppercase;\n}\n</style>\n<div class=\"content\">\n  <nav class=\"nav\">\n    <a href=\"https://github.com/mathadoor/TransformerExposition\" target=\"_blank\">GITHUB</a>\n    <a href=\"/prize/\">VIDEO</a>\n  </nav>\n</div>\n`;\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\n\nimport {headerTemplate} from './distill-header-template';\n\nconst T = Template('distill-header', headerTemplate, false);\n\nexport class DistillHeader extends T(HTMLElement) {\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { serializeFrontmatterToBibtex } from '../helpers/bibtex';\n\nconst styles = `\n<style>\n  distill-appendix {\n    contain: layout style;\n  }\n\n  distill-appendix .citation {\n    font-size: 11px;\n    line-height: 15px;\n    border-left: 1px solid rgba(0, 0, 0, 0.1);\n    padding-left: 18px;\n    border: 1px solid rgba(0,0,0,0.1);\n    background: rgba(0, 0, 0, 0.02);\n    padding: 10px 18px;\n    border-radius: 3px;\n    color: rgba(150, 150, 150, 1);\n    overflow: hidden;\n    margin-top: -12px;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n\n  distill-appendix > * {\n    grid-column: text;\n  }\n</style>\n`;\n\nexport function appendixTemplate(frontMatter) {\n  let html = styles;\n\n  if (typeof frontMatter.githubUrl !== 'undefined') {\n    html += `\n    <h3 id=\"updates-and-corrections\">Updates and Corrections</h3>\n    <p>`;\n    if (frontMatter.githubCompareUpdatesUrl) {\n      html += `<a href=\"${frontMatter.githubCompareUpdatesUrl}\">View all changes</a> to this article since it was first published.`;\n    }\n    html += `\n    If you see mistakes or want to suggest changes, please <a href=\"${frontMatter.githubUrl + '/issues/new'}\">create an issue on GitHub</a>. </p>\n    `;\n  }\n\n  const journal = frontMatter.journal;\n  if (typeof journal !== 'undefined' && journal.title === 'Distill') {\n    html += `\n    <h3 id=\"reuse\">Reuse</h3>\n    <p>Diagrams and text are licensed under Creative Commons Attribution <a href=\"https://creativecommons.org/licenses/by/4.0/\">CC-BY 4.0</a> with the <a class=\"github\" href=\"${frontMatter.githubUrl}\">source available on GitHub</a>, unless noted otherwise. The figures that have been reused from other sources don’t fall under this license and can be recognized by a note in their caption: “Figure from …”.</p>\n    `;\n  }\n\n  if (typeof frontMatter.publishedDate !== 'undefined') {\n    html += `\n    <h3 id=\"citation\">Citation</h3>\n    <p>For attribution in academic contexts, please cite this work as</p>\n    <pre class=\"citation short\">${frontMatter.concatenatedAuthors}, \"${frontMatter.title}\", Distill, ${frontMatter.publishedYear}.</pre>\n    <p>BibTeX citation</p>\n    <pre class=\"citation long\">${serializeFrontmatterToBibtex(frontMatter)}</pre>\n    `;\n  }\n\n  return html;\n}\n\nexport class DistillAppendix extends HTMLElement {\n\n  static get is() { return 'distill-appendix'; }\n\n  set frontMatter(frontMatter) {\n    this.innerHTML = appendixTemplate(frontMatter);\n  }\n\n}\n","\n// Code sourced from https://github.com/distillpub/template.git\n\nexport const footerTemplate = `\n<style>\n\n:host {\n  color: rgba(255, 255, 255, 0.5);\n  font-weight: 300;\n  padding: 2rem 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  background-color: hsl(180, 5%, 15%); /*hsl(200, 60%, 15%);*/\n  text-align: left;\n  contain: content;\n}\n\n.footer-container .logo svg {\n  width: 24px;\n  position: relative;\n  top: 4px;\n  margin-right: 2px;\n}\n\n.footer-container .logo svg path {\n  fill: none;\n  stroke: rgba(255, 255, 255, 0.8);\n  stroke-width: 3px;\n}\n\n.footer-container .logo {\n  font-size: 17px;\n  font-weight: 200;\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  margin-right: 6px;\n}\n\n.footer-container {\n  grid-column: text;\n}\n\n.footer-container .nav {\n  font-size: 0.9em;\n  margin-top: 1.5em;\n}\n\n.footer-container .nav a {\n  color: rgba(255, 255, 255, 0.8);\n  margin-right: 6px;\n  text-decoration: none;\n}\n\n</style>\n\n<div class='footer-container'>\n\n  <a href=\"/\" class=\"logo\">\n    Distill\n  </a> is dedicated to clear explanations of machine learning\n\n  <div class=\"nav\">\n    <a href=\"https://distill.pub/about/\">About</a>\n    <a href=\"https://distill.pub/journal/\">Submit</a>\n    <a href=\"https://distill.pub/prize/\">Prize</a>\n    <a href=\"https://distill.pub/archive/\">Archive</a>\n    <a href=\"https://distill.pub/rss.xml\">RSS</a>\n    <a href=\"https://github.com/distillpub\">GitHub</a>\n    <a href=\"https://twitter.com/distillpub\">Twitter</a>\n    &nbsp;&nbsp;&nbsp;&nbsp; ISSN 2476-0757\n  </div>\n\n</div>\n\n`;\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Template } from '../mixins/template';\n\nimport {footerTemplate} from './distill-footer-template';\n\nconst T = Template('distill-footer', footerTemplate);\n\nexport class DistillFooter extends T(HTMLElement) {\n\n}\n","// Copyright 2018 The Distill Template Authors\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// Code sourced from https://github.com/distillpub/template.git\n\nimport { Controller } from './controller';\nimport { domContentLoaded } from './helpers/domContentLoaded.js';\n\n/* Transforms */\nimport { makeStyleTag }    from './styles/styles';\nimport { Polyfills }       from './helpers/polyfills';\n\n/* Components */\nimport { Abstract }        from './components/d-abstract';\nimport { Appendix }        from './components/d-appendix';\nimport { Article }         from './components/d-article';\nimport { Bibliography }    from './components/d-bibliography';\nimport { Byline }          from './components/d-byline';\nimport { Cite }            from './components/d-cite';\nimport { CitationList }    from './components/d-citation-list';\nimport { Code }            from './components/d-code';\nimport { Footnote }        from './components/d-footnote';\nimport { FootnoteList }    from './components/d-footnote-list';\nimport { FrontMatter }     from './components/d-front-matter';\nimport { HoverBox }        from './components/d-hover-box';\nimport { Title }           from './components/d-title';\nimport { DMath }           from './components/d-math';\nimport { References }      from './components/d-references';\nimport { TOC }             from './components/d-toc';\nimport { Figure }          from './components/d-figure';\nimport { Interstitial }    from './components/d-interstitial';\nimport { Slider }          from './ui/d-slider';\n\n/* Distill website specific components */\nimport { DistillHeader }   from './distill-components/distill-header';\nimport { DistillAppendix } from './distill-components/distill-appendix';\nimport { DistillFooter }   from './distill-components/distill-footer';\n\nlet templateIsLoading = false;\nlet runlevel = 0;\nconst initialize = function() {\n  if (window.distill.runlevel < 1) {\n    throw new Error(\"Insufficient Runlevel for Distill Template!\");\n  }\n\n  /* 1. Flag that we're being loaded */\n  if (\"distill\" in window && window.distill.templateIsLoading) {\n    throw new Error(\n      \"Runlevel 1: Distill Template is getting loaded more than once, aborting!\"\n    );\n  } else {\n    window.distill.templateIsLoading = true;\n    console.debug(\"Runlevel 1: Distill Template has started loading.\");\n  }\n\n  /* 2. Add styles if they weren't added during prerendering */\n  makeStyleTag(document);\n  console.debug(\"Runlevel 1: Static Distill styles have been added.\");\n  console.debug(\"Runlevel 1->2.\");\n  window.distill.runlevel += 1;\n\n  /* 3. Register Controller listener functions */\n  /* Needs to happen before components to their connected callbacks have a controller to talk to. */\n  for (const [functionName, callback] of Object.entries(Controller.listeners)) {\n    if (typeof callback === \"function\") {\n      document.addEventListener(functionName, callback);\n    } else {\n      console.error(\"Runlevel 2: Controller listeners need to be functions!\");\n    }\n  }\n  console.debug(\"Runlevel 2: We can now listen to controller events.\");\n  console.debug(\"Runlevel 2->3.\");\n  window.distill.runlevel += 1;\n\n  /* 4. Register components */\n  const components = [\n    Abstract, Appendix, Article, Bibliography, Byline, Cite, CitationList, Code,\n    Footnote, FootnoteList, FrontMatter, HoverBox, Title, DMath, References, TOC, Figure,\n    Slider, Interstitial\n  ];\n\n  const distillComponents = [DistillHeader, DistillAppendix, DistillFooter];\n\n  if (window.distill.runlevel < 2) {\n    throw new Error(\"Insufficient Runlevel for adding custom elements!\");\n  }\n  const allComponents = components.concat(distillComponents);\n  for (const component of allComponents) {\n    console.debug(\"Runlevel 2: Registering custom element: \" + component.is);\n    customElements.define(component.is, component);\n  }\n\n  console.debug(\n    \"Runlevel 3: Distill Template finished registering custom elements.\"\n  );\n  console.debug(\"Runlevel 3->4.\");\n  window.distill.runlevel += 1;\n\n  // If template was added after DOMContentLoaded we may have missed that event.\n  // Controller will check for that case, so trigger the event explicitly:\n  if (domContentLoaded()) {\n    Controller.listeners.DOMContentLoaded();\n  }\n\n  console.debug(\"Runlevel 4: Distill Template initialisation complete.\");\n  window.distill.templateIsLoading = false;\n  window.distill.templateHasLoaded = true;\n};\n\nwindow.distill = { runlevel, initialize, templateIsLoading };\n\n/* 0. Check browser feature support; synchronously polyfill if needed */\nif (Polyfills.browserSupportsAllFeatures()) {\n  console.debug(\"Runlevel 0: No need for polyfills.\");\n  console.debug(\"Runlevel 0->1.\");\n  window.distill.runlevel += 1;\n  window.distill.initialize();\n} else {\n  console.debug(\"Runlevel 0: Distill Template is loading polyfills.\");\n  Polyfills.load(window.distill.initialize);\n}\n"],"names":["days","months","zeroPad","n","RFC","date","getDay","substring","getDate","getMonth","getFullYear","toString","getUTCHours","getUTCMinutes","getUTCSeconds","Author","constructor","object","this","name","author","personalURL","authorURL","affiliation","affiliationURL","affiliations","firstName","names","split","slice","length","join","lastName","FrontMatter","title","description","authors","bibliography","Map","bibliographyParsed","citations","citationsCollected","journal","katex","doi","publishedDate","url","value","_url","distillPath","githubPath","_previewURL","publishedDateRFC","updatedDateRFC","updatedDate","publishedMonth","publishedDay","publishedMonthPadded","publishedDayPadded","toISOString","volume","publishedYear","Error","concatenatedAuthors","bibtexAuthors","map","slug","toLowerCase","bibliographyEntries","citationKey","get","_bibliography","property","hasOwnProperty","set","static","source","frontMatter","Object","assign","assignToObject","target","Array","from","reduce","key","githubUrl","previewURL","issue","Mutating","superclass","super","options","childList","characterData","subtree","observer","MutationObserver","disconnect","renderIfPossible","observe","connectedCallback","textContent","root","renderContent","console","error","Template","templateString","useShadow","template","document","createElement","innerHTML","window","ShadyCSS","prepareTemplate","is","clone","importNode","content","attachShadow","mode","shadowRoot","appendChild","hasAttribute","styleElement","insertBefore","firstChild","$","query","querySelector","$$","querySelectorAll","findEndOfMath","delimiter","text","startIndex","index","braceLevel","delimLength","character","splitAtDelimiters","startData","leftDelim","rightDelim","display","finalData","i","type","data","nextIndex","lookingForLeft","currIndex","indexOf","push","rawData","renderMathInText","optionsCopy","delimiters","left","right","fragment","createDocumentFragment","createTextNode","tag","math","displayMode","setAttribute","e","ParseError","errorCallback","renderElem","elem","childNodes","childNode","nodeType","mightHaveMath","frag","replaceChild","ignoredTags","nodeName","defaultAutoRenderOptions","msg","err","katexCSSTag","T","style","DMath","HTMLElement","_katexOptions","katexOptions","katexAdded","katexLoadedCallback","addKatex","mathTags","mathTag","delimiterStrings","flatMap","d","some","body","head","insertAdjacentHTML","scriptTag","src","async","onload","crossorigin","localOptions","container","render","collect_citations","dom","Set","citeTags","keys","getAttribute","k","trim","add","author_string","ent","sep","finalSep","name_strings","last","firsts","initials","undefined","s","replace","venue_string","cite","booktitle","number","pages","publisher","link_string","arxiv_match","exec","label","doi_string","new_line","bibliography_cite","fancy","year","hover_cite","a_str","v_str","Math","min","domContentLoaded","readyState","parseFrontmatter","element","firstElementChild","hasOldStyle","Boolean","hasNewStyle","warn","newAffiliation","JSON","parse","inlineMathRendered","entries","entry","notify","event","CustomEvent","detail","bubbles","dispatchEvent","Controller","waitingOn","listeners","onCiteKeyCreated","citeTag","numbers","onCiteKeyChanged","waitingCallback","citationListTag","log","onCiteKeyRemoved","onBibliographyChanged","debug","onFootnoteChanged","footnotesList","footnotes","onFrontMatterChanged","published","Date","String","authorObject","password","interstitial","parentElement","removeChild","article","byline","h1","hasPassword","inBrowser","onLocalhost","location","hostname","includes","appendix","footnoteList","citationList","DOMContentLoaded","loaded","frontMatterTag","styles","base","addPolyfill","polyfill","polyfillLoadedCallback","script","onerror","polyfills","support","Element","prototype","Polyfills","every","poly","callback","polyfillLoaded","neededPolyfills","distillRunlevel","_neededPolyfills","filter","Abstract","Appendix","isOnlyWhitespace","Article","mutations","mutation","addedNode","addedNodes","nodeValue","test","wrapper","parentNode","exports","BibtexParser","notKey","pos","input","currentEntry","setInput","t","getEntries","isWhitespace","match","canCommentOut","skipWhitespace","tryMatch","matchAt","value_braces","bracecount","start","escaped","end","value_comment","str","brcktCnt","value_quotes","single_value","values","key_equals_value","key_value_list","kv","entryTags","entry_body","entryType","directive","preamble","comment","bibtex","string","toJSON","b","toBibtex","json","out","tags","jdx","normalizeTag","full","x","char","parseBibtex","parsedEntries","bibtexParse","Bibliography","parseIfPossible","requestAnimationFrame","newBibtex","receivedBibtex","response","attributeChangedCallback","oldValue","newValue","oReq","XMLHttpRequest","responseType","open","send","Byline","Cite","_numbers","_entries","outerSpan","innerSpan","hoverBox","customElements","whenDefined","then","listen","displayNumbers","displayEntries","observedAttributes","eventName","result","html","CitationList","size","list","stylesTag","heading","id","className","listItem","Prism","_self","lang","uniqueId","plainTextGrammar","_","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","isArray","o","call","objId","obj","__id","defineProperty","deepClone","visited","forEach","v","getLanguage","m","setLanguage","language","RegExp","classList","currentScript","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","contains","languages","plain","plaintext","txt","extend","redef","inside","before","insert","grammar","ret","token","newToken","old","DFS","propertyType","plugins","highlightAll","highlightAllUnder","env","selector","hooks","run","elements","apply","highlightElement","parent","code","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","postMessage","stringify","immediateClose","highlight","tokenize","rest","tokenList","LinkedList","addAfter","matchGrammar","array","node","next","tail","all","callbacks","matchedStr","matchPattern","pattern","lookbehind","lastIndex","lookbehindLength","startNode","startPos","rematch","patterns","j","cause","patternObj","greedy","global","flags","currentNode","reach","removeCount","to","p","matchStr","after","removeFrom","prev","removeRange","nestedRematch","newNode","count","classes","attributes","aliases","addEventListener","message","close","highlightAutomaticallyCallback","defer","setTimeout","WorkerGlobalScope","self","module","markup","prolog","doctype","punctuation","cdata","namespace","entity","tagName","includedCdataInside","def","attrName","mathml","svg","xml","ssml","atom","rss","css","atrule","rule","keyword","function","important","addInlined","addAttribute","clike","boolean","operator","javascript","regex","parameter","constant","hashbang","interpolation","js","matches","msMatchesSelector","webkitMatchesSelector","EXTENSIONS","py","rb","ps1","psm1","sh","bat","h","tex","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","SELECTOR","pre","extension","autoloader","loadLanguages","success","xhr","onreadystatechange","status","responseText","statusText","range","Number","comma","lines","max","fileHighlight","logged","arguments","python","decorator","builtin","lua","envVars","commandAfterHeredoc","insideString","bash","environment","variable","shebang","toBeCopied","shell","go","inner","createInline","tableCell","tableRow","tableLine","markdown","yaml","blockquote","table","hr","bold","italic","strike","walkTokens","l","codeLang","codeBlock","cls","tagPattern","parseInt","fromCodePoint","KNOWN_ENTITY_NAMES","valueOf","floor","random","ele","getElementById","amp","lt","gt","quot","fromCharCode","md","julia","Code","languageName","codeTag","tabs","ShadowRoot","preTag","Footnote","currentFootnoteId","IdString","host","span","FootnoteList","footnote","backlink","href","HoverBox","bindDivEvents","bindTriggerEvents","visible","showAtNode","stopTimeout","extendTimeout","stopPropagation","passive","hide","show","position","top","round","bbox","getBoundingClientRect","offsetLeft","width","offsetTop","height","timeout","clearTimeout","time","Title","References","TOC","headings","ToC","el","isInTitle","isException","newLine","Figure","readyQueue","_readyQueue","figure","runReadyQueue","sort","a","_seenOnScreen","_ready","pop","ready","_onscreen","_offscreen","loadsWhileScrolling","marginObserver","directObserver","disconnectedCallback","unobserve","_marginObserver","viewportHeight","innerHeight","margin","rootMargin","threshold","didObserveMarginIntersection","IntersectionObserver","isIntersecting","addToReadyQueue","_directObserver","didObserveDirectIntersection","onscreen","offscreen","isScrolling","resetTimer","Interstitial","shouldRemoveSelf","oninput","passwordChanged","Storage","localStorage","setItem","localStorageIdentifier","getItem","pathname","ascending$1","NaN","bisector","f","delta","compare","lo","hi","mid","ascending","center","bisectRight","e10","sqrt","e5","e2","tickIncrement","stop","step","power","LN10","pow","initRange","domain","define","factory","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","rgbn","Rgb","rgba","hsla","r","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","Hsl","hslConvert","hsl2rgb","m1","m2","copy","channels","displayable","formatHsl","radians","PI","degrees","Xn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","z","rgb2lrgb","y","xyz2lab","lab2xyz","lrgb2rgb","c","cos","sin","atan2","A","B","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cosh","sinh","constant$2","linear","nogamma","rgbGamma","gamma","colorRgb","numberArray","genericArray","nb","na","setTime","interpolateNumber","reA","reB","am","bm","bs","bi","q","interpolate","ArrayBuffer","isView","DataView","interpolateRound","exp","hue","cubehelixGamma","colorCubehelix","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","d1","b0","b1","r0","r1","coshr0","u","duration","SQRT2","_1","_2","unit","identity","normalize","bimap","d0","polymap","reverse","bisect","formatDecimalParts","toExponential","coefficient","exponent","abs","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","fill","align","sign","symbol","zero","precision","formatRounded","formatTypes","toFixed","toLocaleString","toPrecision","X","toUpperCase","locale","formatPrefix","prefixes","linearish","scale","ticks","isFinite","tickFormat","step0","step1","nice","prestep","i0","i1","maxIter","ceil","transform","untransform","unknown","piecewise","output","interpolateValue","clamp","rescale","invert","rangeRound","transformer","grouping","thousands","group","currencyPrefix","currency","currencySuffix","decimal","numerals","percent","minus","nan","newFormat","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","Infinity","padding","formatLocale","newInterval","floori","offseti","field","interval","offset","previous","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getMilliseconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getTimezoneOffset","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","setFullYear","utcMinute","setUTCSeconds","utcHour","setUTCMinutes","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","utcFormat","utcParse","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","dISO","timeThursday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","locale_shortWeekdays","shortDays","locale_months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","G","I","Y","utcFormats","parses","parseSpecifier","charAt","newParse","week","isoSpecifier","noop","dispatch","Dispatch","concat","on","typename","types","that","args","xhtml","namespaces","xlink","xmlns","space","local","creatorInherit","ownerDocument","uri","namespaceURI","documentElement","createElementNS","creatorFixed","fullname","creator","none","empty","sparse","update","EnterNode","datum","_next","_parent","__data__","child","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","ClassList","_node","_names","classedAdd","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","constantNull","selection_cloneShallow","cloneNode","selection_cloneDeep","splice","filterEvents","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","customEvent","sourceEvent","params","createEvent","initEvent","cancelable","dispatchConstant","dispatchFunction","mouseenter","mouseleave","Selection","groups","parents","_groups","_parents","select","subgroups","subnode","subgroup","selectAll","each","bind","enterGroup","updateGroup","_enter","_exit","onenter","onupdate","onexit","append","merge","order","selection","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","nodes","attr","getAttributeNS","getPropertyValue","getComputedStyle","classed","deep","typenames","nextId","Local","current","point","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","clientLeft","clientTop","mouse","changedTouches","touch","touches","identifier","nopropagation","stopImmediatePropagation","noevent","preventDefault","DragEvent","subject","active","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","Slider","connected","mouseEvent","knob","background","trackFill","track","scaleLinear","origin","renderTicks","drag","mousedownx","mousedowny","mousemoving","touchending","touchable","gestures","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","__noselect","MozUserSelect","noclick","sublisteners","clickDistance","changeValue","dragUpdate","dispatchChange","onKeyDown","keyCode","validateValueRange","quantizeValue","currentEvent","dispatchInput","Event","ticksContainer","tickData","tick","DistillHeader","DistillAppendix","githubCompareUpdatesUrl","DistillFooter","distill","runlevel","initialize","templateIsLoading","styleTagId","styleTag","cssTextTag","firstScriptTag","functionName","components","distillComponents","allComponents","component","templateHasLoaded","browserSupportsAllFeatures","load"],"mappings":"2FAeA,MAAMA,EAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAC1EC,EAAS,CAAC,OAAQ,OAAQ,QAAS,QAAS,MAAO,OAAQ,OAAQ,OAAQ,QAAS,OAAQ,OAAQ,QACpGC,EAAUC,GAAKA,EAAI,GAAK,IAAMA,EAAIA,EAElCC,EAAM,SAASC,GAQnB,MAAO,GAPKL,EAAKK,EAAKC,UAAUC,UAAU,EAAG,OAC1BL,EAAQG,EAAKG,cAClBP,EAAOI,EAAKI,YAAYF,UAAU,EAAE,MACrCF,EAAKK,cAAcC,cAClBN,EAAKO,cAAcD,cACjBN,EAAKQ,gBAAgBF,cACrBN,EAAKS,gBAAgBH,cAEvC,EAmBA,MAAMI,EASJC,YAAYC,GACVC,KAAKC,KAAOF,EAAOG,OACnBF,KAAKG,YAAcJ,EAAOK,UAC1BJ,KAAKK,YAAcN,EAAOM,YAC1BL,KAAKM,eAAiBP,EAAOO,eAC7BN,KAAKO,aAAeR,EAAOQ,cAAgB,EAC5C,CAICC,gBAAA,MAAMC,EAAQT,KAAKC,KAAKS,MAAM,KAC9B,OAAOD,EAAME,MAAM,EAAGF,EAAMG,OAAS,GAAGC,KAAK,IAC9C,CAICC,eAAA,MAAML,EAAQT,KAAKC,KAAKS,MAAM,KAC9B,OAAOD,EAAMA,EAAMG,OAAQ,EAC5B,EA8BI,MAAMG,EACXjB,cACEE,KAAKgB,MAAQ,kBACbhB,KAAKiB,YAAc,GACnBjB,KAAKkB,QAAU,GAEflB,KAAKmB,aAAe,IAAIC,IACxBpB,KAAKqB,oBAAAA,EAcLrB,KAAKsB,UAAY,GACjBtB,KAAKuB,oBAAAA,EAeLvB,KAAKwB,QAAU,GAgBfxB,KAAKyB,MAAQ,GASbzB,KAAK0B,SAAAA,EACL1B,KAAK2B,mBAAAA,CACN,CAiBGC,QAAIC,GACN7B,KAAK8B,KAAOD,CACb,CACGD,UACF,OAAI5B,KAAK8B,KACA9B,KAAK8B,KACH9B,KAAK+B,aAAe/B,KAAKwB,QAAQI,IACnC5B,KAAKwB,QAAQI,IAAM,IAAM5B,KAAK+B,YAC5B/B,KAAKwB,QAAQI,IACf5B,KAAKwB,QAAQI,SAAAA,CAEvB,iBAIC,OAAI5B,KAAKgC,WACA,sBAAwBhC,KAAKgC,iBAIvC,gBAIcH,GACb7B,KAAKiC,YAAcJ,CACpB,kBAEC,OAAO7B,KAAKiC,YAAcjC,KAAKiC,YAAcjC,KAAK4B,IAAM,gBACzD,CAGGM,uBACF,OAAOhD,EAAIc,KAAK2B,cACjB,CAGGQ,qBACF,OAAOjD,EAAIc,KAAKoC,YACjB,qBAIC,OAAOpC,KAAK2B,cAAcnC,aAC3B,CAIC6C,qBAAA,OAAOtD,EAAOiB,KAAK2B,cAAcpC,WAClC,CAGG+C,mBACF,OAAOtC,KAAK2B,cAAcrC,SAC3B,CAGGiD,2BACF,OAAOvD,EAAQgB,KAAK2B,cAAcpC,WAAa,EAChD,CAICiD,yBAAA,OAAOxD,EAAQgB,KAAK2B,cAAcrC,UACnC,4BAGC,OAAOU,KAAK2B,cAAcc,cAAc/B,MAAM,KAAK,EACpD,CAGCgC,aAAA,MAAMA,EAAS1C,KAAK2C,cAAgB,KACpC,GAAID,EAAS,EACX,MAAM,IAAIE,MAAM,yDAElB,OAAOF,CACR,aAGC,OAAO1C,KAAK2B,cAAcpC,WAAa,CACxC,CAICsD,0BAAA,OAAI7C,KAAKkB,QAAQN,OAAS,EACjBZ,KAAKkB,QAAQ,GAAGJ,SAAW,WACD,IAAxBd,KAAKkB,QAAQN,OACfZ,KAAKkB,QAAQ,GAAGJ,SAAW,MAAQd,KAAKkB,QAAQ,GAAGJ,SACzB,IAAxBd,KAAKkB,QAAQN,OACfZ,KAAKkB,QAAQ,GAAGJ,cADlB,CAGR,CAICgC,oBAAA,OAAO9C,KAAKkB,QAAQ6B,KAAI7C,GACfA,EAAOY,SAAW,KAAOZ,EAAOM,YACtCK,KAAK,QACT,YAIC,IAAImC,EAAO,GAMX,OALIhD,KAAKkB,QAAQN,SACfoC,GAAQhD,KAAKkB,QAAQ,GAAGJ,SAASmC,cACjCD,GAAQhD,KAAK2C,cACbK,GAAQhD,KAAKgB,MAAMN,MAAM,KAAK,GAAGuC,eAE5BD,GAAQ,UAChB,CAEGE,0BACF,OAAO,IAAI9B,IAAIpB,KAAKsB,UAAUyB,KAAKI,GAE1B,CAACA,EADMnD,KAAKmB,aAAaiC,IAAID,MAGvC,kBAEgBhC,GACXA,aAAwBC,IAC1BpB,KAAKqD,cAAgBlC,EACY,iBAAjBA,IAChBnB,KAAKqD,cA9QW,SAAStD,GAC7B,MAAMgD,EAAM,IAAI3B,IAChB,IAAK,IAAIkC,KAAYvD,EACfA,EAAOwD,eAAeD,IACxBP,EAAIS,IAAIF,EAAUvD,EAAOuD,IAG7B,OAAOP,CACT,CARsB,CA8QmB5B,GAEtC,CAEGA,mBACF,OAAOnB,KAAKqD,aACb,CAEDI,kBAAkBC,GAChB,MAAMC,EAAc,IAAI5C,EAExB,OADA6C,OAAOC,OAAOF,EAAaD,GACpBC,CACR,CAEDG,eAAeC,GACbH,OAAOC,OAAOE,EAAQ/D,MACtB+D,EAAO5C,aArSW,SAAS4B,GAI7B,OAHeiB,MAAMC,KAAKlB,GAAKmB,SAAQnE,GAASoE,EAAKtC,KACnD+B,OAAOC,OAAO9D,EAAQ,CAAEoE,CAACA,GAAMtC,KAC9B,CAAE,EAEP,CALsB,CAqSkB7B,KAAKkD,qBACzCa,EAAOnC,IAAM5B,KAAK4B,IAClBmC,EAAOrC,IAAM1B,KAAK0B,IAClBqC,EAAOK,UAAYpE,KAAKoE,UACxBL,EAAOM,WAAarE,KAAKqE,WACrBrE,KAAK2B,gBACPoC,EAAOrB,OAAS1C,KAAK0C,OACrBqB,EAAOO,MAAQtE,KAAKsE,MACpBP,EAAO7B,iBAAmBlC,KAAKkC,iBAC/B6B,EAAOpB,cAAgB3C,KAAK2C,cAC5BoB,EAAO1B,eAAiBrC,KAAKqC,eAC7B0B,EAAOzB,aAAetC,KAAKsC,aAC3ByB,EAAOxB,qBAAuBvC,KAAKuC,qBACnCwB,EAAOvB,mBAAqBxC,KAAKwC,oBAE/BxC,KAAKoC,cACP2B,EAAO5B,eAAiBnC,KAAKmC,gBAE/B4B,EAAOlB,oBAAsB7C,KAAK6C,oBAClCkB,EAAOjB,cAAgB9C,KAAK8C,cAC5BiB,EAAOf,KAAOhD,KAAKgD,IACpB,ECzUI,MAAMuB,EAAYC,GAChB,cAAcA,EAEnB1E,cACE2E,QAGA,MAAMC,EAAU,CAACC,aAAiBC,eAAAA,EAAqBC,SAAAA,GACjDC,EAAW,IAAIC,uBACnBD,EAASE,aACThF,KAAKiF,mBACLH,EAASI,QAAQlF,KAAM0E,EAIzBI,IAAAA,EAASI,QAAQlF,KAAM0E,EACxB,CAEDS,oBACEV,MAAMU,oBAENnF,KAAKiF,kBACN,CAIDA,mBACMjF,KAAKoF,aAAepF,KAAKqF,MAC3BrF,KAAKsF,eAER,CAEDA,gBACEC,QAAQC,MAAM,cAAcxF,KAAKF,YAAYG,qDAC9C,GChCQwF,EAAW,CAACxF,EAAMyF,EAAgBC,GAAAA,IAErCnB,IAEN,MAAMoB,EAAWC,SAASC,cAAc,YAOxC,OANAF,EAASG,UAAYL,EAEjBC,GAAa,aAAcK,QAC7BC,SAASC,gBAAgBN,EAAU3F,GAG9B,cAAcuE,EAER2B,gBAAO,OAAOlG,CAAO,CAEhCH,cACE2E,QAEAzE,KAAKoG,MAAQP,SAASQ,WAAWT,EAASU,SAAAA,GACtCX,IACF3F,KAAKuG,aAAa,CAACC,KAAM,SACzBxG,KAAKyG,WAAWC,YAAY1G,KAAKoG,OAEpC,CAEDjB,oBACMnF,KAAK2G,aAAa,yBAGlBhB,EACE,aAAcK,QAChBC,SAASW,aAAa5G,MAGxBA,KAAK6G,aAAa7G,KAAKoG,MAAOpG,KAAK8G,YAEtC,CAEGzB,WACF,OAAIM,EACK3F,KAAKyG,WAELzG,IAEV,CAGD+G,EAAEC,GACA,OAAOhH,KAAKqF,KAAK4B,cAAcD,EAChC,CAEDE,GAAGF,GACD,OAAOhH,KAAKqF,KAAK8B,iBAAiBH,EACnC,EACF,u5BCnDL,MAAMI,EAAgB,SAASC,EAAWC,EAAMC,GAG9C,IAAIC,EAAQD,EACRE,EAAa,EAEjB,MAAMC,EAAcL,EAAUzG,OAE9B,KAAO4G,EAAQF,EAAK1G,QAAQ,CAC1B,MAAM+G,EAAYL,EAAKE,GAEvB,GACEC,GAAc,GACdH,EAAK3G,MAAM6G,EAAOA,EAAQE,KAAiBL,EAE3C,OAAOG,EACgB,OAAdG,EACTH,IACuB,MAAdG,EACTF,IACuB,MAAdE,GACTF,IAGFD,GACD,CAED,OAAQ,CACV,EAEMI,EAAoB,SAASC,EAAWC,EAAWC,EAAYC,GACnE,MAAMC,EAAY,GAElB,IAAK,IAAIC,EAAI,EAAGA,EAAIL,EAAUjH,OAAQsH,IACpC,GAA0B,SAAtBL,EAAUK,GAAGC,KAAiB,CAChC,MAAMb,EAAOO,EAAUK,GAAGE,KAE1B,IAEIC,EAFAC,GAAiB,EACjBC,EAAY,EAahB,IAVAF,EAAYf,EAAKkB,QAAQV,IACN,IAAfO,IACFE,EAAYF,EACZJ,EAAUQ,KAAK,CACbN,KAAM,OACNC,KAAMd,EAAK3G,MAAM,EAAG4H,KAEtBD,GAAiB,KAGN,CAEX,GAAIA,EAAgB,CAElB,GADAD,EAAYf,EAAKkB,QAAQV,EAAWS,IACjB,IAAfF,EACF,MAGFJ,EAAUQ,KAAK,CACbN,KAAM,OACNC,KAAMd,EAAK3G,MAAM4H,EAAWF,KAG9BE,EAAYF,CACtB,KAAe,CAML,GALAA,EAAYjB,EACVW,EACAT,EACAiB,EAAYT,EAAUlH,SAEL,IAAfyH,EACF,MAGFJ,EAAUQ,KAAK,CACbN,KAAM,OACNC,KAAMd,EAAK3G,MAAM4H,EAAYT,EAAUlH,OAAQyH,GAC/CK,QAASpB,EAAK3G,MAAM4H,EAAWF,EAAYN,EAAWnH,QACtDoH,QAASA,IAGXO,EAAYF,EAAYN,EAAWnH,MACpC,CAED0H,GAAkBA,CACnB,CAEDL,EAAUQ,KAAK,CACbN,KAAM,OACNC,KAAMd,EAAK3G,MAAM4H,IAEzB,MACMN,EAAUQ,KAAKZ,EAAUK,IAI7B,OAAOD,CACT,EAmBMU,EAAmB,SAASrB,EAAMsB,GACtC,MAAMR,EAlBoB,SAASd,EAAMuB,GACzC,IAAIT,EAAO,CAAC,CAAED,KAAM,OAAQC,KAAMd,IAClC,IAAK,IAAIY,EAAI,EAAGA,EAAIW,EAAWjI,OAAQsH,IAAK,CAC1C,MAAMb,EAAYwB,EAAWX,GAC7BE,EAAOR,EACLQ,EACAf,EAAUyB,KACVzB,EAAU0B,MACV1B,EAAUW,UAAW,EAExB,CACD,OAAOI,CACT,CAZ4B,CAkBOd,EAAMsB,EAAYC,YAC7CG,EAAWnD,SAASoD,yBAE1B,IAAK,IAAIf,EAAI,EAAGA,EAAIE,EAAKxH,OAAQsH,IAC/B,GAAqB,SAAjBE,EAAKF,GAAGC,KACVa,EAAStC,YAAYb,SAASqD,eAAed,EAAKF,GAAGE,WAChD,CACL,MAAMe,EAAMtD,SAASC,cAAc,UAC7BsD,EAAOhB,EAAKF,GAAGE,KAGrBQ,EAAYS,YAAcjB,EAAKF,GAAGF,QAClC,IACEmB,EAAI/D,YAAcgE,EACdR,EAAYS,aACdF,EAAIG,aAAa,QAAS,GAE7B,CAAC,MAAOC,GACP,KAAMA,aAAa9H,MAAM+H,YACvB,MAAMD,EAERX,EAAYa,cACV,uCAAyCrB,EAAKF,GAAGE,KAAO,UACxDmB,GAEFP,EAAStC,YAAYb,SAASqD,eAAed,EAAKF,GAAGQ,UACrD,QACD,CACDM,EAAStC,YAAYyC,EACtB,CAGH,OAAOH,CACT,EAEMU,EAAa,SAASC,EAAMf,GAChC,IAAK,IAAIV,EAAI,EAAGA,EAAIyB,EAAKC,WAAWhJ,OAAQsH,IAAK,CAC/C,MAAM2B,EAAYF,EAAKC,WAAW1B,GAClC,GAA2B,IAAvB2B,EAAUC,SAAgB,CAE5B,MAAMxC,EAAOuC,EAAUzE,YACvB,GAAIwD,EAAYmB,cAAczC,GAAO,CACnC,MAAM0C,EAAOrB,EAAiBrB,EAAMsB,GACpCV,GAAK8B,EAAKJ,WAAWhJ,OAAS,EAC9B+I,EAAKM,aAAaD,EAAMH,EACzB,CACP,MAAsC,IAAvBA,EAAUC,WAIhB,IADDlB,EAAYsB,YAAY1B,QAAQqB,EAAUM,SAASlH,gBAInDyG,EAAWG,EAAWjB,EAI3B,CACH,EAEMwB,EAA2B,CAC/BvB,WAAY,CACV,CAAEC,KAAM,KAAMC,MAAO,KAAMf,SAAAA,GAC3B,CAAEc,KAAM,MAAOC,MAAO,MAAOf,SAAS,GACtC,CAAEc,KAAM,MAAOC,MAAO,MAAOf,SAAAA,IAK/BkC,YAAa,CACX,SACA,WACA,QACA,WACA,MACA,OACA,OAGFT,cAAe,SAASY,EAAKC,GAC3B/E,QAAQC,MAAM6E,EAAKC,EACpB,GClMUC,EAAc,6GAErBC,EAAI/E,EAAS,SAAU,KAC3B8E,sHAYAE,qDAMK,MAAMC,UAAcnG,EAASiG,EAAEG,eAEZjG,wBAAAA,GACtBgG,EAAME,cAAgBlG,EAClBgG,EAAMG,aAAahC,aAChB6B,EAAMI,WAGTJ,EAAMK,sBAFNL,EAAMM,WAKX,2BAQC,OALKN,EAAME,gBACTF,EAAME,cAAgB,CACpB/B,WAAY,CAAE,CAAEC,KAAO,KAAMC,MAAQ,KAAMf,SAAAA,MAGxC0C,EAAME,aACd,CAEDnH,6BAEE,MAAMwH,EAAWpF,SAASsB,iBAAiB,UAC3C,IAAK,MAAM+D,KAAWD,EACpBC,EAAQ5F,gBAGNoF,EAAMG,aAAahC,YDmJQ,SAASc,EAAMjF,GAChD,IAAKiF,EACH,MAAM,IAAI/G,MAAM,iCAGlB,MAAMgG,EAAchF,OAAOC,OAAO,CAAA,EAAIuG,EAA0B1F,GAC1DyG,EAAmBvC,EAAYC,WAAWuC,SAAQC,GAAK,CAC3DA,EAAEvC,KACFuC,EAAEtC,SAIJH,EAAYmB,cAFUzC,GACpB6D,EAAiBG,MAAKD,IAA0B,IAArB/D,EAAKkB,QAAQ6C,KAE1C3B,EAAWC,EAAMf,EACnB,CAdmC,CClJT/C,SAAS0F,KAAMb,EAAMG,aAE5C,CAEDpH,kBAEEoC,SAAS2F,KAAKC,mBAAmB,YAAalB,GAE9C,MAAMmB,EAAY7F,SAASC,cAAc,UACzC4F,EAAUC,IA7DY,qDA8DtBD,EAAUE,OAAAA,EACVF,EAAUG,OAASnB,EAAMK,oBACzBW,EAAUI,YAAc,YACxBjG,SAAS2F,KAAK9E,YAAYgF,GAE1BhB,EAAMI,YAAa,CACpB,CAEGpG,cACF,MAAMqH,EAAe,CAAE1C,YAAarJ,KAAK2G,aAAa,UACtD,OAAO/C,OAAOC,OAAOkI,EAAcrB,EAAMG,aAC1C,CAED1F,oBACEV,MAAMU,oBACDuF,EAAMI,YACTJ,EAAMM,UAET,CAED1F,gBACE,GAAqB,oBAAV7D,MAAuB,CAChC,MAAMuK,EAAYhM,KAAKqF,KAAK4B,cAAc,oBAC1CxF,MAAMwK,OAAOjM,KAAKoF,YAAa4G,EAAWhM,KAAK0E,QAChD,CACF,EChGI,SAASwH,EAAkBC,EAAMtG,UACtC,MAAMvE,EAAY,IAAI8K,IAChBC,EAAWF,EAAIhF,iBAAiB,UACtC,IAAK,MAAMgC,KAAOkD,EAAU,CAC1B,MACMC,GADYnD,EAAIoD,aAAa,QAAUpD,EAAIoD,aAAa,eACvC7L,MAAM,KAAKqC,KAAIyJ,GAAKA,EAAEC,SAC7C,IAAK,MAAMtI,KAAOmI,EAChBhL,EAAUoL,IAAIvI,EAEjB,CACD,MAAO,IAAI7C,EACb,CA+BA,SAASqL,EAAcC,EAAKhH,EAAUiH,EAAKC,GACzC,GAAkB,MAAdF,EAAI1M,OACN,MAAO,GAET,IAAIO,EAAQmM,EAAI1M,OAAOQ,MAAM,SAC7B,IAAIqM,EAAetM,EAAMsC,KAAI9C,IAE3B,IAA0B,IAD1BA,EAAOA,EAAKwM,QACHjE,QAAQ,KACf,IAAIwE,EAAO/M,EAAKS,MAAM,KAAK,GAAG+L,OAC1BQ,EAAShN,EAAKS,MAAM,KAAK,QACE,GAAtBT,EAAKuI,QAAQ,MAClBwE,EAAO/M,EACRS,MAAM,KACNC,OAAO,GAAG,GACV8L,OACCQ,EAAShN,EACVS,MAAM,KACNC,MAAM,GAAI,GACVE,KAAK,MAEJmM,EAAO/M,EAAKwM,OAElB,IAAIS,EAAW,GAQf,OAPcC,MAAVF,IAKFC,GAJAA,EAAWD,EACRR,OACA/L,MAAM,KACNqC,KAAIqK,GAAKA,EAAEX,OAAO,MACD5L,KAAK,KAAO,KAE3B+E,EACJyH,QAAQ,OAAQJ,GAChBI,QAAQ,OAAQL,GAChBK,QAAQ,OAAQH,GAChBT,MAEL,IAAA,OAAIhM,EAAMG,OAAS,EACPmM,EAAapM,MAAM,EAAGF,EAAMG,OAAS,GAAGC,KAAKgM,KAC/CC,GAAYD,GAAOE,EAAatM,EAAMG,OAAS,IAGhDmM,EAAa,EAExB,CAEA,SAASO,EAAaV,GACpB,IAAIW,EAAOX,EAAIpL,SAAWoL,EAAIY,WAAa,GAC3C,GAAI,WAAYZ,EAAK,CACnB,IAAItI,EAAQsI,EAAItI,OAASsI,EAAIa,OAC7BnJ,EAAiB6I,MAAT7I,EAAqB,IAAMA,EAAQ,IAAM,GACjDiJ,GAAQ,SAAWX,EAAIlK,OAAS4B,CACjC,CASD,MARI,UAAWsI,IACbW,GAAQ,SAAWX,EAAIc,OAEb,IAARH,IAAYA,GAAQ,MACpB,cAAeX,GAEY,MAD7BW,GAAQX,EAAIe,WACHJ,EAAK3M,OAAS,KAAW2M,GAAQ,KAErCA,CACT,CAEA,SAASK,EAAYhB,GACnB,GAAI,QAASA,EAAK,CAChB,IAAIhL,EAAMgL,EAAIhL,IACViM,EAAc,8BAA8BC,KAAKlM,GAKrD,GAJmB,MAAfiM,IACFjM,EAAM,wBAAwBiM,EAAY,UAGvB,QAAjBjM,EAAIjB,OAAO,GACb,IAAIoN,EAAQ,UACc,SAAjBnM,EAAIjB,OAAO,KAChBoN,EAAQ,QAEd,MAAO,mBAAmBnM,OAASmM,GAAS,aAC7C,CAGC,MAAO,EAEX,CACA,SAASC,EAAWpB,EAAKqB,GACvB,MAAI,QAASrB,EACJ,GAAGqB,EAAW,OAAS,+BAC5BrB,EAAIlL,8CACqCkL,EAAIlL,UAExC,EAEX,CAMO,SAASwM,EAAkBtB,EAAKuB,GACrC,GAAIvB,EAAK,CACP,IAAIW,EANR,SAAsBX,GACpB,MAAO,uBAAyBA,EAAI5L,MAAQ,UAC9C,CAFA,CAM4B4L,GAexB,OAdAW,GAAQK,EAAYhB,GAAO,OACvBA,EAAI1M,SACNqN,GAAQZ,EAAcC,EAAK,aAAc,KAAM,UAC3CA,EAAIwB,MAAQxB,EAAIzN,QAClBoO,GAAQ,OAGRX,EAAIwB,MAAQxB,EAAIzN,KAClBoO,IAASX,EAAIwB,MAAQxB,EAAIzN,MAAQ,KAEjCoO,GAAQ,MAEVA,GAAQD,EAAaV,IACboB,EAAWpB,EAavB,CACI,MAAO,GAEX,CAEO,SAASyB,EAAWzB,GACzB,GAAIA,EAAK,CACP,IAAIW,EAAO,GACXA,GAAQ,WAAaX,EAAI5L,MAAQ,YACjCuM,GAAQK,EAAYhB,GACpBW,GAAQ,OAER,IAAIe,EAAQ3B,EAAcC,EAAK,YAAa,MAAQ,IAChD2B,EACFjB,EAAaV,GAAKH,OAAS,IAAMG,EAAIwB,KAAO,KAAOJ,EAAWpB,GAAK,GAOrE,OALK0B,EAAQC,GAAO3N,OAAS4N,KAAKC,IAAI,GAAI7B,EAAI5L,MAAMJ,QAClD2M,GAAQe,EAAQ,IAAMC,EAEtBhB,GAAQe,EAAQ,OAASC,EAEpBhB,CACX,CACI,MAAO,GAEX,CC9MO,SAASmB,IACd,OAAqE,IAA9D,CAAC,cAAe,YAAYlG,QAAQ3C,SAAS8I,WACtD,CCgCO,SAASC,EAAiBC,GAC/B,MAAMnD,EAAYmD,EAAQC,kBAC1B,GAAIpD,EAAW,CAEb,GAA0B,QADbA,EAAUa,aAAa,QAC3B7L,MAAM,KAAK,GAAc,CAChC,MAAM4F,EAAUoF,EAAUtG,YAE1B,OA5BC,SAA+CzB,GAIpD,IAAK,IAAIzD,KAAUyD,EAAYzC,QAAS,CACtC,MAAM6N,EAAcC,QAAQ9O,EAAOG,aAC7B4O,EAAcD,QAAQ9O,EAAOK,cACnC,GAAKwO,EACL,GAAIE,EACF1J,QAAQ2J,KAAK,UAAUhP,EAAOA,4HACzB,CACL,IAAIiP,EAAiB,CACnBlP,KAAQC,EAAOG,aAEbH,EAAOI,iBAAgB6O,EAAevN,IAAM1B,EAAOI,gBACvDJ,EAAOK,aAAe,CAAC4O,EACxB,CACF,CACD,OAAOxL,CACT,CAnBO,CA2BcyL,KAAKC,MAAM/I,GAEhC,CACMf,QAAQC,MAAM,qEAEpB,MACID,QAAQC,MAAM,mIAEhB,MAAO,EACT,CHgEAkF,EAAMI,YAAa,EACnBJ,EAAM4E,oBAAAA,EACNtJ,OAAO0E,MAAQA,EGhER,MAAM3J,UAAoB4J,YAEbxE,gBAAA,MAAO,gBAAmB,CAE5CrG,cACE2E,QAGiB,IAAIM,kBAAmBwK,IACtC,IAAK,MAAMC,KAASD,EAClB,GAA8B,WAA1BC,EAAMzL,OAAOoG,UAAwC,kBAAfqF,EAAMrH,KAA0B,CACxE,MAAMC,EAAOwG,EAAiB5O,MAC9BA,KAAKyP,OAAOrH,EACb,KAGIlD,QAAQlF,KATD,CAAC2E,WAAW,EAAMC,eAAe,EAAMC,YAUxD,CAED4K,OAAOrH,GACL,MACMsH,EAAQ,IAAIC,YAAY,uBADd,CAAEC,OAAQxH,EAAMyH,SAAAA,IAEhChK,SAASiK,cAAcJ,EACxB,ECtDH,MAAM/L,EAAc,IAAI5C,EAEXgP,EAAa,CACxBpM,YAAaA,EACbqM,UAAW,CACT7O,aAAc,GACdG,UAAW,IAEb2O,UAAW,CACTC,iBAAiBR,GACf,MAAOS,EAAS7D,GAAQoD,EAAME,OAG9B,IAAKjM,EAAYpC,mBAKf,YAHAwO,EAAWC,UAAU1O,UAAUmH,MAAK,IAClCsH,EAAWE,UAAUC,iBAAiBR,KAM1C,IAAK/L,EAAYtC,mBAKf,YAHA0O,EAAWC,UAAU7O,aAAasH,UAChCsH,EAAWE,UAAUC,iBAAiBR,KAK1C,MAAMU,EAAU9D,EAAKvJ,KAAIoB,GAAOR,EAAYrC,UAAUkH,QAAQrE,KAC9DgM,EAAQC,QAAUA,EAClB,MAAMb,EAAUjD,EAAKvJ,KAAIoB,GAAOR,EAAYxC,aAAaiC,IAAIe,KAC7DgM,EAAQZ,QAAUA,CACnB,EAEDc,mBAIE1M,EAAYrC,UAAY4K,IACxBvI,EAAYpC,oBAAqB,EACjC,IAAK,MAAM+O,KAAmBP,EAAWC,UAAU1O,UAAUX,QAC3D2P,IAIF,MAAMC,EAAkB1K,SAASoB,cAAc,mBACzC/D,EAAsB,IAAI9B,IAC9BuC,EAAYrC,UAAUyB,KAAII,GACjB,CAACA,EAAaQ,EAAYxC,aAAaiC,IAAID,OAGtDoN,EAAgBjP,UAAY4B,EAE5B,MAAMmJ,EAAWxG,SAASsB,iBAAiB,UAC3C,IAAK,MAAMgJ,KAAW9D,EAAU,CAC9B9G,QAAQiL,IAAIL,GACZ,MAAM7D,EAAO6D,EAAQ7D,KACf8D,EAAU9D,EAAKvJ,KAAIoB,GAAOR,EAAYrC,UAAUkH,QAAQrE,KAC9DgM,EAAQC,QAAUA,EAClB,MAAMb,EAAUjD,EAAKvJ,KAAIoB,GAAOR,EAAYxC,aAAaiC,IAAIe,KAC7DgM,EAAQZ,QAAUA,CACnB,CACF,EAEDkB,iBAAiBf,GACfK,EAAWE,UAAUI,iBAAiBX,EACvC,EAEDgB,sBAAsBhB,GACpB,MAAMa,EAAkB1K,SAASoB,cAAc,mBAEzC9F,EAAeuO,EAAME,OAE3BjM,EAAYxC,aAAeA,EAC3BwC,EAAYtC,oBAAAA,EACZ,IAAK,MAAMiP,KAAmBP,EAAWC,UAAU7O,aAAaR,QAC9D2P,IAIF,GAAK3M,EAAYpC,mBAUjB,GAAIgP,EAAgB5J,aAAa,uBAC/BpB,QAAQoL,MAAM,uDACT,CACL,MAAMpB,EAAU,IAAInO,IAClBuC,EAAYrC,UAAUyB,KAAII,GACjB,CAACA,EAAaQ,EAAYxC,aAAaiC,IAAID,OAGtDoN,EAAgBjP,UAAYiO,CAC7B,MAlBCQ,EAAWC,UAAU1O,UAAUmH,MAAK,WAClCsH,EAAWE,UAAUS,sBAAsB,CACzC3M,OAAQ2L,EAAM3L,OACd6L,OAAQF,EAAME,QAE1B,GAcK,EAEDgB,oBAGE,MAAMC,EAAgBhL,SAASoB,cAAc,mBAC7C,GAAI4J,EAAe,CACjB,MAAMC,EAAYjL,SAASsB,iBAAiB,cAC5C0J,EAAcC,UAAYA,CAC3B,CACF,EAEDC,qBAAqBrB,GACnB,MAAMtH,EAAOsH,EAAME,OR5DlB,IAAiC7L,EAAQL,EAAAA,EQ6DL0E,GR7DHrE,EQ6DVJ,GR5DrB3C,MAAQ0C,EAAO1C,MAClB0C,EAAOsN,YACLtN,EAAOsN,qBAAqBC,KAC9BlN,EAAOpC,cAAgB+B,EAAOsN,UACrBtN,EAAOsN,UAAUlR,cAAgBoR,SAC1CnN,EAAOpC,cAAgB,IAAIsP,KAAKvN,EAAOsN,aAGvCtN,EAAO/B,gBACL+B,EAAO/B,yBAAyBsP,KAClClN,EAAOpC,cAAgB+B,EAAO/B,cACrB+B,EAAO/B,cAAc7B,cAAgBoR,OAC9CnN,EAAOpC,cAAgB,IAAIsP,KAAKvN,EAAO/B,eAEvC4D,QAAQC,MAAM,8CAAiD9B,EAAO/B,gBAG1EoC,EAAO9C,YAAcyC,EAAOzC,YAC5B8C,EAAO7C,QAAUwC,EAAOxC,QAAQ6B,KAAMoO,GAAiB,IAAItR,EAAOsR,KAClEpN,EAAOtC,MAAQiC,EAAOjC,MACtBsC,EAAOqN,SAAW1N,EAAO0N,SACrB1N,EAAOhC,MACTqC,EAAOrC,IAAMgC,EAAOhC,KQwClB,MAAM2P,EAAexL,SAASoB,cAAc,kBAU5C,GATIoK,SAAAA,IACS1N,EAAYyN,SACrBC,EAAaD,SAAWzN,EAAYyN,SAEpCC,EAAaC,cAAcC,YAAYF,KAIvBxL,SAAS0F,KAAK5E,aAAa,wBAC3B+H,IAAoB,EC9H/B,SAASvC,EAAK/D,GAC3B,MAAMmD,EAAOY,EAAIZ,KACXiG,EAAUjG,EAAKtE,cAAc,aAGnC,IAAKuK,EAEH,YADAjM,QAAQ2J,KAAK,gEAIf,IAAIuC,EAAStF,EAAIlF,cAAc,YAC1BwK,IACCrJ,EAAKlH,SACPuQ,EAAStF,EAAIrG,cAAc,YAC3ByF,EAAK1E,aAAa4K,EAAQD,IAE1BjM,QAAQ2J,KAAK,yEAIjB,IAAIlO,EAAQmL,EAAIlF,cAAc,WACzBjG,IACHA,EAAQmL,EAAIrG,cAAc,WAC1ByF,EAAK1E,aAAa7F,EAAOyQ,IAG3B,IAAIC,EAAK1Q,EAAMiG,cAAc,MACxByK,IACHA,EAAKvF,EAAIrG,cAAc,MACvB4L,EAAGtM,YAAcgD,EAAKpH,MACtBA,EAAM6F,aAAa6K,EAAI1Q,EAAM8F,aAG/B,MAAM6K,OAAuC,IAAlBvJ,EAAKgJ,SAChC,IAAIC,EAAe9F,EAAKtE,cAAc,kBACtC,GAAI0K,IAAgBN,EAAc,CAChC,MAAMO,EAA8B,oBAAX5L,OACnB6L,EAAcD,GAAa5L,OAAO8L,SAASC,SAASC,SAAS,aAC9DJ,GAAcC,IACjBR,EAAelF,EAAIrG,cAAc,kBACjCuL,EAAaD,SAAWhJ,EAAKgJ,SAC7B7F,EAAK1E,aAAawK,EAAc9F,EAAKzE,YAE3C,MAAc6K,GAAeN,GACzBA,EAAaC,cAAcC,YAAYvR,MAGzC,IAAIiS,EAAW9F,EAAIlF,cAAc,cAC5BgL,IACHA,EAAW9F,EAAIrG,cAAc,cAC7BqG,EAAIZ,KAAK7E,YAAYuL,IAGvB,IAAIC,EAAe/F,EAAIlF,cAAc,mBAChCiL,IACHA,EAAe/F,EAAIrG,cAAc,mBACjCmM,EAASvL,YAAYwL,IAGvB,IAAIC,EAAehG,EAAIlF,cAAc,mBAChCkL,IACHA,EAAehG,EAAIrG,cAAc,mBACjCmM,EAASvL,YAAYyL,GAGzB,CAjEe,CD+HYtM,SAAUlC,GAE7B,MAAMsO,EAAWpM,SAASoB,cAAc,oBACpCgL,IACFA,EAAStO,YAAcA,GAGzB,MAAM8N,EAAS5L,SAASoB,cAAc,YAClCwK,IACFA,EAAO9N,YAAcA,GAGnByE,EAAK3G,QACPiJ,EAAMG,aAAezC,EAAK3G,MAE7B,CACF,EAED2Q,mBACE,GAAIrC,EAAWsC,OAIb,YAHA9M,QAAQ2J,KACN,gEAGG,IAAKR,IAMV,YALAnJ,QAAQ2J,KACN,gEACErJ,SAAS8I,WACT,KAIJoB,EAAWsC,QAAS,EACpB9M,QAAQoL,MAAM,mDAGhB,MAAM2B,EAAiBzM,SAASoB,cAAc,kBAC9C,GAAIqL,EAAgB,CAClB,MAAMlK,EAAOwG,EAAiB0D,GAC9BvC,EAAWE,UAAUc,qBAAqB,CAAEnB,OAAQxH,GACrD,CAGDzE,EAAYrC,UAAY4K,IACxBvI,EAAYpC,oBAAqB,EACjC,IAAK,MAAM+O,KAAmBP,EAAWC,UAAU1O,UAAUX,QAC3D2P,IAGF,GAAI3M,EAAYtC,mBACd,IAAK,MAAMiP,KAAmBP,EAAWC,UAAU7O,aAAaR,QAC9D2P,IAIJ,MAAMO,EAAgBhL,SAASoB,cAAc,mBAC7C,GAAI4J,EAAe,CACjB,MAAMC,EAAYjL,SAASsB,iBAAiB,cAC5C0J,EAAcC,UAAYA,CAC3B,CACF,IE7LQyB,EAASC,g1cAA2CpJ,8lCCP1D,SAASqJ,EAAYC,EAAUC,GACpCpN,QAAQoL,MAAM,kCAAoC+B,EAASzS,MAC3D,MAAM2S,EAAS/M,SAASC,cAAc,UACtC8M,EAAOjH,IAAM+G,EAAS9Q,IACtBgR,EAAOhH,OAAQ,EACX+G,IACFC,EAAO/G,OAAS,WAAa8G,EAAuBD,EAAU,GAEhEE,EAAOC,QAAU,WACf,IAAIjQ,MAAM,+CAAiD8P,EAASzS,KACxE,EACE4F,SAAS2F,KAAK9E,YAAYkM,EAC5B,CAEO,MAAME,EAAY,CACvB,CACE7S,KAAM,gBACN8S,QAAS,WACP,MAAO,mBAAoB/M,QACpB,iBAAkBgN,QAAQC,WAC1B,gBAAiBD,QAAQC,WACzB,YAAapN,SAASC,cAAc,aACpC,YAAaE,QACb,SAAUhC,KAClB,EACDpC,IAAK,mEACJ,CACD3B,KAAM,uBACN8S,QAAS,WACP,MAAO,yBAA0B/M,QAC1B,8BAA+BA,MACvC,EACDpE,IAAK,uEAIF,MAAMsR,EAEXzP,oCACE,OAAOqP,EAAUK,OAAOC,GAASA,EAAKL,WACvC,CAEDtP,YAAY4P,GAEV,MAAMC,EAAiB,SAASZ,GAC9BA,EAASL,UACT9M,QAAQoL,MAAM,8CAAgD+B,EAASzS,MAEnEiT,EAAUK,gBAAgBJ,OAAOC,GAASA,EAAKf,WACjD9M,QAAQoL,MAAM,6DACdpL,QAAQoL,MAAM,kBACd3K,OAAOwN,gBAAkB,EACzBH,IAER,EAEI,IAAK,MAAMX,KAAYQ,EAAUK,gBAC/Bd,EAAYC,EAAUY,EAEzB,8BAMC,OAHKJ,EAAUO,mBACbP,EAAUO,iBAAmBX,EAAUY,QAAQN,IAAUA,EAAKL,aAEzDG,EAAUO,gBAClB,EChEH,MAAMjJ,EAAI/E,EAAS,aAAc,mWAoB1B,MAAMkO,UAAiBnJ,EAAEG,eCpBhC,MAAMH,EAAI/E,EAAS,aAAc,y5BA6D1B,MAAMmO,UAAiBpJ,EAAEG,eC5DhC,MAAMkJ,EAAmB,QAElB,MAAMC,UAAgBnJ,YACTxE,gBAAA,MAAO,WAAc,CAEvCrG,cACE2E,QAEA,IAAIM,kBAAmBgP,IACrB,IAAK,MAAMC,KAAYD,EACrB,IAAK,MAAME,KAAaD,EAASE,WAC/B,GACK,UADGD,EAAU9J,SACJ,CACZ,MAAM7C,EAAO2M,EAAUE,UACvB,IAAKN,EAAiBO,KAAK9M,GAAO,CAChC/B,QAAQ2J,KAAK,2JAA6J5H,GAC1K,MAAM+M,EAAUxO,SAASC,cAAc,QACvCuO,EAAQtO,UAAYkO,EAAUE,UAC9BF,EAAUK,WAAWzN,aAAawN,EAASJ,GAC3CA,EAAUK,WAAW/C,YAAY0C,EAClC,CACb,KAIO/O,QAAQlF,KAAM,CAAC2E,WAAW,GAC9B,4OCrBH,SAAU4P,GAEN,SAASC,IAELxU,KAAKjB,OAAS,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC5FiB,KAAKyU,OAAS,CAAC,IAAI,IAAI,IAAI,IAAI,KAC/BzU,KAAK0U,IAAM,EACX1U,KAAK2U,MAAQ,GACb3U,KAAKuP,QAAU,IAAIvL,MAEnBhE,KAAK4U,aAAe,GAEpB5U,KAAK6U,SAAW,SAASC,GACrB9U,KAAK2U,MAAQG,CACzB,EAEQ9U,KAAK+U,WAAa,WACd,OAAO/U,KAAKuP,OACxB,EAEQvP,KAAKgV,aAAe,SAAS5H,GACzB,MAAa,KAALA,GAAiB,MAALA,GAAkB,MAALA,GAAkB,MAALA,CAC1D,EAEQpN,KAAKiV,MAAQ,SAAS7H,EAAG8H,GAIrB,GAHqB/H,MAAjB+H,GAA+C,MAAjBA,IAC9BA,GAAAA,GACJlV,KAAKmV,eAAeD,GAChBlV,KAAK2U,MAAMtV,UAAUW,KAAK0U,IAAK1U,KAAK0U,IAAMtH,EAAExM,SAAWwM,EAGvD,KAAM,4BAA8BA,EAAI,WAC9BpN,KAAK2U,MAAMtV,UAAUW,KAAK0U,KAHpC1U,KAAK0U,KAAOtH,EAAExM,OAKlBZ,KAAKmV,eAAeD,EAChC,EAEQlV,KAAKoV,SAAW,SAAShI,EAAG8H,GAIxB,OAHqB/H,MAAjB+H,GAA+C,MAAjBA,IAC9BA,GAAAA,GACJlV,KAAKmV,eAAeD,GAChBlV,KAAK2U,MAAMtV,UAAUW,KAAK0U,IAAK1U,KAAK0U,IAAMtH,EAAExM,SAAWwM,GAS/DpN,KAAKqV,QAAU,WACX,KAAOrV,KAAK2U,MAAM/T,OAASZ,KAAK0U,KAA+B,KAAxB1U,KAAK2U,MAAM3U,KAAK0U,MACnD1U,KAAK0U,MAGT,MAA4B,KAAxB1U,KAAK2U,MAAM3U,KAAK0U,IAIhC,EAEQ1U,KAAKmV,eAAiB,SAASD,GAC3B,KAAOlV,KAAKgV,aAAahV,KAAK2U,MAAM3U,KAAK0U,OACrC1U,KAAK0U,MAET,GAA4B,KAAxB1U,KAAK2U,MAAM3U,KAAK0U,MAAgC,GAAjBQ,EAAuB,CACtD,KAA+B,MAAxBlV,KAAK2U,MAAM3U,KAAK0U,MACnB1U,KAAK0U,MAET1U,KAAKmV,eAAeD,EACpC,GAGQlV,KAAKsV,aAAe,WAChB,IAAIC,EAAa,EACjBvV,KAAKiV,MAAM,KAAA,GAGX,IAFA,IAAIO,EAAQxV,KAAK0U,IACbe,GAAU,IACD,CACT,IAAKA,EACD,GAA4B,KAAxBzV,KAAK2U,MAAM3U,KAAK0U,KAAa,CAC7B,KAAIa,EAAa,GAEV,CACH,IAAIG,EAAM1V,KAAK0U,IAEf,OADA1U,KAAKiV,MAAM,KAAK,GACTjV,KAAK2U,MAAMtV,UAAUmW,EAAOE,EAC/D,CAL4BH,GAMP,MAAM,GAA4B,KAAxBvV,KAAK2U,MAAM3U,KAAK0U,KACvBa,SACG,GAAIvV,KAAK0U,KAAO1U,KAAK2U,MAAM/T,OAAS,EACvC,KAAM,qBAIV6U,EADwB,MAAxBzV,KAAK2U,MAAM3U,KAAK0U,MAA2B,GAAXe,EAIpCzV,KAAK0U,KACrB,GAGQ1U,KAAK2V,cAAgB,WAGjB,IAFA,IAAIC,EAAM,GACNC,EAAW,GACN7V,KAAKoV,SAAS,KAAK,IAAsB,GAAZS,GAAgB,CAMlD,GALAD,GAAY5V,KAAK2U,MAAM3U,KAAK0U,KACA,KAAxB1U,KAAK2U,MAAM3U,KAAK0U,MAChBmB,IACwB,KAAxB7V,KAAK2U,MAAM3U,KAAK0U,MAChBmB,IACA7V,KAAK0U,KAAO1U,KAAK2U,MAAM/T,OAAS,EAChC,KAAM,sBAAwBZ,KAAK2U,MAAMtV,UAAUmW,OAEvDxV,KAAK0U,KAErB,CAAY,OAAOkB,CACnB,EAEQ5V,KAAK8V,aAAe,WAChB9V,KAAKiV,MAAM,KAAA,GAGX,IAFA,IAAIO,EAAQxV,KAAK0U,IACbe,GAAU,IACD,CACT,IAAKA,EAAS,CACV,GAA4B,KAAxBzV,KAAK2U,MAAM3U,KAAK0U,KAAa,CAC7B,IAAIgB,EAAM1V,KAAK0U,IAEf,OADA1U,KAAKiV,MAAM,KAAK,GACTjV,KAAK2U,MAAMtV,UAAUmW,EAAOE,EAC3D,CAA2B,GAAI1V,KAAK0U,KAAO1U,KAAK2U,MAAM/T,OAAS,EACvC,KAAM,sBAAwBZ,KAAK2U,MAAMtV,UAAUmW,EAE1D,CAEGC,EADwB,MAAxBzV,KAAK2U,MAAM3U,KAAK0U,MAA2B,GAAXe,EAIpCzV,KAAK0U,KACrB,GAGQ1U,KAAK+V,aAAe,WAChB,IAAIP,EAAQxV,KAAK0U,IACjB,GAAI1U,KAAKoV,SAAS,KACd,OAAOpV,KAAKsV,eACT,GAAItV,KAAKoV,SAAS,KACrB,OAAOpV,KAAK8V,eAEZ,IAAItJ,EAAIxM,KAAKmE,MACb,GAAIqI,EAAEyI,MAAM,YACR,OAAOzI,EACN,GAAIxM,KAAKjB,OAAOyJ,QAAQgE,EAAEvJ,gBAAkB,EAC7C,OAAOuJ,EAAEvJ,cAET,KAAM,kBAAoBjD,KAAK2U,MAAMtV,UAAUmW,GAAS,aAAehJ,GAKnFxM,KAAK6B,MAAQ,WACT,IAAImU,EAAS,GAEb,IADAA,EAAOvN,KAAKzI,KAAK+V,gBACV/V,KAAKoV,SAAS,MACjBpV,KAAKiV,MAAM,KACXe,EAAOvN,KAAKzI,KAAK+V,gBAErB,OAAOC,EAAOnV,KAAK,GAC/B,EAEQb,KAAKmE,IAAM,WAEP,IADA,IAAIqR,EAAQxV,KAAK0U,MACJ,CACT,GAAI1U,KAAK0U,KAAO1U,KAAK2U,MAAM/T,OACvB,KAAM,cAIV,GAAIZ,KAAKyU,OAAOjM,QAAQxI,KAAK2U,MAAM3U,KAAK0U,OAAS,EAC7C,OAAO1U,KAAK2U,MAAMtV,UAAUmW,EAAOxV,KAAK0U,KAExC1U,KAAK0U,KAGzB,GAGQ1U,KAAKiW,iBAAmB,WACpB,IAAI9R,EAAMnE,KAAKmE,MACf,GAAInE,KAAKoV,SAAS,KAGd,OAFApV,KAAKiV,MAAM,KAEJ,CAAE9Q,EADCnE,KAAK6B,SAGf,KAAM,6CACI7B,KAAK2U,MAAMtV,UAAUW,KAAK0U,MAI5C1U,KAAKkW,eAAiB,WAClB,IAAIC,EAAKnW,KAAKiW,mBAGd,IAFAjW,KAAK4U,aAAwBwB,UAAI,GACjCpW,KAAK4U,aAAwBwB,UAAED,EAAG,IAAMA,EAAG,GACpCnW,KAAKoV,SAAS,OACjBpV,KAAKiV,MAAM,MAEPjV,KAAKoV,SAAS,OAIlBe,EAAKnW,KAAKiW,mBACVjW,KAAK4U,aAAwBwB,UAAED,EAAG,IAAMA,EAAG,IAInDnW,KAAKqW,WAAa,SAAShL,GACvBrL,KAAK4U,aAAe,GACpB5U,KAAK4U,aAA0BzR,YAAInD,KAAKmE,MACxCnE,KAAK4U,aAAwB0B,UAAIjL,EAAEhM,UAAU,GAC7CW,KAAKiV,MAAM,KACXjV,KAAKkW,iBACLlW,KAAKuP,QAAQ9G,KAAKzI,KAAK4U,aACnC,EAEQ5U,KAAKuW,UAAY,WAEb,OADAvW,KAAKiV,MAAM,KACJ,IAAMjV,KAAKmE,KAC9B,EAEQnE,KAAKwW,SAAW,WACZxW,KAAK4U,aAAe,GACpB5U,KAAK4U,aAAwB0B,UAAI,WACjCtW,KAAK4U,aAAoBpF,MAAIxP,KAAK2V,gBAClC3V,KAAKuP,QAAQ9G,KAAKzI,KAAK4U,aACnC,EAEQ5U,KAAKyW,QAAU,WACXzW,KAAK4U,aAAe,GACpB5U,KAAK4U,aAAwB0B,UAAI,UACjCtW,KAAK4U,aAAoBpF,MAAIxP,KAAK2V,gBAClC3V,KAAKuP,QAAQ9G,KAAKzI,KAAK4U,aACnC,EAEQ5U,KAAKwP,MAAQ,SAASnE,GAClBrL,KAAKqW,WAAWhL,EAC5B,EAEQrL,KAAK0W,OAAS,WACV,KAAO1W,KAAKqV,WAAW,CACnB,IAAIhK,EAAIrL,KAAKuW,YACbvW,KAAKiV,MAAM,KACF,WAAL5J,EACArL,KAAK2W,SACO,aAALtL,EACPrL,KAAKwW,WACO,YAALnL,EACPrL,KAAKyW,UAELzW,KAAKwP,MAAMnE,GAEfrL,KAAKiV,MAAM,IAC3B,EAGA,CACIV,EAAQqC,OAAS,SAASF,GACtB,IAAIG,EAAI,IAAIrC,EAGZ,OAFAqC,EAAEhC,SAAS6B,GACXG,EAAEH,SACKG,EAAEtH,OACjB,EAGIgF,EAAQuC,SAAW,SAASC,GACxB,IAAIC,EAAM,GACV,IAAM,IAAI9O,KAAK6O,EAAM,CAOjB,GANAC,GAAO,IAAMD,EAAK7O,GAAGoO,UACrBU,GAAO,IACHD,EAAK7O,GAAG/E,cACR6T,GAAOD,EAAK7O,GAAG/E,YAAc,MAC7B4T,EAAK7O,GAAGsH,QACRwH,GAAOD,EAAK7O,GAAGsH,OACfuH,EAAK7O,GAAGkO,UAAW,CACnB,IAAIa,EAAO,GACX,IAAK,IAAIC,KAAOH,EAAK7O,GAAGkO,UACD,GAAfa,EAAKrW,SACLqW,GAAQ,MACZA,GAAQC,EAAM,MAAQH,EAAK7O,GAAGkO,UAAUc,GAAO,IAEnDF,GAAOC,CACV,CACDD,GAAO,OACV,CACD,OAAOA,CAEf,CAEC,CAxSD,CAwS+DzC,MC9S/D,SAAS4C,EAAaR,GACpB,OAAOA,EACJtJ,QAAQ,YAAa,KACrBA,QAAQ,sCAAsC+J,EAAMC,EAAGC,IAASA,IAChEjK,QAAQ,mBAAA,CAAoB+J,EAAME,IAASA,IAC3CjK,QAAQ,SAAS,GACtB,CAEO,SAASkK,EAAYb,GAC1B,MAAMvV,EAAe,IAAIC,IACnBoW,EAAgBC,EAAYb,OAAOF,GACzC,IAAK,MAAMlH,KAASgI,EAAe,CAEjC,IAAK,MAAOrT,EAAKtC,KAAU+B,OAAO2L,QAAQC,EAAM4G,WAC9C5G,EAAM4G,UAAUjS,EAAIlB,eAAiBkU,EAAatV,GAEpD2N,EAAM4G,UAAUjO,KAAOqH,EAAM8G,UAE7BnV,EAAaqC,IAAIgM,EAAMrM,YAAaqM,EAAM4G,UAC3C,CACD,OAAOjV,CACT,CCLO,MAAMuW,UAAqB/M,YAErBxE,gBAAO,MAAO,gBAAmB,CAE5CrG,cACE2E,QAIiB,IAAIM,kBAAmBwK,IACtC,IAAK,MAAMC,KAASD,EACY,WAA1BC,EAAMzL,OAAOoG,UAAwC,kBAAfqF,EAAMrH,MAC9CnI,KAAK2X,iBAER,IAEMzS,QAAQlF,KARD,CAAC2E,aAAiBC,eAAAA,EAAqBC,SAAAA,GASxD,CAEDM,oBACEyS,4BACE5X,KAAK2X,iBAER,GAAA,CAEDA,kBACE,MAAMjM,EAAY1L,KAAKiH,cAAc,UACrC,GAAKyE,EACL,GAAsB,eAAlBA,EAAUvD,KAAuB,CACnC,MAAM0P,EAAYnM,EAAUtG,YAC5B,GAAIpF,KAAK0W,SAAWmB,EAAW,CAC7B7X,KAAK0W,OAASmB,EACd,MAAM1W,EAAeoW,EAAYvX,KAAK0W,QACtC1W,KAAKyP,OAAOtO,EACb,CACP,MAAW,GAAsB,aAAlBuK,EAAUvD,KAAqB,CACxC,MAAMhH,EAAe,IAAIC,IAAIgO,KAAKC,MAAM3D,EAAUtG,cAClDpF,KAAKyP,OAAOtO,EAClB,MACMoE,QAAQ2J,KAAK,6CAA+CxD,EAAUvD,KAEzE,CAEDsH,OAAOtO,GACL,MACMuO,EAAQ,IAAIC,YAAY,wBADd,CAAEC,OAAQzO,EAAc0O,aAExC7P,KAAK8P,cAAcJ,EACpB,iCAKC,MAAO,CAAC,MACT,CAEDoI,eAAepI,GACb,MAAMvO,EAAeoW,EAAY7H,EAAM3L,OAAOgU,UAC9C/X,KAAKyP,OAAOtO,EACb,CAED6W,yBAAyB/X,EAAMgY,EAAUC,GACvC,IAAIC,EAAO,IAAIC,eACfD,EAAKtM,OAAUtC,GAAMvJ,KAAK8X,eAAevO,GACzC4O,EAAKtF,QAAU,IAAMtN,QAAQ2J,KAAK,iCAAiCgJ,MACnEC,EAAKE,aAAe,OACpBF,EAAKG,KAAK,MAAOJ,GAAAA,GACjBC,EAAKI,MACN,EChDI,MAAMC,UAAe7N,YAEfxE,gBAAO,MAAO,UAAa,iBAEtBxC,GACd3D,KAAK+F,UAxCF,SAAwBpC,GAC7B,MAAO,0IAKDA,EAAYzC,QAAQ6B,KAAI7C,GAAU,2CAE9BA,EAAOC,YAAc,uCACGD,EAAOC,gBAAgBD,EAAOD,WAAa,oCAC9CC,EAAOD,yEAG9BC,EAAOK,aAAawC,KAAI1C,GACxBA,EAAYuB,IAAM,gCAAgCvB,EAAYuB,QAAQvB,EAAYJ,WAAa,6BAA6BI,EAAYJ,gBACxIY,KAAK,gCAENA,KAAK,+DAIN8C,EAAYhC,cAAgB,gBACvBgC,EAAYtB,kBAAkBsB,EAAYrB,iBAAiBqB,EAAYhB,qBAAuB,oGAKnGgB,EAAYjC,IAAM,yCACYiC,EAAYjC,QAAQiC,EAAYjC,cAAgB,iEAKtF,CAjCO,CAwC6BiC,EACjC,ECxCH,MAAM6G,EAAI/E,EACR,SACA,m5BAyDK,MAAMgT,UAAajO,EAAEG,cAE1B7K,cACE2E,QACAzE,KAAK0Y,SAAW,GAChB1Y,KAAK2Y,SAAW,EACjB,CAEDxT,oBACEnF,KAAK4Y,UAAY5Y,KAAKqF,KAAK4B,cAAc,cACzCjH,KAAK6Y,UAAY7Y,KAAKqF,KAAK4B,cAAc,oBACzCjH,KAAK8Y,SAAW9Y,KAAKqF,KAAK4B,cAAc,eACxCjB,OAAO+S,eAAeC,YAAY,eAAeC,MAAK,KACpDjZ,KAAK8Y,SAASI,OAAOlZ,KAAK,IAGxBA,KAAKoQ,SACPpQ,KAAKmZ,eAAenZ,KAAKoQ,SAEvBpQ,KAAKuP,SACPvP,KAAKoZ,eAAepZ,KAAKuP,QAE5B,CAaC8J,gCAAA,MAAO,CAAC,MAAO,aAChB,CAEDrB,yBAAyB/X,EAAMgY,EAAUC,GACvC,MAAMoB,EAAYrB,EAAW,mBAAqB,mBAC5C3L,EAAO4L,EAASxX,MAAM,KAAKqC,KAAIyJ,GAAKA,EAAEC,SAEtCiD,EAAQ,IAAIC,YAAY2J,EADd,CAAE1J,OAAQ,CAAC5P,KAAMsM,GAAOuD,SAAAA,IAExChK,SAASiK,cAAcJ,EACxB,CAEGvL,QAAItC,GACN7B,KAAKsJ,aAAa,MAAOzH,EAC1B,CAGCsC,UAAA,OAAOnE,KAAKuM,aAAa,QAAUvM,KAAKuM,aAAa,aACtD,CAEGD,WACF,MAAMiN,EAASvZ,KAAKmE,IAAIzD,MAAM,KAE9B,OADA6E,QAAQiL,IAAI+I,GACLA,CACR,aAIWnJ,GACVpQ,KAAK0Y,SAAWtI,EAChBpQ,KAAKmZ,eAAe/I,EACrB,CAGCA,cAAA,OAAOpQ,KAAK0Y,QACb,CAEDS,eAAe/I,GACb,IAAKpQ,KAAK6Y,UAAW,OACrB,MAGMzT,EAAc,IAHEgL,EAAQrN,KAAIyE,IACf,GAAVA,EAAc,IAAMA,EAAQ,EAAI,KAED3G,KAAK,MAAQ,IACrDb,KAAK6Y,UAAUzT,YAAcA,CAC9B,CAEWmK,YAAAA,GACVvP,KAAK2Y,SAAWpJ,EAChBvP,KAAKoZ,eAAe7J,EACrB,CAGCA,cAAA,OAAOvP,KAAK2Y,QACb,CAEDS,eAAe7J,GACRvP,KAAK8Y,WACV9Y,KAAK8Y,SAAS/S,UAAY,eACtBwJ,EACCxM,IAAIsL,GACJtL,KAAIyW,GAAQ,OAAOA,WACnB3Y,KAAK,mBAEX,EC9GI,MAAM4Y,UAAqB9O,YAErBxE,gBAAO,MAAO,iBAAoB,CAE7ChB,oBACOnF,KAAK2G,aAAa,yBACrB3G,KAAKyK,MAAMzC,QAAU,OAExB,CAEa1G,cAAAA,IA3CT,SAA4BuN,EAASU,EAASpD,EAAItG,UACvD,GAAI0J,EAAQmK,KAAO,EAAG,CACpB7K,EAAQpE,MAAMzC,QAAU,GACxB,IAAI2R,EAAO9K,EAAQ5H,cAAc,eACjC,GAAI0S,EACFA,EAAK5T,UAAY,OACZ,CACL,MAAM6T,EAAYzN,EAAIrG,cAAc,SACpC8T,EAAU7T,UAtBD,wKAuBT8I,EAAQnI,YAAYkT,GAEpB,MAAMC,EAAU1N,EAAIrG,cAAc,MAClC+T,EAAQC,GAAK,aACbD,EAAQzU,YAAc,aACtByJ,EAAQnI,YAAYmT,GAEpBF,EAAOxN,EAAIrG,cAAc,MACzB6T,EAAKG,GAAK,kBACVH,EAAKI,UAAY,aACjBlL,EAAQnI,YAAYiT,EACrB,CAED,IAAK,MAAOxV,EAAKqL,KAAUD,EAAS,CAClC,MAAMyK,EAAW7N,EAAIrG,cAAc,MACnCkU,EAASF,GAAK3V,EACd6V,EAASjU,UAAYmI,EAAkBsB,GACvCmK,EAAKjT,YAAYsT,EAClB,CACL,MACInL,EAAQpE,MAAMzC,QAAU,MAE5B,CA/BO,CA4CgBhI,KAAMsB,EAC1B,uBCrEH,IAgBI2Y,EAAS,SAAUC,GAGtB,IAAIC,EAAO,0CACPC,EAAW,EAGXC,EAAmB,CAAA,EAGnBC,EAAI,CAsBPC,OAAQL,EAAMD,OAASC,EAAMD,MAAMM,OAsBnCC,4BAA6BN,EAAMD,OAASC,EAAMD,MAAMO,4BAWxDC,KAAM,CACLC,OAAQ,SAASA,EAAOC,GACvB,OAAIA,aAAkBC,EACd,IAAIA,EAAMD,EAAOxS,KAAMuS,EAAOC,EAAOrU,SAAUqU,EAAOE,OACnD7W,MAAM8W,QAAQH,GACjBA,EAAO5X,IAAI2X,GAEXC,EAAOtN,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,UAAW,IAE/E,EAkBDlF,KAAM,SAAU4S,GACf,OAAOnX,OAAOqP,UAAUxT,SAASub,KAAKD,GAAGpa,MAAM,GAAI,EACnD,EAQDsa,MAAO,SAAUC,GAIhB,OAHKA,EAAUC,MACdvX,OAAOwX,eAAeF,EAAK,OAAQ,CAAErZ,QAASuY,IAExCc,EAAUC,IACjB,EAYD/U,MAAO,SAASiV,EAAUN,EAAGO,GAG5B,IAAIlV,EAAW0T,EACf,OAHAwB,EAAUA,GAAW,GAGbhB,EAAEG,KAAKtS,KAAK4S,IACnB,IAAK,SAEJ,GADAjB,EAAKQ,EAAEG,KAAKQ,MAAMF,GACdO,EAAQxB,GACX,OAAOwB,EAAQxB,GAKhB,IAAK,IAAI3V,KAHTiC,EAAK,CAAyC,EAC9CkV,EAAQxB,GAAM1T,EAEE2U,EACXA,EAAExX,eAAeY,KACpBiC,EAAMjC,GAAOkX,EAAUN,EAAE5W,GAAMmX,IAIjC,OAAApT,EAED,IAAK,QAEJ,OADA4R,EAAKQ,EAAEG,KAAKQ,MAAMF,GACdO,EAAQxB,GACJwB,EAAQxB,IAEhB1T,EAAQ,GACRkV,EAAQxB,GAAM1T,EAEdmD,EAA8CgS,SAAAA,SAAkBC,EAAGtT,GAClE9B,EAAM8B,GAAKmT,EAAUG,EAAGF,EAC/B,IAEMpT,GAED,QACC,OAAO6S,EAET,EAUDU,YAAa,SAAU5M,GACtB,KAAOA,GAAS,CACf,IAAI6M,EAAIvB,EAAKrM,KAAKe,EAAQkL,WAC1B,GAAI2B,EACH,OAAOA,EAAE,GAAGzY,cAEb4L,EAAUA,EAAQyC,aAClB,CACD,MAAO,MACP,EASDqK,YAAa,SAAU9M,EAAS+M,GAG/B/M,EAAQkL,UAAYlL,EAAQkL,UAAU1M,QAAQwO,OAAO1B,EAAM,MAAO,IAIlEtL,EAAQiN,UAAUpP,IAAI,YAAckP,EACpC,EASDG,cAAe,WACd,GAAwB,oBAAblW,SACV,OAAO,KAER,GAAI,kBAAmBA,SACtB,OAA2BA,SAAsBkW,cAOlD,IACC,MAAM,IAAInZ,KACV,CAAC,MAAO0H,GAQR,IAAIqB,GAAO,qCAAqCmC,KAAKxD,EAAI0R,QAAU,IAAI,GACvE,GAAIrQ,EAAK,CACR,IAAIsQ,EAAUpW,SAASqW,qBAAqB,UAC5C,IAAK,IAAIhU,KAAK+T,EACb,GAAIA,EAAQ/T,GAAGyD,KAAOA,EACrB,OAAOsQ,EAAQ/T,EAGjB,CACD,OAAO,IACP,CACD,EAqBDiU,SAAU,SAAUtN,EAASkL,EAAWqC,GAGvC,IAFA,IAAIC,EAAK,MAAQtC,EAEVlL,GAAS,CACf,IAAIiN,EAAYjN,EAAQiN,UACxB,GAAIA,EAAUQ,SAASvC,GACtB,SAED,GAAI+B,EAAUQ,SAASD,GACtB,OAAO,EAERxN,EAAUA,EAAQyC,aAClB,CACD,QAAS8K,CACT,GAUFG,UAAW,CAIVC,MAAOnC,EACPoC,UAAWpC,EACX/S,KAAM+S,EACNqC,IAAKrC,EA8BLsC,OAAQ,SAAU7C,EAAI8C,GACrB,IAAIzC,EAAOG,EAAEG,KAAKrU,MAAMkU,EAAEiC,UAAUzC,IAEpC,IAAK,IAAI3V,KAAOyY,EACfzC,EAAKhW,GAAOyY,EAAMzY,GAGnB,OAAOgW,CACP,EA6EDtT,aAAc,SAAUgW,EAAQC,EAAQC,EAAQ1X,GAE/C,IAAI2X,GADJ3X,EAAOA,GAA4BiV,EAAWiC,WAC3BM,GAEfI,EAAM,CAAA,EAEV,IAAK,IAAIC,KAASF,EACjB,GAAIA,EAAQzZ,eAAe2Z,GAAQ,CAElC,GAAIA,GAASJ,EACZ,IAAK,IAAIK,KAAYJ,EAChBA,EAAOxZ,eAAe4Z,KACzBF,EAAIE,GAAYJ,EAAOI,IAMrBJ,EAAOxZ,eAAe2Z,KAC1BD,EAAIC,GAASF,EAAQE,GAEtB,CAGF,IAAIE,EAAM/X,EAAKwX,GAUf,OATAxX,EAAKwX,GAAUI,EAGf3C,EAAEiC,UAAUc,IAAI/C,EAAEiC,oBAAqBpY,EAAKtC,GACvCA,IAAUub,GAAOjZ,GAAO0Y,IAC3B7c,KAAKmE,GAAO8Y,MAIPA,CACP,EAGDI,IAAK,SAASA,EAAItC,EAAG1H,EAAUlL,EAAMmT,GACpCA,EAAUA,GAAW,GAErB,IAAIL,EAAQX,EAAEG,KAAKQ,MAEnB,IAAK,IAAI/S,KAAK6S,EACb,GAAIA,EAAExX,eAAe2E,GAAI,CACxBmL,EAAS2H,KAAKD,EAAG7S,EAAG6S,EAAE7S,GAAIC,GAAQD,GAElC,IAAI5E,EAAWyX,EAAE7S,GACboV,EAAehD,EAAEG,KAAKtS,KAAK7E,GAEV,WAAjBga,GAA8BhC,EAAQL,EAAM3X,IAGpB,UAAjBga,GAA6BhC,EAAQL,EAAM3X,MACrDgY,EAAQL,EAAM3X,OACd+Z,EAAI/Z,EAAU+P,EAAUnL,EAAGoT,KAJ3BA,EAAQL,EAAM3X,KAAa,EAC3B+Z,EAAI/Z,EAAU+P,EAAU,KAAMiI,GAK/B,CAEF,GAGFiC,QAAS,CAAE,EAcXC,aAAc,SAAU5R,EAAOyH,GAC9BiH,EAAEmD,kBAAkB5X,SAAU+F,EAAOyH,EACrC,EAiBDoK,kBAAmB,SAAUzR,EAAWJ,EAAOyH,GAC9C,IAAIqK,EAAM,CACTrK,SAAUA,EACVrH,UAAWA,EACX2R,SAAU,oGAGXrD,EAAEsD,MAAMC,IAAI,sBAAuBH,GAEnCA,EAAII,SAAW9Z,MAAMiP,UAAUtS,MAAMod,MAAML,EAAI1R,UAAU7E,iBAAiBuW,EAAIC,WAE9ErD,EAAEsD,MAAMC,IAAI,gCAAiCH,GAE7C,IAAK,IAAW7O,EAAP3G,EAAI,EAAa2G,EAAU6O,EAAII,SAAS5V,MAChDoS,EAAE0D,iBAAiBnP,GAAmB,IAAVjD,EAAgB8R,EAAIrK,SAEjD,EA8BD2K,iBAAkB,SAAUnP,EAASjD,EAAOyH,GAE3C,IAAIuI,EAAWtB,EAAEG,KAAKgB,YAAY5M,GAC9BmO,EAAU1C,EAAEiC,UAAUX,GAG1BtB,EAAEG,KAAKkB,YAAY9M,EAAS+M,GAG5B,IAAIqC,EAASpP,EAAQyC,cACjB2M,GAA4C,QAAlCA,EAAO9T,SAASlH,eAC7BqX,EAAEG,KAAKkB,YAAYsC,EAAQrC,GAG5B,IAEI8B,EAAM,CACT7O,QAASA,EACT+M,SAAUA,EACVoB,QAASA,EACTkB,KANUrP,EAAQzJ,aASnB,SAAS+Y,EAAsBC,GAC9BV,EAAIU,gBAAkBA,EAEtB9D,EAAEsD,MAAMC,IAAI,gBAAiBH,GAE7BA,EAAI7O,QAAQ9I,UAAY2X,EAAIU,gBAE5B9D,EAAEsD,MAAMC,IAAI,kBAAmBH,GAC/BpD,EAAEsD,MAAMC,IAAI,WAAYH,GACxBrK,GAAYA,EAAS2H,KAAK0C,EAAI7O,QAC9B,CAUD,GARAyL,EAAEsD,MAAMC,IAAI,sBAAuBH,IAGnCO,EAASP,EAAI7O,QAAQyC,gBAC2B,QAAlC2M,EAAO9T,SAASlH,gBAA4Bgb,EAAOtX,aAAa,aAC7EsX,EAAO3U,aAAa,WAAY,MAG5BoU,EAAIQ,KAGR,OAFA5D,EAAEsD,MAAMC,IAAI,WAAYH,QACxBrK,GAAYA,EAAS2H,KAAK0C,EAAI7O,UAM/B,GAFAyL,EAAEsD,MAAMC,IAAI,mBAAoBH,GAE3BA,EAAIV,QAKT,GAAIpR,GAASsO,EAAMmE,OAAQ,CAC1B,IAAIC,EAAS,IAAID,OAAO/D,EAAEiE,UAE1BD,EAAOE,UAAY,SAAUC,GAC5BN,EAAsBM,EAAIrW,KAC/B,EAEIkW,EAAOI,YAAYtP,KAAKuP,UAAU,CACjC/C,SAAU8B,EAAI9B,SACdsC,KAAMR,EAAIQ,KACVU,gBAAgB,IAErB,MACIT,EAAsB7D,EAAEuE,UAAUnB,EAAIQ,KAAMR,EAAIV,QAASU,EAAI9B,gBAjB7DuC,EAAsB7D,EAAEG,KAAKC,OAAOgD,EAAIQ,MAmBzC,EAsBDW,UAAW,SAAUvX,EAAM0V,EAASpB,GACnC,IAAI8B,EAAM,CACTQ,KAAM5W,EACN0V,QAASA,EACTpB,SAAUA,GAGX,GADAtB,EAAEsD,MAAMC,IAAI,kBAAmBH,IAC1BA,EAAIV,QACR,MAAM,IAAIpa,MAAM,iBAAmB8a,EAAI9B,SAAW,qBAInD,OAFA8B,EAAI/C,OAASL,EAAEwE,SAASpB,EAAIQ,KAAMR,EAAIV,SACtC1C,EAAEsD,MAAMC,IAAI,iBAAkBH,GACvB9C,EAAM+D,UAAUrE,EAAEG,KAAKC,OAAOgD,EAAI/C,QAAS+C,EAAI9B,SACtD,EA0BDkD,SAAU,SAAUxX,EAAM0V,GACzB,IAAI+B,EAAO/B,EAAQ+B,KACnB,GAAIA,EAAM,CACT,IAAK,IAAI7B,KAAS6B,EACjB/B,EAAQE,GAAS6B,EAAK7B,UAGhBF,EAAQ+B,IACf,CAED,IAAIC,EAAY,IAAIC,EAKpB,OAJAC,EAASF,EAAWA,EAAUxT,KAAMlE,GAEpC6X,EAAa7X,EAAM0X,EAAWhC,EAASgC,EAAUxT,KAAM,GAyazD,SAAiBmO,GAGhB,IAFA,IAAIyF,EAAQ,GACRC,EAAO1F,EAAKnO,KAAK8T,KACdD,IAAS1F,EAAK4F,MACpBH,EAAM3W,KAAK4W,EAAKxd,OAChBwd,EAAOA,EAAKC,KAEb,OAAOF,CACP,CARD,CAvaiBJ,EACf,EAODpB,MAAO,CACN4B,IAAK,CAAE,EAcP9S,IAAK,SAAUzM,EAAMoT,GACpB,IAAIuK,EAAQtD,EAAEsD,MAAM4B,IAEpB5B,EAAM3d,GAAQ2d,EAAM3d,IAAS,GAE7B2d,EAAM3d,GAAMwI,KAAK4K,EACjB,EAWDwK,IAAK,SAAU5d,EAAMyd,GACpB,IAAI+B,EAAYnF,EAAEsD,MAAM4B,IAAIvf,GAE5B,GAAKwf,GAAcA,EAAU7e,OAI7B,IAAK,IAAWyS,EAAPnL,EAAI,EAAcmL,EAAWoM,EAAUvX,MAC/CmL,EAASqK,EAEV,GAGF9C,MAAOA,GAqBR,SAASA,EAAMzS,EAAM7B,EAASuU,EAAO6E,GAUpC1f,KAAKmI,KAAOA,EASZnI,KAAKsG,QAAUA,EAQftG,KAAK6a,MAAQA,EAEb7a,KAAKY,OAAqC,GAA3B8e,GAAc,IAAI9e,MACjC,CA6ED,SAAS+e,EAAaC,EAASlL,EAAKpN,EAAMuY,GACzCD,EAAQE,UAAYpL,EACpB,IAAIO,EAAQ2K,EAAQ9R,KAAKxG,GACzB,GAAI2N,GAAS4K,GAAc5K,EAAM,GAAI,CAEpC,IAAI8K,EAAmB9K,EAAM,GAAGrU,OAChCqU,EAAMzN,OAASuY,EACf9K,EAAM,GAAKA,EAAM,GAAGtU,MAAMof,EAC1B,CACD,OAAO9K,CACP,CAgBD,SAASkK,EAAa7X,EAAM0X,EAAWhC,EAASgD,EAAWC,EAAUC,GACpE,IAAK,IAAIhD,KAASF,EACjB,GAAKA,EAAQzZ,eAAe2Z,IAAWF,EAAQE,GAA/C,CAIA,IAAIiD,EAAWnD,EAAQE,GACvBiD,EAAWnc,MAAM8W,QAAQqF,GAAYA,EAAW,CAACA,GAEjD,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAASvf,SAAUwf,EAAG,CACzC,GAAIF,GAAWA,EAAQG,OAASnD,EAAQ,IAAMkD,EAC7C,OAGD,IAAIE,EAAaH,EAASC,GACtBvD,EAASyD,EAAWzD,OACpBgD,IAAeS,EAAWT,WAC1BU,IAAWD,EAAWC,OACtB1F,EAAQyF,EAAWzF,MAEvB,GAAI0F,IAAWD,EAAWV,QAAQY,OAAQ,CAEzC,IAAIC,EAAQH,EAAWV,QAAQngB,WAAWwV,MAAM,aAAa,GAC7DqL,EAAWV,QAAU/D,OAAOyE,EAAWV,QAAQlc,OAAQ+c,EAAQ,IAC/D,CAKD,IAFA,IAAIb,EAAUU,EAAWV,SAAWU,EAG/BI,EAAcV,EAAUV,KAAM5K,EAAMuL,EACxCS,IAAgB1B,EAAUO,QAItBW,GAAWxL,GAAOwL,EAAQS,OAH9BjM,GAAOgM,EAAY7e,MAAMjB,OAAQ8f,EAAcA,EAAYpB,KAC1D,CAMD,IAAI1J,EAAM8K,EAAY7e,MAEtB,GAAImd,EAAUpe,OAAS0G,EAAK1G,OAE3B,OAGD,KAAIgV,aAAegF,GAAnB,CAIA,IACI3F,EADA2L,EAAc,EAGlB,GAAIL,EAAQ,CAEX,KADAtL,EAAQ0K,EAAaC,EAASlL,EAAKpN,EAAMuY,KAC3B5K,EAAMzN,OAASF,EAAK1G,OACjC,MAGD,IAAIqD,EAAOgR,EAAMzN,MACbqZ,EAAK5L,EAAMzN,MAAQyN,EAAM,GAAGrU,OAC5BkgB,EAAIpM,EAIR,IADAoM,GAAKJ,EAAY7e,MAAMjB,OAChBqD,GAAQ6c,GAEdA,IADAJ,EAAcA,EAAYpB,MACTzd,MAAMjB,OAOxB,GAHA8T,EADAoM,GAAKJ,EAAY7e,MAAMjB,OAInB8f,EAAY7e,iBAAiB+Y,EAChC,SAID,IACC,IAAIpO,EAAIkU,EACRlU,IAAMwS,EAAUO,OAASuB,EAAID,GAAyB,iBAAZrU,EAAE3K,OAC5C2K,EAAIA,EAAE8S,KAENsB,IACAE,GAAKtU,EAAE3K,MAAMjB,OAEdggB,IAGAhL,EAAMtO,EAAK3G,MAAM+T,EAAKoM,GACtB7L,EAAMzN,OAASkN,CACrB,MAEM,KADAO,EAAQ0K,EAAaC,EAAS,EAAGhK,EAAKiK,IAErC,SAKE5b,EAAOgR,EAAMzN,MAAjB,IACIuZ,EAAW9L,EAAM,GACjB6H,EAASlH,EAAIjV,MAAM,EAAGsD,GACtB+c,EAAQpL,EAAIjV,MAAMsD,EAAO8c,EAASngB,QAElC+f,EAAQjM,EAAMkB,EAAIhV,OAClBsf,GAAWS,EAAQT,EAAQS,QAC9BT,EAAQS,MAAQA,GAGjB,IAAIM,EAAaP,EAAYQ,KAgB7B,GAdIpE,IACHmE,EAAa/B,EAASF,EAAWiC,EAAYnE,GAC7CpI,GAAOoI,EAAOlc,QAGfugB,EAAYnC,EAAWiC,EAAYL,GAGnCF,EAAcxB,EAASF,EAAWiC,EADpB,IAAIrG,EAAMsC,EAAOL,EAASvC,EAAEwE,SAASiC,EAAUlE,GAAUkE,EAAUlG,EAAOkG,IAGpFC,GACH9B,EAASF,EAAW0B,EAAaM,GAG9BJ,EAAc,EAAG,CAKpB,IAAIQ,EAAgB,CACnBf,MAAOnD,EAAQ,IAAMkD,EACrBO,MAAOA,GAERxB,EAAa7X,EAAM0X,EAAWhC,EAAS0D,EAAYQ,KAAMxM,EAAK0M,GAG1DlB,GAAWkB,EAAcT,MAAQT,EAAQS,QAC5CT,EAAQS,MAAQS,EAAcT,MAE/B,CA7FA,CA8FD,CACD,CA3IA,CA6IF,CAeD,SAAS1B,IAER,IAAIzT,EAAO,CAAE3J,MAAO,KAAMqf,KAAM,KAAM5B,KAAM,MAExCC,EAAO,CAAE1d,MAAO,KAAMqf,KAAM1V,EAAM8T,KAAM,MAC5C9T,EAAK8T,KAAOC,EAGZvf,KAAKwL,KAAOA,EAEZxL,KAAKuf,KAAOA,EACZvf,KAAKY,OAAS,CACd,CAWD,SAASse,EAASvF,EAAM0F,EAAMxd,GAE7B,IAAIyd,EAAOD,EAAKC,KAEZ+B,EAAU,CAAExf,MAAOA,EAAOqf,KAAM7B,EAAMC,KAAMA,GAKhD,OAJAD,EAAKC,KAAO+B,EACZ/B,EAAK4B,KAAOG,EACZ1H,EAAK/Y,SAEEygB,CACP,CASD,SAASF,EAAYxH,EAAM0F,EAAMiC,GAEhC,IADA,IAAIhC,EAAOD,EAAKC,KACPpX,EAAI,EAAGA,EAAIoZ,GAAShC,IAAS3F,EAAK4F,KAAMrX,IAChDoX,EAAOA,EAAKA,KAEbD,EAAKC,KAAOA,EACZA,EAAK4B,KAAO7B,EACZ1F,EAAK/Y,QAAUsH,CACf,CAiBD,GA3XAgS,EAAMD,MAAQK,EA+EdM,EAAM+D,UAAY,SAASA,EAAU5D,EAAGa,GACvC,GAAgB,iBAALb,EACV,OAAOA,EAER,GAAI/W,MAAM8W,QAAQC,GAAI,CACrB,IAAI3N,EAAI,GAIR,OAHA2N,EAAEQ,SAAAA,SAAkBhS,GACnB6D,GAAKuR,EAAUpV,EAAGqS,MAEZxO,CACP,CAED,IAAIsQ,EAAM,CACTvV,KAAM4S,EAAE5S,KACR7B,QAASqY,EAAU5D,EAAEzU,QAASsV,GAC9BzS,IAAK,OACLoY,QAAS,CAAC,QAASxG,EAAE5S,MACrBqZ,WAAY,CAAE,EACd5F,SAAUA,GAGP6F,EAAU1G,EAAEF,MACZ4G,IACCzd,MAAM8W,QAAQ2G,GACjBzd,MAAMiP,UAAUxK,KAAKsV,MAAML,EAAI6D,QAASE,GAExC/D,EAAI6D,QAAQ9Y,KAAKgZ,IAInBnH,EAAEsD,MAAMC,IAAI,OAAQH,GAEpB,IAAI8D,EAAa,GACjB,IAAK,IAAIvhB,KAAQyd,EAAI8D,WACpBA,GAAc,IAAMvhB,EAAO,MAAQyd,EAAI8D,WAAWvhB,IAAS,IAAIoN,QAAQ,KAAM,UAAY,IAG1F,MAAO,IAAMqQ,EAAIvU,IAAM,WAAauU,EAAI6D,QAAQ1gB,KAAK,KAAO,IAAM2gB,EAAa,IAAM9D,EAAIpX,QAAU,KAAOoX,EAAIvU,IAAM,GACtH,GAsQM+Q,EAAMrU,SACV,OAAKqU,EAAMwH,kBAKNpH,EAAEE,6BAENN,EAAMwH,iBAAiB,oBAAqBjD,GAC3C,IAAIkD,EAAUvS,KAAKC,MAAMoP,EAAIrW,MACzB+R,EAAOwH,EAAQ/F,SACfsC,EAAOyD,EAAQzD,KACfU,EAAiB+C,EAAQ/C,eAE7B1E,EAAMwE,YAAYpE,EAAEuE,UAAUX,EAAM5D,EAAEiC,UAAUpC,GAAOA,IACnDyE,GACH1E,EAAM0H,OAEP,IAAA,GAGKtH,GAlBCA,EAsBT,IAAI1H,EAAS0H,EAAEG,KAAKsB,gBAUpB,SAAS8F,IACHvH,EAAEC,QACND,EAAEkD,cAEH,CAED,GAdI5K,IACH0H,EAAEiE,SAAW3L,EAAOjH,IAEhBiH,EAAOjM,aAAa,iBACvB2T,EAAEC,aAUCD,EAAEC,OAAQ,CAOd,IAAI5L,EAAa9I,SAAS8I,WACP,YAAfA,GAA2C,gBAAfA,GAAgCiE,GAAUA,EAAOkP,MAChFjc,SAAS6b,iBAAiB,mBAAoBG,GAE1C7b,OAAO4R,sBACV5R,OAAO4R,sBAAsBiK,GAE7B7b,OAAO+b,WAAWF,EAAgC,GAGpD,CAED,OAAOvH,CAER,CAlqCa,CAhBkB,oBAAXtU,OACjBA,OAE6B,oBAAtBgc,mBAAqCC,gBAAgBD,kBAC1DC,KACA,CAAE;;;;;;;;KA+qC8BC,EAAO3N,UAC3C2N,EAAA3N,QAAiB0F,QAAAA,IAIPuG,IACVA,EAAOvG,MAAQA,GAyDhBA,EAAMsC,UAAU4F,OAAS,CACxB1L,QAAW,CACVmJ,QAAS,8BACTW,QAAQ,GAET6B,OAAU,CACTxC,QAAS,iBACTW,QAAAA,GAED8B,QAAW,CAEVzC,QAAS,uHACTW,QAAAA,EACA1D,OAAQ,CACP,kBAAmB,CAClB+C,QAAS,6BACTC,YAAY,EACZU,QAAQ,EACR1D,OAAQ,MAETlG,OAAU,CACTiJ,QAAS,kBACTW,WAED+B,YAAe,eACf,cAAe,YACfriB,KAAQ,eAGVsiB,MAAS,CACR3C,QAAS,4BACTW,QAAQ,GAETpX,IAAO,CACNyW,QAAS,uHACTW,UACA1D,OAAQ,CACP1T,IAAO,CACNyW,QAAS,iBACT/C,OAAQ,CACPyF,YAAe,QACfE,UAAa,iBAGf,eAAgB,GAChB,aAAc,CACb5C,QAAS,qCACT/C,OAAQ,CACPyF,YAAe,CACd,CACC1C,QAAS,KACT/E,MAAO,eAER,CACC+E,QAAS,mBACTC,YAAAA,MAKJyC,YAAe,OACf,YAAa,CACZ1C,QAAS,YACT/C,OAAQ,CACP2F,UAAa,mBAMjBC,OAAU,CACT,CACC7C,QAAS,kBACT/E,MAAO,gBAER,uBAIFZ,EAAMsC,UAAU4F,OAAYhZ,IAAE0T,OAAO,cAAcA,OAAe4F,OACjExI,EAAMsC,UAAU4F,OAAeM,OAChCxI,EAAMsC,UAAU4F,OAAgBE,QAAExF,OAAO,mBAAmBA,OAAS5C,EAAMsC,UAAU4F,OAGrFlI,EAAM2D,MAAMlR,IAAI,QAAQ,SAAUgR,GAEhB,WAAbA,EAAIvV,OACPuV,EAAI8D,WAAkBxgB,MAAI0c,EAAIpX,QAAQ+G,QAAQ,QAAS,KAEzD,IAEAzJ,OAAOwX,eAAenB,EAAMsC,UAAU4F,OAAOhZ,IAAK,aAAc,CAY/DtH,MAAO,SAAoB6gB,EAASvI,GACnC,IAAIwI,EAAsB,CAAA,EAC1BA,EAAoB,YAAcxI,GAAQ,CACzCyF,QAAS,oCACTC,YAAY,EACZhD,OAAQ5C,EAAMsC,UAAUpC,IAEzBwI,EAA2BJ,MAAI,uBAE/B,IAAI1F,EAAS,CACZ,iBAAkB,CACjB+C,QAAS,4BACT/C,OAAQ8F,IAGV9F,EAAO,YAAc1C,GAAQ,CAC5ByF,QAAS,UACT/C,OAAQ5C,EAAMsC,UAAUpC,IAGzB,IAAIyI,EAAM,CAAA,EACVA,EAAIF,GAAW,CACd9C,QAAS/D,OAAO,wFAAwFnY,OAAO2J,QAAQ,OAAA,WAAqB,OAAOqV,CAAa,IAAA,KAChK7C,YAAY,EACZU,QAAQ,EACR1D,OAAQA,GAGT5C,EAAMsC,UAAU1V,aAAa,SAAU,QAAS+b,EAChD,IAEFhf,OAAOwX,eAAenB,EAAMsC,UAAU4F,OAAOhZ,IAAK,eAAgB,CAYjEtH,MAAO,SAAUghB,EAAU1I,GAC1BF,EAAMsC,UAAU4F,OAAOhZ,IAAI0T,OAAO,gBAAgBpU,KAAK,CACtDmX,QAAS/D,OACR,aAAanY,OAAS,MAAQmf,EAAW,IAAM,iDAAiDnf,OAChG,KAEDmc,YAAAA,EACAhD,OAAQ,CACP,YAAa,WACb,aAAc,CACb+C,QAAS,WACT/C,OAAQ,CACPhb,MAAS,CACR+d,QAAS,yCACTC,YAAY,EACZhF,MAAO,CAACV,EAAM,YAAcA,GAC5B0C,OAAQ5C,EAAMsC,UAAUpC,IAEzBmI,YAAe,CACd,CACC1C,QAAS,KACT/E,MAAO,eAER,WAML,IAGFZ,EAAMsC,UAAU/C,KAAOS,EAAMsC,UAAU4F,OACvClI,EAAMsC,UAAUuG,OAAS7I,EAAMsC,UAAU4F,OACzClI,EAAMsC,UAAUwG,IAAM9I,EAAMsC,UAAU4F,OAEtClI,EAAMsC,UAAUyG,IAAM/I,EAAMsC,UAAUI,OAAO,SAAU,CAAA,GACvD1C,EAAMsC,UAAU0G,KAAOhJ,EAAMsC,UAAUyG,IACvC/I,EAAMsC,UAAU2G,KAAOjJ,EAAMsC,UAAUyG,IACvC/I,EAAMsC,UAAU4G,IAAMlJ,EAAMsC,UAAUyG,IAOrC,SAAU/I,GAEV,IAAItD,EAAS,8EAEbsD,EAAMsC,UAAU6G,IAAM,CACrB3M,QAAW,mBACX4M,OAAU,CACTzD,QAAS/D,OAAO,aAAe,sBAAsBnY,OAAS,IAAMiT,EAAOjT,OAAS,MAAQ,kBAAkBA,QAC9GmZ,OAAQ,CACPyG,KAAQ,WACR,6BAA8B,CAC7B1D,QAAS,4FACTC,YAAY,EACZhF,MAAO,YAER0I,QAAW,CACV3D,QAAS,yCACTC,YAAY,KAKfje,IAAO,CAENge,QAAS/D,OAAO,eAAiBlF,EAAOjT,OAAS,IAAM,8BAA8BA,OAAS,OAAQ,KACtG6c,QAAAA,EACA1D,OAAQ,CACP2G,SAAY,QACZlB,YAAe,UACf3L,OAAU,CACTiJ,QAAS/D,OAAO,IAAMlF,EAAOjT,OAAS,KACtCmX,MAAO,SAIV8C,SAAY,CACXiC,QAAS/D,OAAO,qDAAuDlF,EAAOjT,OAAS,iBACvFmc,YAAAA,GAEDlJ,OAAU,CACTiJ,QAASjJ,EACT4J,QAAQ,GAETjd,SAAY,CACXsc,QAAS,oFACTC,eAED4D,UAAa,gBACbD,SAAY,CACX5D,QAAS,kCACTC,YAAAA,GAEDyC,YAAe,aAGhBrI,EAAMsC,UAAU6G,IAAYC,OAAExG,OAAOkC,KAAO9E,EAAMsC,UAAU6G,IAE5D,IAAIjB,EAASlI,EAAMsC,UAAU4F,OACzBA,IACHA,EAAOhZ,IAAIua,WAAW,QAAS,OAC/BvB,EAAOhZ,IAAIwa,aAAa,QAAS,OAGnC,CA/DC,CA+DC1J,GAOFA,EAAMsC,UAAUqH,MAAQ,CACvBnN,QAAW,CACV,CACCmJ,QAAS,kCACTC,YAAY,EACZU,QAAQ,GAET,CACCX,QAAS,mBACTC,YAAAA,EACAU,QAAAA,IAGF5J,OAAU,CACTiJ,QAAS,iDACTW,QAAQ,GAET,aAAc,CACbX,QAAS,2FACTC,cACAhD,OAAQ,CACPyF,YAAe,UAGjBiB,QAAW,6GACXM,QAAW,qBACXL,SAAY,cACZ/V,OAAU,4DACVqW,SAAY,+CACZxB,YAAe,iBAQhBrI,EAAMsC,UAAUwH,WAAa9J,EAAMsC,UAAUI,OAAO,QAAS,CAC5D,aAAc,CACb1C,EAAMsC,UAAUqH,MAAM,cACtB,CACChE,QAAS,0GACTC,YAAAA,IAGF0D,QAAW,CACV,CACC3D,QAAS,uBACTC,YAAAA,GAED,CACCD,QAAS,mdACTC,YAAAA,IAIF2D,SAAY,oGACZ/V,OAAU,CACTmS,QAAS/D,OACR,aAAanY,OACb,MAGC,eAAeA,OACf,IAEA,0BAA0BA,OAC1B,IAEA,4BAA4BA,OAC5B,IAEA,sCAAsCA,OACtC,IAEA,gBAAgBA,OAChB,IAEA,oFAAoFA,OAErF,IACA,YAAYA,QAEbmc,YAAY,GAEbiE,SAAY,8FAGb7J,EAAMsC,UAAUwH,WAAW,cAAc,GAAGnE,QAAU,uEAEtD3F,EAAMsC,UAAU1V,aAAa,aAAc,UAAW,CACrDmd,MAAS,CACRpE,QAAS/D,OAGR,0DAA0DnY,OAK1D,KAAKA,OACL,MACA,iEAAiEA,OACjE,IAEA,qIAAqIA,OACrI,IAEA,kEAAkEA,QAEnEmc,YAAAA,EACAU,QAAAA,EACA1D,OAAQ,CACP,eAAgB,CACf+C,QAAS,4BACTC,YAAY,EACZhF,MAAO,iBACPgC,OAAQ5C,EAAMsC,UAAUyH,OAEzB,kBAAmB,UACnB,cAAe,aAIjB,oBAAqB,CACpBpE,QAAS,gMACT/E,MAAO,YAERoJ,UAAa,CACZ,CACCrE,QAAS,sIACTC,YAAAA,EACAhD,OAAQ5C,EAAMsC,UAAUwH,YAEzB,CACCnE,QAAS,qFACTC,YAAAA,EACAhD,OAAQ5C,EAAMsC,UAAUwH,YAEzB,CACCnE,QAAS,kEACTC,YAAY,EACZhD,OAAQ5C,EAAMsC,UAAUwH,YAEzB,CACCnE,QAAS,8eACTC,YAAY,EACZhD,OAAQ5C,EAAMsC,UAAUwH,aAG1BG,SAAY,8BAGbjK,EAAMsC,UAAU1V,aAAa,aAAc,SAAU,CACpDsd,SAAY,CACXvE,QAAS,QACTW,QAAQ,EACR1F,MAAO,WAER,kBAAmB,CAClB+E,QAAS,2EACTW,QAAQ,EACR1D,OAAQ,CACP,uBAAwB,CACvB+C,QAAS,QACT/E,MAAO,UAERuJ,cAAiB,CAChBxE,QAAS,mEACTC,YAAY,EACZhD,OAAQ,CACP,4BAA6B,CAC5B+C,QAAS,YACT/E,MAAO,eAERkE,KAAM9E,EAAMsC,UAAUwH,aAGxBpN,OAAU,YAGZ,kBAAmB,CAClBiJ,QAAS,4EACTC,YAAAA,EACAU,QAAAA,EACA1F,MAAO,cAITZ,EAAMsC,UAAU1V,aAAa,aAAc,WAAY,CACtD,mBAAoB,CACnB+Y,QAAS,oFACTC,YAAAA,EACAhF,MAAO,cAILZ,EAAMsC,UAAU4F,SACnBlI,EAAMsC,UAAU4F,OAAOhZ,IAAIua,WAAW,SAAU,cAIhDzJ,EAAMsC,UAAU4F,OAAOhZ,IAAIwa,aAC1B,yNAAyNjgB,OACzN,eAIFuW,EAAMsC,UAAU8H,GAAKpK,EAAMsC,UAAUwH,WAOpC,WAEA,QAAqB,IAAV9J,GAA6C,oBAAbpU,SAA3C,CAKKmN,QAAQC,UAAUqR,UACtBtR,QAAQC,UAAUqR,QAAUtR,QAAQC,UAAUsR,mBAAqBvR,QAAQC,UAAUuR,uBAGtF,IAMIC,EAAa,CAChBJ,GAAM,aACNK,GAAM,SACNC,GAAM,OACNC,IAAO,aACPC,KAAQ,aACRC,GAAM,OACNC,IAAO,QACPC,EAAK,IACLC,IAAO,SAGJC,EAAc,kBACdC,EAAiB,UACjBC,EAAgB,SAGhBC,EAAW,sBAAwBH,EAAc,KAAOE,EAA7C,YACDF,EAAc,KAAOC,EAAiB,MAsDpDlL,EAAM2D,MAAMlR,IAAI,uBAAuB,SAAUgR,GAChDA,EAAIC,UAAY,KAAO0H,CACzB,IAECpL,EAAM2D,MAAMlR,IAAI,uBAAuB,SAAUgR,GAChD,IAAI4H,EAAqC5H,EAAW7O,QACpD,GAAIyW,EAAIhB,QAAQe,GAAW,CAC1B3H,EAAIQ,KAAO,GAEXoH,EAAIhc,aAAa4b,EAAaC,GAG9B,IAAIjH,EAAOoH,EAAI5e,YAAYb,SAASC,cAAc,SAClDoY,EAAK9Y,YA3Fe,WA6FpB,IAAIuG,EAAM2Z,EAAI/Y,aAAa,YAEvBqP,EAAW8B,EAAI9B,SACnB,GAAiB,SAAbA,EAAqB,CAGxB,IAAI2J,GAAa,WAAWzX,KAAKnC,IAAQ,CAAG,CAAA,SAAS,GACrDiQ,EAAW6I,EAAWc,IAAcA,CACpC,CAGDtL,EAAMQ,KAAKkB,YAAYuC,EAAMtC,GAC7B3B,EAAMQ,KAAKkB,YAAY2J,EAAK1J,GAG5B,IAAI4J,EAAavL,EAAMsD,QAAQiI,WAC3BA,GACHA,EAAWC,cAAc7J,GA7E5B,SAAkBjQ,EAAK+Z,EAASlgB,GAC/B,IAAImgB,EAAM,IAAIvN,eACduN,EAAIrN,KAAK,MAAO3M,MAChBga,EAAIC,mBAAqB,WACF,GAAlBD,EAAIhX,aACHgX,EAAIE,OAAS,KAAOF,EAAIG,aAC3BJ,EAAQC,EAAIG,cAERH,EAAIE,QAAU,IACjBrgB,EAxCG,WAwCmBmgB,EAAIE,OAxCD,yBAwCSF,EAAII,YAEtCvgB,EAxCuB,4CA4C7B,EACEmgB,EAAIpN,KAAK,KACT,CAjBD,CAkFG5M,GAAAA,SACUrE,GAETge,EAAIhc,aAAa4b,EAAaE,GAG9B,IAAIY,EA7DR,SAAoBA,GACnB,IAAItK,EAAI,wCAAwC5N,KAAKkY,GAAS,IAC9D,GAAItK,EAAG,CACN,IAAIlG,EAAQyQ,OAAOvK,EAAE,IACjBwK,EAAQxK,EAAE,GACVhG,EAAMgG,EAAE,GAEZ,OAAKwK,EAGAxQ,EAGE,CAACF,EAAOyQ,OAAOvQ,IAFd,CAACF,OAAOrI,GAHR,CAACqI,EAAOA,EAMhB,CAED,CAhBD,CA6D2B8P,EAAI/Y,aAAa,eACxC,GAAIyZ,EAAO,CACV,IAAIG,EAAQ7e,EAAK5G,MAAM,aAGnB8U,EAAQwQ,EAAM,GACdtQ,EAAkB,MAAZsQ,EAAM,GAAaG,EAAMvlB,OAASolB,EAAM,GAE9CxQ,EAAQ,IAAKA,GAAS2Q,EAAMvlB,QAChC4U,EAAQhH,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI+G,EAAQ,EAAG2Q,EAAMvlB,SAC1C8U,EAAM,IAAKA,GAAOyQ,EAAMvlB,QAC5B8U,EAAMlH,KAAK4X,IAAI,EAAG5X,KAAKC,IAAIiH,EAAKyQ,EAAMvlB,SAEtC0G,EAAO6e,EAAMxlB,MAAM6U,EAAOE,GAAK7U,KAAK,MAG/BykB,EAAI3e,aAAa,eACrB2e,EAAIhc,aAAa,aAAc4H,OAAOsE,EAAQ,GAE/C,CAGD0I,EAAK9Y,YAAckC,EACnB2S,EAAM+D,iBAAiBE,EACvB,IAAA,SACS1Y,GAET8f,EAAIhc,aAAa4b,EA/HD,UAiIhBhH,EAAK9Y,YAAcI,CAGrB,GAAA,KAGFyU,EAAMsD,QAAQ8I,cAAgB,CAQ7BxH,UAAW,SAAmB7S,GAG7B,IAFA,IAEgB6C,EAFZiP,GAAY9R,GAAanG,UAAUsB,iBAAiBke,GAE/Cnd,EAAI,EAAa2G,EAAUiP,EAAS5V,MAC5C+R,EAAM+D,iBAAiBnP,EAExB,GAGF,IAAIyX,KAEJrM,EAAMoM,cAAgB,WAChBC,IACJ/gB,QAAQ2J,KAAK,2FACboX,MAEDrM,EAAMsD,QAAQ8I,cAAcxH,UAAUd,MAAM/d,KAAMumB,UACpD,CA5LE,CA8LF,CAlMC,MCvtDDtM,MAAMsC,UAAUiK,OAAS,CACxB/P,QAAW,CACVmJ,QAAS,eACTC,YAAY,EACZU,QAAQ,GAET,uBAAwB,CACvBX,QAAS,sEACTW,QAAAA,EACA1D,OAAQ,CACPuH,cAAiB,CAEhBxE,QAAS,sFACTC,YAAY,EACZhD,OAAQ,CACP,cAAe,CACd+C,QAAS,sBACTC,YAAAA,GAED,oBAAqB,CACpBD,QAAS,kBACT/E,MAAO,eAERkE,KAAM,OAGRpI,OAAU,YAGZ,uBAAwB,CACvBiJ,QAAS,uCACTW,QAAQ,EACR1F,MAAO,UAERlE,OAAU,CACTiJ,QAAS,mDACTW,WAEDiD,SAAY,CACX5D,QAAS,4CACTC,YAAAA,GAED,aAAc,CACbD,QAAS,mBACTC,YAAY,GAEb4G,UAAa,CACZ7G,QAAS,2BACTC,YAAY,EACZhF,MAAO,CAAC,aAAc,eACtBgC,OAAQ,CACPyF,YAAe,OAGjBiB,QAAW,wNACXmD,QAAW,shBACX7C,QAAW,0BACXpW,OAAU,mJACVqW,SAAY,uDACZxB,YAAe,iBAGhBrI,MAAMsC,UAAUiK,OAAO,wBAAwB3J,OAAsBuH,cAAEvH,OAAOkC,KAAO9E,MAAMsC,UAAUiK,OAErGvM,MAAMsC,UAAUmI,GAAKzK,MAAMsC,UAAUiK,OChErCvM,MAAMsC,UAAUqH,MAAQ,CACvBnN,QAAW,CACV,CACCmJ,QAAS,kCACTC,YAAY,EACZU,QAAQ,GAET,CACCX,QAAS,mBACTC,YAAY,EACZU,QAAQ,IAGV5J,OAAU,CACTiJ,QAAS,iDACTW,QAAAA,GAED,aAAc,CACbX,QAAS,2FACTC,YAAAA,EACAhD,OAAQ,CACPyF,YAAe,UAGjBiB,QAAW,6GACXM,QAAW,qBACXL,SAAY,cACZ/V,OAAU,4DACVqW,SAAY,+CACZxB,YAAe,iBC7BhBrI,MAAMsC,UAAUoK,IAAM,CACrBlQ,QAAW,yCAEXE,OAAU,CACTiJ,QAAS,qFACTW,QAAQ,GAET9S,OAAU,gHACV8V,QAAW,0HACXC,SAAY,2BACZM,SAAY,CACX,wCACA,CAEClE,QAAS,qBACTC,YAAY,IAGdyC,YAAe,uBClBf,SAAUrI,GAKV,IAAI2M,EAAU,0oCAEVC,EAAsB,CACzBjH,QAAS,4BACTC,YAAAA,EACAhF,MAAO,cACPgC,OAAQ,MAGLiK,EAAe,CAClBC,KAAQF,EACRG,YAAe,CACdpH,QAAS/D,OAAO,MAAQ+K,GACxB/L,MAAO,YAERoM,SAAY,CAEX,CACCrH,QAAS,sBACTW,QAAQ,EACR1D,OAAQ,CAEPoK,SAAY,CACX,CACCrH,QAAS,uBACTC,YAAY,GAEb,WAEDpS,OAAU,8DAEVqW,SAAY,2DAEZxB,YAAe,oBAIjB,CACC1C,QAAS,qCACTW,QAAQ,EACR1D,OAAQ,CACPoK,SAAY,oBAId,CACCrH,QAAS,cACTW,QAAAA,EACA1D,OAAQ,CACPiH,SAAY,mCACZxB,YAAe,SACf0E,YAAe,CACdpH,QAAS/D,OAAO,QAAU+K,GAC1B/G,YAAY,EACZhF,MAAO,cAIV,sBAGD4H,OAAU,wFAGXxI,EAAMsC,UAAUwK,KAAO,CACtBG,QAAW,CACVtH,QAAS,aACT/E,MAAO,aAERpE,QAAW,CACVmJ,QAAS,kBACTC,YAAAA,GAED,gBAAiB,CAKhB,CAECD,QAAS,kDACTC,cACAhF,MAAO,YAER,CAEC+E,QAAS,8BACT/E,MAAO,aAIT,gBAAiB,CAChB+E,QAAS,sCACT/E,MAAO,WACPgF,YAAAA,GAID,cAAe,CACdD,QAAS,0CACT/C,OAAQ,CACPmK,YAAe,CACdpH,QAAS/D,OAAO,uBAAyB+K,GACzC/G,YAAY,EACZhF,MAAO,aAGTA,MAAO,WACPgF,eAGDoE,UAAa,CACZrE,QAAS,qDACT/E,MAAO,WACPgF,YAAAA,GAEDlJ,OAAU,CAET,CACCiJ,QAAS,mDACTC,YAAAA,EACAU,QAAAA,EACA1D,OAAQiK,GAIT,CACClH,QAAS,2DACTC,YAAAA,EACAU,QAAAA,EACA1D,OAAQ,CACPkK,KAAQF,IAIV,CAECjH,QAAS,0EACTC,cACAU,QAAAA,EACA1D,OAAQiK,GAET,CAEClH,QAAS,oBACTC,cACAU,QAAAA,GAED,CAECX,QAAS,2BACTW,QAAQ,EACR1D,OAAQ,CACP4F,OAAUqE,EAAarE,UAI1BuE,YAAe,CACdpH,QAAS/D,OAAO,OAAS+K,GACzB/L,MAAO,YAERoM,SAAYH,EAAaG,SACzBzD,SAAY,CACX5D,QAAS,6kDACTC,YAAY,GAEb0D,QAAW,CACV3D,QAAS,gHACTC,eAGD6G,QAAW,CACV9G,QAAS,6SACTC,YAAAA,EAEAhF,MAAO,cAERgJ,QAAW,CACVjE,QAAS,iDACTC,YAAY,GAEb,kBAAmB,CAClBD,QAAS,UACT/E,MAAO,aAERiJ,SAAY,CAEXlE,QAAS,8EACT/C,OAAQ,CACP,kBAAmB,CAClB+C,QAAS,MACT/E,MAAO,eAIVyH,YAAe,iCACf7U,OAAU,CACTmS,QAAS,qCACTC,YAAY,IAIdgH,EAAoBhK,OAAS5C,EAAMsC,UAAUwK,KAqB7C,IAlBA,IAAII,EAAa,CAChB,UACA,gBACA,gBACA,cACA,YACA,SACA,cACA,WACA,UACA,UACA,UACA,kBACA,WACA,cACA,UAEGtK,EAASiK,EAAaG,SAAS,GAAGpK,OAC7B3U,EAAI,EAAGA,EAAIif,EAAWvmB,OAAQsH,IACtC2U,EAAOsK,EAAWjf,IAAM+R,EAAMsC,UAAUwK,KAAKI,EAAWjf,IAGzD+R,EAAMsC,UAAUuI,GAAK7K,EAAMsC,UAAUwK,KACrC9M,EAAMsC,UAAU6K,MAAQnN,EAAMsC,UAAUwK,IACzC,CA1OC,CA0OC9M,OC1OFA,MAAMsC,UAAU8K,GAAKpN,MAAMsC,UAAUI,OAAO,QAAS,CACpDhG,OAAU,CACTiJ,QAAS,yCACTC,YAAAA,EACAU,QAAAA,GAEDgD,QAAW,sKACXM,QAAW,gCACXpW,OAAU,CAET,+BAEA,gFAEA,sEAEDqW,SAAY,wFACZ4C,QAAW,6LAGZzM,MAAMsC,UAAU1V,aAAa,KAAM,SAAU,CAC5CyQ,KAAQ,CACPsI,QAAS,6BACTW,QAAQ,YAIHtG,MAAMsC,UAAU8K,GAAG,cC3BzB,SAAUpN,GAGV,IAAIqN,EAAQ,2CAA2C5jB,OAYvD,SAAS6jB,EAAa3H,GAErB,OADAA,EAAUA,EAAQvS,QAAQ,YAAA,WAA0B,OAAOia,CAAM,IAC1DzL,OAAO,0BAA0BnY,OAAS,MAAQkc,EAAU,IACnE,CAGD,IAAI4H,EAAY,4DAA4D9jB,OACxE+jB,EAAW,+CAA+C/jB,OAAO2J,QAAQ,OAAA,WAAqB,OAAOma,CAAU,IAC/GE,EAAY,sEAAsEhkB,OAGtFuW,EAAMsC,UAAUoL,SAAW1N,EAAMsC,UAAUI,OAAO,SAAU,CAAA,GAC5D1C,EAAMsC,UAAU1V,aAAa,WAAY,SAAU,CAClD,qBAAsB,CACrB+Y,QAAS,kDACTC,YAAY,EACZU,QAAQ,EACR1D,OAAQ,CACPyF,YAAe,YACf,eAAgB,CACf1C,QAAS,iBACT/E,MAAO,CAAC,OAAQ,iBAChBgC,OAAQ5C,EAAMsC,UAAUqL,QAI3BC,WAAc,CAEbjI,QAAS,kBACT/E,MAAO,eAERiN,MAAS,CACRlI,QAAS/D,OAAO,IAAM4L,EAAWC,EAAY,MAAQD,EAAW,KAAM,KACtE5K,OAAQ,CACP,kBAAmB,CAClB+C,QAAS/D,OAAO,KAAO4L,EAAWC,EAAY,OAASD,EAAW,OAClE5H,YAAAA,EACAhD,OAAQ,CACP,aAAc,CACb+C,QAAS/D,OAAO2L,GAChB3K,OAAQ5C,EAAMsC,UAAUoL,UAEzBrF,YAAe,OAGjB,aAAc,CACb1C,QAAS/D,OAAO,KAAO4L,EAAW,IAAMC,EAAY,KACpD7H,YAAAA,EACAhD,OAAQ,CACPyF,YAAe,iBAGjB,mBAAoB,CACnB1C,QAAS/D,OAAO,IAAM4L,EAAW,KACjC5K,OAAQ,CACP,eAAgB,CACf+C,QAAS/D,OAAO2L,GAChB3M,MAAO,YACPgC,OAAQ5C,EAAMsC,UAAUoL,UAEzBrF,YAAe,SAKnBpE,KAAQ,CACP,CAEC0B,QAAS,uFACTC,YAAAA,EACAhF,MAAO,WAER,CAIC+E,QAAS,qBACTW,QAAAA,EACA1D,OAAQ,CACP,aAAc,CACb+C,QAAS,qDACTC,YAAY,GAEb,gBAAiB,CAChBD,QAAS,WACTC,YAAY,GAEbyC,YAAe,SAIlBthB,MAAS,CACR,CAMC4e,QAAS,0CACT/E,MAAO,YACPgC,OAAQ,CACPyF,YAAa,cAGf,CAGC1C,QAAS,aACTC,YAAAA,EACAhF,MAAO,YACPgC,OAAQ,CACPyF,YAAa,aAIhByF,GAAM,CAKLnI,QAAS,wCACTC,YAAAA,EACAhF,MAAO,eAERlB,KAAQ,CAKPiG,QAAS,mCACTC,YAAY,EACZhF,MAAO,eAER,gBAAiB,CAKhB+E,QAAS,qHACT/C,OAAQ,CACPoK,SAAY,CACXrH,QAAS,gBACTC,YAAAA,GAEDlJ,OAAU,+DACV2L,YAAe,kBAEhBzH,MAAO,OAERmN,KAAQ,CAKPpI,QAAS2H,EAAa,kGAAkG7jB,QACxHmc,YAAAA,EACAU,QAAAA,EACA1D,OAAQ,CACPvW,QAAW,CACVsZ,QAAS,sBACTC,YAAAA,EACAhD,OAAQ,CAAE,GAEXyF,YAAe,YAGjB2F,OAAU,CAKTrI,QAAS2H,EAAa,kGAAkG7jB,QACxHmc,YAAAA,EACAU,QAAQ,EACR1D,OAAQ,CACPvW,QAAW,CACVsZ,QAAS,oBACTC,cACAhD,OAAQ,CAAE,GAEXyF,YAAe,SAGjB4F,OAAU,CAITtI,QAAS2H,EAAa,2BAA2B7jB,QACjDmc,YAAY,EACZU,QAAQ,EACR1D,OAAQ,CACPvW,QAAW,CACVsZ,QAAS,uBACTC,YAAAA,EACAhD,OAAQ,CAAE,GAEXyF,YAAe,QAGjB,eAAgB,CAGf1C,QAAS,mEACTC,YAAAA,EACAU,QAAQ,EACR1F,MAAO,CAAC,OAAQ,YAEjBjZ,IAAO,CAINge,QAAS2H,EAAa,mGAAmG7jB,QACzHmc,YAAY,EACZU,QAAQ,EACR1D,OAAQ,CACPiH,SAAY,KACZxd,QAAW,CACVsZ,QAAS,oBACTC,YAAAA,EACAhD,OAAQ,CAAE,GAEXoK,SAAY,CACXrH,QAAS,6BACTC,YAAAA,GAEDje,IAAO,CACNge,QAAS,iBACTC,YAAY,GAEblJ,OAAU,CACTiJ,QAAS,oCACTC,YAAY,OAMhB,CAAC,MAAO,OAAQ,SAAU,UAAUtE,SAAQ,SAAU2B,GACrD,CAAC,MAAO,OAAQ,SAAU,SAAU,gBAAgB3B,SAAQ,SAAUsB,GACjEK,IAAUL,IACb5C,EAAMsC,UAAUoL,SAASzK,GAAOL,OAAOvW,QAAQuW,OAAOA,GAAU5C,EAAMsC,UAAUoL,SAAS9K,GAG7F,GAAA,IAEC5C,EAAM2D,MAAMlR,IAAI,kBAAA,SAA4BgR,GACtB,aAAjBA,EAAI9B,UAA4C,OAAjB8B,EAAI9B,UAIvC,SAASuM,EAAWxN,GACnB,GAAKA,GAA4B,iBAAXA,EAItB,IAAK,IAAIzS,EAAI,EAAGkgB,EAAIzN,EAAO/Z,OAAQsH,EAAIkgB,EAAGlgB,IAAK,CAC9C,IAAIgV,EAAQvC,EAAOzS,GAEnB,GAAmB,SAAfgV,EAAM/U,KAAV,CAmBA,IAAIkgB,EAAWnL,EAAM5W,QAAQ,GACzBgiB,EAAYpL,EAAM5W,QAAQ,GAE9B,GAAI+hB,GAAYC,GACG,kBAAlBD,EAASlgB,MAA+C,eAAnBmgB,EAAUngB,MACnB,iBAArBkgB,EAAS/hB,QAAsB,CAKtC,IAAI6T,EAAOkO,EAAS/hB,QAAQ+G,QAAQ,OAAQ,SAASA,QAAQ,UAAW,MAGpEwN,EAAQ,aADZV,GAAQ,eAAerM,KAAKqM,IAAS,CAAC,KAAK,GAAGlX,eAIzCqlB,EAAUzN,MAEuB,iBAApByN,EAAUzN,MAC3ByN,EAAUzN,MAAQ,CAACyN,EAAUzN,MAAOA,GAEpCyN,EAAUzN,MAAMpS,KAAKoS,GAJrByN,EAAUzN,MAAQ,CAACA,EAMpB,CAvCA,MAFAsN,EAAWjL,EAAM5W,QA0ClB,CACD,CApDD,CAsDWoX,EAAI/C,OAGhBV,IAAAA,EAAM2D,MAAMlR,IAAI,QAAA,SAAkBgR,GACjC,GAAiB,eAAbA,EAAIvV,KAAR,CAKA,IADA,IAAIkgB,EAAW,GACNngB,EAAI,EAAGkgB,EAAI1K,EAAI6D,QAAQ3gB,OAAQsH,EAAIkgB,EAAGlgB,IAAK,CACnD,IAAIqgB,EAAM7K,EAAI6D,QAAQrZ,GAClB+M,EAAQ,gBAAgBnH,KAAKya,GACjC,GAAItT,EAAO,CACVoT,EAAWpT,EAAM,GACjB,KACA,CACD,CAED,IAAI+H,EAAU/C,EAAMsC,UAAU8L,GAE9B,GAAKrL,EAaJU,EAAIpX,QAAU2T,EAAM4E,UAAsBnB,EAAIpX,QA+B/B+G,QAAQmb,EAAY,IAGxBnb,QAAQ,iCAAiC,SAAUqO,EAAGwC,GAIhE,IAAIrc,EADL,MAAgB,OAFhBqc,EAAOA,EAAKjb,eAEH,IAGPpB,EADe,MAAZqc,EAAK,GACAuK,SAASvK,EAAKvd,MAAM,GAAI,IAExBslB,OAAO/H,EAAKvd,MAAM,IAGpB+nB,EAAc7mB,IAET8mB,EAAmBzK,IAMxBxC,CArDgDsB,IAAAA,EAASqL,QAZjE,GAAIA,GAAyB,SAAbA,GAAuBpO,EAAMsD,QAAQiI,WAAY,CAChE,IAAI1L,EAAK,OAAQ,IAAI7I,MAAO2X,UAAY,IAAMpa,KAAKqa,MAAsB,KAAhBra,KAAKsa,UAC9DpL,EAAI8D,WAAe1H,GAAIA,EAEvBG,EAAMsD,QAAQiI,WAAWC,cAAc4C,GAAU,WAChD,IAAIU,EAAMljB,SAASmjB,eAAelP,GAC9BiP,IACHA,EAAIhjB,UAAYkU,EAAM4E,UAAUkK,EAAI3jB,YAAa6U,EAAMsC,UAAU8L,GAAWA,GAElF,GACI,CAzBD,KA+BF,IAAIG,EAAa3M,OAAO5B,EAAMsC,UAAU4F,OAAOhZ,IAAIyW,QAAQlc,OAAQ,MAS/DilB,EAAqB,CACxBM,IAAO,IACPC,GAAM,IACNC,GAAM,IACNC,KAAQ,KAILV,EAAgBxX,OAAOwX,eAAiBxX,OAAOmY,aAuCnDpP,EAAMsC,UAAU+M,GAAKrP,EAAMsC,UAAUoL,QAEtC,CA9ZC,CA8ZC1N,OC9ZFA,MAAMsC,UAAUgN,MAAQ,CACvB9S,QAAW,CAGVmJ,QAAS,6EACTC,YAAAA,GAEDmE,MAAS,CAERpE,QAAS,oCACTW,QAAQ,GAET5J,OAAU,CAITiJ,QAAS,uEACTW,QAAQ,GAETjJ,KAAQ,CAEPsI,QAAS,+CACTC,cACAU,QAAAA,GAEDgD,QAAW,6PACXM,QAAW,qBACXpW,OAAU,kIAGVqW,SAAY,+FACZxB,YAAe,oBAEf4B,SAAY,+CCHb,MAAM1Z,EAAI/E,EAAS,SAAU,mzFAyBtB,MAAM+jB,UAAajlB,EAASiG,EAAEG,eAEnCrF,gBAIE,GADAtF,KAAKypB,aAAezpB,KAAKuM,aAAa,aACjCvM,KAAKypB,aAER,YADAlkB,QAAQ2J,KAAK,kLAGf,MAAM0M,EAAW3B,EAAMsC,UAAUvc,KAAKypB,cACtC,GAAgBtc,MAAZyO,EAEF,YADArW,QAAQ2J,KAAK,iEAAiElP,KAAKypB,kBAIrF,IAAInjB,EAAUtG,KAAKoF,YACnB,MAAMskB,EAAU1pB,KAAKyG,WAAWQ,cAAc,mBAE9C,GAAIjH,KAAK2G,aAAa,SAAU,CAE9BL,EAAUA,EAAQ+G,QAAQ,KAAM,IAChC,MAAMsc,EAAOrjB,EAAQ2O,MAAM,OAI3B,GAHA3O,EAAUA,EAAQ+G,QAAQ,IAAIwO,OAAO,KAAO8N,EAAM,KAAM,MACxDrjB,EAAUA,EAAQmG,OAEdid,EAAQpV,sBAAsBsV,WAAY,CAC5C,MAAMC,EAAShkB,SAASC,cAAc,OACtC9F,KAAKyG,WAAW8K,YAAYmY,GAC5BG,EAAOnjB,YAAYgjB,GACnB1pB,KAAKyG,WAAWC,YAAYmjB,EAC7B,CAEF,CAEDH,EAAQ3P,UAAY,YAAY/Z,KAAKypB,eACrCC,EAAQ3jB,UAAYkU,EAAM4E,UAAUvY,EAASsV,EAC9C,EC3EH,MAAMpR,EAAI/E,EAAS,aAAc,4eA0C1B,MAAMqkB,UAAiBtf,EAAEG,cAE9B7K,cACE2E,QAGiB,IAAIM,iBAAiB/E,KAAKyP,QAClCvK,QAAQlF,KAFD,CAAC2E,WAAAA,EAAiBC,eAAAA,EAAqBC,SAAAA,GAGxD,CAED4K,SACE,MACMC,EAAQ,IAAIC,YAAY,oBADd,CAAEC,OAAQ5P,KAAM6P,SAAAA,IAEhChK,SAASiK,cAAcJ,EACxB,CAEDvK,oBAKEnF,KAAK8Y,SAAW9Y,KAAKqF,KAAK4B,cAAc,eACxCjB,OAAO+S,eAAeC,YAAY,eAAeC,MAAAA,KAC/CjZ,KAAK8Y,SAASI,OAAOlZ,KAAK,IAG5B8pB,EAASC,mBAAqB,EAC9B,MAAMC,EAAWF,EAASC,kBAAkBtqB,WAC5CO,KAAKqF,KAAK4kB,KAAKnQ,GAAK,cAAgBkQ,EAGpC,MAAMlQ,EAAK,mBAAqBkQ,EAChChqB,KAAK8Y,SAASgB,GAAKA,EAGnB,MAAMoQ,EAAOlqB,KAAKqF,KAAK4B,cAAc,QACrCijB,EAAK5gB,aAAa,KAAM,MAAQ0gB,GAChCE,EAAK5gB,aAAa,iBAAkBwQ,GACpCoQ,EAAK9kB,YAAc4kB,CACpB,EAIHF,EAASC,kBAAoB,ECrF7B,MAAMvf,GAAI/E,EAAS,kBAAmB,+PAAA,GAsB/B,MAAM0kB,WAAqB3f,GAAEG,cAElCxF,oBACEV,MAAMU,oBAENnF,KAAK2Z,KAAO3Z,KAAKqF,KAAK4B,cAAc,MAEpCjH,KAAKqF,KAAKoF,MAAMzC,QAAU,MAK3B,CAGG8I,cAAUA,GAEZ,GADA9Q,KAAK2Z,KAAK5T,UAAY,GAClB+K,EAAUlQ,OAAQ,CAEpBZ,KAAKqF,KAAKoF,MAAMzC,QAAU,GAE1B,IAAK,MAAMoiB,KAAYtZ,EAAW,CAEhC,MAAMkJ,EAAWnU,SAASC,cAAc,MACxCkU,EAASF,GAAKsQ,EAAStQ,GAAK,WAC5BE,EAASjU,UAAYqkB,EAASrkB,UAE9B,MAAMskB,EAAWxkB,SAASC,cAAc,KACxCukB,EAAS/gB,aAAa,QAAS,qBAC/B+gB,EAASjlB,YAAc,MACvBilB,EAASC,KAAO,IAAMF,EAAStQ,GAE/BE,EAAStT,YAAY2jB,GACrBrqB,KAAK2Z,KAAKjT,YAAYsT,EACvB,CACP,MAEMha,KAAKqF,KAAKoF,MAAMzC,QAAU,MAE7B,EC7DH,MAAMwC,GAAI/E,EAAS,cAAe,0sBA6C3B,MAAM8kB,WAAiB/f,GAAEG,cAE9B7K,cACE2E,OACD,CAEDU,oBAEC,CAED+T,OAAOrK,GAEL7O,KAAKwqB,cAAcxqB,MACnBA,KAAKyqB,kBAAkB5b,EAExB,CAED2b,cAAc3b,GAEZA,EAAQ6S,iBAAiB,aAAA,KAClB1hB,KAAK0qB,SAAS1qB,KAAK2qB,WAAW9b,GACnC7O,KAAK4qB,aAAa,IAEpB/b,EAAQ6S,iBAAiB,YAAY,KACnC1hB,KAAK6qB,cAAc,IAGrBhc,IAAAA,EAAQ6S,iBAAiB,cAAehS,IACtCA,EAAMob,iBACL,GAAA,CAACC,SAAS,IAEbllB,SAAS0F,KAAKmW,iBAAiB,cAAA,KAC7B1hB,KAAKgrB,MAAM,GACV,CAACD,SAAAA,GACL,CAEDN,kBAAkBpL,GAChBA,EAAKqC,iBAAiB,aAAA,KACf1hB,KAAK0qB,SACR1qB,KAAK2qB,WAAWtL,GAElBrf,KAAK4qB,aAAa,IAGpBvL,EAAKqC,iBAAiB,YAAY,KAChC1hB,KAAK6qB,cAAc,IAGrBxL,IAAAA,EAAKqC,iBAAiB,cAAehS,IAC/B1P,KAAK0qB,QACP1qB,KAAKgrB,OAELhrB,KAAK2qB,WAAWtL,GAGlB3P,EAAMob,oBACL,CAACC,SAAAA,GACL,CAEDE,KAAKC,GACHlrB,KAAK0qB,SAAAA,EACL1qB,KAAKyK,MAAMzC,QAAU,QAErBhI,KAAKyK,MAAM0gB,IAAM3c,KAAK4c,MAAMF,EAAS,GAAK,IAAM,IACjD,CAEDP,WAAWtL,GAET,MAAMgM,EAAOhM,EAAKiM,wBAClBtrB,KAAKirB,KAAK,CAAC5L,EAAKkM,WAAaF,EAAKG,MAAOnM,EAAKoM,UAAYJ,EAAKK,QAChE,CAEDV,OACEhrB,KAAK0qB,WACL1qB,KAAKyK,MAAMzC,QAAU,OACrBhI,KAAK4qB,aACN,CAEDA,cACM5qB,KAAK2rB,SACPC,aAAa5rB,KAAK2rB,QAErB,CAEDd,cAAcgB,GACZ7rB,KAAK4qB,cACL5qB,KAAK2rB,QAAU5J,YAAW,KACxB/hB,KAAKgrB,SACJa,EACJ,ECxII,MAAMC,WAAcnhB,YACdxE,gBAAO,MAAO,SAAY,ECCvC,MAAMqE,GAAI/E,EAAS,eAAgB,+DAMhC,GAEK,MAAMsmB,WAAmBvhB,GAAEG,eCV5B,MAAMqhB,WAAYrhB,YAELxE,gBAAA,MAAO,OAAU,CAEnChB,oBACOnF,KAAKuM,aAAa,iBACrBvG,OAAO6F,OAAS,MAUf,SAAmBgD,EAASod,GAEjC,IAAIC,EAAK,wWA0BT,IAAK,MAAMC,KAAMF,EAAU,CAEzB,MAAMG,EAAwC,WAA5BD,EAAG7a,cAAcoR,QAC7B2J,EAAcF,EAAG5f,aAAa,UACpC,GAAI6f,GAAaC,EAAa,SAE9B,MAAMrrB,EAAQmrB,EAAG/mB,YAGjB,IAAIknB,EAAU,iBAFKH,EAAG5f,aAAa,MAES,KAAOvL,EAArC,YACI,MAAdmrB,EAAGzJ,QACL4J,EAAU,OAASA,EAAU,QAE7BA,GAAW,OAEbJ,GAAOI,CAER,CAEDJ,GAAO,cACPrd,EAAQ9I,UAAYmmB,CACtB,CAjDO,CAPWlsB,KAFM6F,SAASoB,cAAc,aACdE,iBAAiB,UACjB,EAG9B,ECGI,MAAMolB,WAAe5hB,YAERxE,gBAAA,MAAO,UAAa,CAE3BqmB,wBAIT,OAHKD,GAAOE,cACVF,GAAOE,YAAc,IAEhBF,GAAOE,WACf,CAEDhpB,uBAAuBipB,IACsB,IAAvCH,GAAOC,WAAWhkB,QAAQkkB,KAC5BH,GAAOC,WAAW/jB,KAAKikB,GACvBH,GAAOI,gBAEV,CAEDlpB,uBAIE,MAAMipB,EAASH,GAAOC,WACnBI,MAAAA,CAAMC,EAAEhW,IAAMgW,EAAEC,cAAgBjW,EAAEiW,gBAClCpZ,QAAQgZ,IAAYA,EAAOK,SAC3BC,MACCN,IACFA,EAAOO,QACPrV,sBAAsB2U,GAAOI,eAGhC,CAED7sB,cACE2E,QAEAzE,KAAK+sB,UACL/sB,KAAKktB,WAAY,EACjBltB,KAAKmtB,YAAAA,CACN,CAEDhoB,oBACEnF,KAAKotB,oBAAsBptB,KAAK2G,aAAa,uBAC7C4lB,GAAOc,eAAenoB,QAAQlF,MAC9BusB,GAAOe,eAAepoB,QAAQlF,KAC/B,CAEDutB,uBACEhB,GAAOc,eAAeG,UAAUxtB,MAChCusB,GAAOe,eAAeE,UAAUxtB,KACjC,CAMUqtB,4BACT,IAAKd,GAAOkB,gBAAiB,CAI3B,MAAMC,EAAiB1nB,OAAO2nB,YACxBC,EAASpf,KAAKqa,MAAM,EAAI6E,GACxBhpB,EAAU,CAACmpB,WAAYD,EAAS,UAAYA,EAAS,SAAUE,UAAW,KAC1Eza,EAAWkZ,GAAOwB,6BAClBjpB,EAAW,IAAIkpB,qBAAqB3a,EAAU3O,GACpD6nB,GAAOkB,gBAAkB3oB,CAC1B,CACD,OAAOynB,GAAOkB,eACf,CAEDhqB,oCAAoC8L,GAClC,IAAK,MAAMC,KAASD,EAAS,CAC3B,MAAMmd,EAASld,EAAMzL,OACjByL,EAAMye,iBAAmBvB,EAAOK,QAClCR,GAAO2B,gBAAgBxB,EAE1B,CACF,CAEUY,4BAQT,OAPKf,GAAO4B,kBACV5B,GAAO4B,gBAAkB,IAAIH,qBAC3BzB,GAAO6B,6BAA8B,CACnCP,WAAY,MAAOC,UAAW,CAAC,EAAG,MAIjCvB,GAAO4B,eACf,CAED1qB,oCAAoC8L,GAClC,IAAK,MAAMC,KAASD,EAAS,CAC3B,MAAMmd,EAASld,EAAMzL,OACjByL,EAAMye,gBACRvB,EAAOI,cAAgB,IAAI7b,KAEvByb,EAAOS,YAAcT,EAAO2B,YAE5B3B,EAAOQ,WAAaR,EAAO4B,WAElC,CACF,CAID5M,iBAAiBpI,EAAWjG,GAC1B5O,MAAMid,iBAAiBpI,EAAWjG,GAGhB,UAAdiG,IACuC,IAArCiT,GAAOC,WAAWhkB,QAAQxI,QAC5BA,KAAK+sB,QAAS,EACdR,GAAOI,iBAGO,aAAdrT,GACFtZ,KAAKquB,UAER,CAIDpB,QAEEjtB,KAAK+sB,UACLR,GAAOc,eAAeG,UAAUxtB,MAChC,MAAM0P,EAAQ,IAAIC,YAAY,SAC9B3P,KAAK8P,cAAcJ,EACpB,CAED2e,WACEruB,KAAKktB,WAAAA,EACLltB,KAAKmtB,YAAa,EAClB,MAAMzd,EAAQ,IAAIC,YAAY,YAC9B3P,KAAK8P,cAAcJ,EACpB,CAED4e,YACEtuB,KAAKktB,WAAY,EACjBltB,KAAKmtB,YAAa,EAClB,MAAMzd,EAAQ,IAAIC,YAAY,aAC9B3P,KAAK8P,cAAcJ,EACpB,EAIH,GAAsB,oBAAX1J,OAAwB,CAGjC,IAAI2lB,EADJY,GAAOgC,aAAAA,EAEP,MAAMC,EAAa,KACjBjC,GAAOgC,aAAAA,EACP3C,aAAaD,GACbA,EAAU5J,YAAAA,KACRwK,GAAOgC,aAAc,EACrBhC,GAAOI,eAAe,GACrB,IAAI,EAET3mB,OAAO0b,iBAAiB,SAAU8M,GAAAA,EAEpC,CC3KA,MACMhkB,GAAI/E,EAAS,iBAAkB,q4DAuG9B,MAAMgpB,WAAqBjkB,GAAEG,cAElCxF,oBACMnF,KAAK0uB,mBACP1uB,KAAKsR,cAAcC,YAAYvR,MAETA,KAAKqF,KAAK4B,cAAc,gCAChC0nB,QAAWjf,GAAU1P,KAAK4uB,gBAAgBlf,EAE3D,CAEDkf,gBAAgBlf,GACEA,EAAM3L,OAAOlC,QACb7B,KAAKoR,WACnB7L,QAAQiL,IAAI,6BACZxQ,KAAKsR,cAAcC,YAAYvR,MACP,oBAAb6uB,UACTtpB,QAAQiL,IAAI,4CACZse,aAAaC,QAAQ/uB,KAAKgvB,yBAA0B,SAGzD,CAEDN,mBAEE,OAAI1oB,QAjImB,gBAiITA,OAAO8L,SAASC,UAC5BxM,QAAQ2J,KAAK,iDACN,GAGe,oBAAb2f,SACmD,SAAxDC,aAAaG,QAAQjvB,KAAKgvB,4BAC5BzpB,QAAQiL,IAAI,4EACL,EAKZ,CAEDwe,yBAGE,MAFe,kBAEEhpB,OAASA,OAAO8L,SAASod,SAAW,KADtC,+BAEhB,ECxKY,SAAAC,GAAStC,EAAGhW,GACzB,OAAOgW,EAAIhW,GAAK,EAAIgW,EAAIhW,EAAI,EAAIgW,GAAKhW,EAAI,EAAIuY,GAC/C,CCAe,SAAQC,GAACC,GACtB,IAAIC,EAAQD,EACRE,EAAUF,EAOd,SAASxmB,EAAK+jB,EAAGxV,EAAGoY,EAAIC,GAGtB,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAK7C,EAAEjsB,QAChB6uB,EAAKC,GAAI,CACd,MAAMC,EAAOF,EAAKC,IAAQ,EACtBF,EAAQ3C,EAAE8C,GAAMtY,GAAK,EAAGoY,EAAKE,EAAM,EAClCD,EAAKC,CACX,CACD,OAAOF,CACR,CAoBD,OAlCiB,IAAbH,EAAE1uB,SACJ2uB,EAAQ,CAAClkB,EAAGgM,IAAMiY,EAAEjkB,GAAKgM,EACzBmY,EAmCJ,SAA6BF,GAC3B,MAAO,CAACjkB,EAAGgM,IAAMuY,GAAUN,EAAEjkB,GAAIgM,EACnC,CAFA,CAnCkCiY,IAgCzB,CAACxmB,KAAM+mB,EAAAA,OAPd,SAAgBhD,EAAGxV,EAAGoY,EAAIC,GACd,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAK7C,EAAEjsB,QACvB,MAAMsH,EAAIY,EAAK+jB,EAAGxV,EAAGoY,EAAIC,EAAK,GAC9B,OAAOxnB,EAAIunB,GAAMF,EAAM1C,EAAE3kB,EAAI,GAAImP,IAAMkY,EAAM1C,EAAE3kB,GAAImP,GAAKnP,EAAI,EAAIA,CACjE,EAEqBa,MAlBtB,SAAe8jB,EAAGxV,EAAGoY,EAAIC,GAGvB,IAFU,MAAND,IAAYA,EAAK,GACX,MAANC,IAAYA,EAAK7C,EAAEjsB,QAChB6uB,EAAKC,GAAI,CACd,MAAMC,EAAOF,EAAKC,IAAQ,EACtBF,EAAQ3C,EAAE8C,GAAMtY,GAAK,EAAGqY,EAAKC,EAC5BF,EAAKE,EAAM,CACjB,CACD,OAAOF,CACR,EAUH,CCrCA,MACaK,GADWT,GAASO,IACU7mB,MAEfsmB,ICPb,SAAShY,GACtB,OAAa,OAANA,EAAa+X,KAAO/X,CAC7B,IDK6CwY,OEP7C,IAAIE,GAAMvhB,KAAKwhB,KAAK,IAChBC,GAAKzhB,KAAKwhB,KAAK,IACfE,GAAK1hB,KAAKwhB,KAAK,GAkCZ,SAASG,GAAc3a,EAAO4a,EAAM9O,GACzC,IAAI+O,GAAQD,EAAO5a,GAAShH,KAAK4X,IAAI,EAAG9E,GACpCgP,EAAQ9hB,KAAKqa,MAAMra,KAAKgC,IAAI6f,GAAQ7hB,KAAK+hB,MACzC/qB,EAAQ6qB,EAAO7hB,KAAKgiB,IAAI,GAAIF,GAChC,OAAOA,GAAS,GACT9qB,GAASuqB,GAAM,GAAKvqB,GAASyqB,GAAK,EAAIzqB,GAAS0qB,GAAK,EAAI,GAAK1hB,KAAKgiB,IAAI,GAAIF,IAC1E9hB,KAAKgiB,IAAI,IAAKF,IAAU9qB,GAASuqB,GAAM,GAAKvqB,GAASyqB,GAAK,EAAIzqB,GAAS0qB,GAAK,EAAI,EACzF,CC3CO,SAASO,GAAUC,EAAQ1K,GAChC,OAAQO,UAAU3lB,QAChB,KAAK,EAAG,MACR,KAAK,EAAGZ,KAAKgmB,MAAM0K,GAAS,MAC5B,QAAS1wB,KAAKgmB,MAAMA,GAAO0K,OAAOA,GAEpC,OAAO1wB,IACT,CCPe,SAAA2wB,GAAS7wB,EAAa8wB,EAAS3d,GAC5CnT,EAAYmT,UAAY2d,EAAQ3d,UAAYA,EAC5CA,EAAUnT,YAAcA,CAC1B,CAEO,SAAS6c,GAAOsB,EAAQ4S,GAC7B,IAAI5d,EAAYrP,OAAOktB,OAAO7S,EAAOhL,WACrC,IAAK,IAAI9O,KAAO0sB,EAAY5d,EAAU9O,GAAO0sB,EAAW1sB,GACxD,OAAO8O,CACT,CCPO,SAAS8d,KAAU,CAEnB,IAAIC,GAAS,GACTC,GAAW,EAAID,GAEtBE,GAAM,sBACNC,GAAM,gDACNC,GAAM,iDACNC,GAAQ,qBACRC,GAAe,IAAIzV,OAAO,UAAY,CAACqV,GAAKA,GAAKA,IAAO,QACxDK,GAAe,IAAI1V,OAAO,UAAY,CAACuV,GAAKA,GAAKA,IAAO,QACxDI,GAAgB,IAAI3V,OAAO,WAAa,CAACqV,GAAKA,GAAKA,GAAKC,IAAO,QAC/DM,GAAgB,IAAI5V,OAAO,WAAa,CAACuV,GAAKA,GAAKA,GAAKD,IAAO,QAC/DO,GAAe,IAAI7V,OAAO,UAAY,CAACsV,GAAKC,GAAKA,IAAO,QACxDO,GAAgB,IAAI9V,OAAO,WAAa,CAACsV,GAAKC,GAAKA,GAAKD,IAAO,QAE/DS,GAAQ,CACVC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,UAAW,MACXC,SAAU,SACVC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,KAAM,QACNC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UAiBf,SAASC,KACP,OAAOj7B,KAAKk7B,MAAMC,WACpB,CAMA,SAASC,KACP,OAAOp7B,KAAKk7B,MAAMG,WACpB,CAEe,SAASC,GAAMC,GAC5B,IAAI7f,EAAG0M,EAEP,OADAmT,GAAUA,EAAS,IAAI9uB,OAAOxJ,eACtByY,EAAI2V,GAAMvjB,KAAKytB,KAAYnT,EAAI1M,EAAE,GAAG9a,OAAQ8a,EAAI+M,SAAS/M,EAAE,GAAI,IAAW,IAAN0M,EAAUoT,GAAK9f,GAC/E,IAAN0M,EAAU,IAAIqT,GAAK/f,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,GAAiB,GAAJA,IAAY,EAAU,GAAJA,EAAU,GACzG,IAAN0M,EAAUsT,GAAKhgB,GAAK,GAAK,IAAMA,GAAK,GAAK,IAAMA,GAAK,EAAI,KAAW,IAAJA,GAAY,KACrE,IAAN0M,EAAUsT,GAAMhgB,GAAK,GAAK,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAQA,GAAK,EAAI,IAAQA,GAAK,EAAI,GAAY,IAAJA,IAAkB,GAAJA,IAAY,EAAU,GAAJA,GAAY,KAClJ,OACCA,EAAI4V,GAAaxjB,KAAKytB,IAAW,IAAIE,GAAI/f,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAI,IAC3DA,EAAI6V,GAAazjB,KAAKytB,IAAW,IAAIE,GAAW,IAAP/f,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAK,IAC/FA,EAAI8V,GAAc1jB,KAAKytB,IAAWG,GAAKhgB,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,KAC3DA,EAAI+V,GAAc3jB,KAAKytB,IAAWG,GAAY,IAAPhgB,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAY,IAAPA,EAAE,GAAW,IAAKA,EAAE,KAC/FA,EAAIgW,GAAa5jB,KAAKytB,IAAWI,GAAKjgB,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAK,IACpEA,EAAIiW,GAAc7jB,KAAKytB,IAAWI,GAAKjgB,EAAE,GAAIA,EAAE,GAAK,IAAKA,EAAE,GAAK,IAAKA,EAAE,IACxEkW,GAAMruB,eAAeg4B,GAAUC,GAAK5J,GAAM2J,IAC/B,gBAAXA,EAA2B,IAAIE,GAAIrM,IAAKA,IAAKA,IAAK,GAClD,IACR,CAEA,SAASoM,GAAKv8B,GACZ,OAAO,IAAIw8B,GAAIx8B,GAAK,GAAK,IAAMA,GAAK,EAAI,IAAU,IAAJA,EAAU,EAC1D,CAEA,SAASy8B,GAAKE,EAAGC,EAAGhlB,EAAGgW,GAErB,OADIA,GAAK,IAAG+O,EAAIC,EAAIhlB,EAAIuY,KACjB,IAAIqM,GAAIG,EAAGC,EAAGhlB,EAAGgW,EAC1B,CAEO,SAASiP,GAAW/gB,GAEzB,OADMA,aAAagW,KAAQhW,EAAIugB,GAAMvgB,IAChCA,EAEE,IAAI0gB,IADX1gB,EAAIA,EAAEmgB,OACWU,EAAG7gB,EAAE8gB,EAAG9gB,EAAElE,EAAGkE,EAAEghB,SAFjB,IAAIN,EAGrB,CAEO,SAASP,GAAIU,EAAGC,EAAGhlB,EAAGklB,GAC3B,OAA4B,IAArBxV,UAAU3lB,OAAek7B,GAAWF,GAAK,IAAIH,GAAIG,EAAGC,EAAGhlB,EAAc,MAAXklB,EAAkB,EAAIA,EACzF,CAEO,SAASN,GAAIG,EAAGC,EAAGhlB,EAAGklB,GAC3B/7B,KAAK47B,GAAKA,EACV57B,KAAK67B,GAAKA,EACV77B,KAAK6W,GAAKA,EACV7W,KAAK+7B,SAAWA,CAClB,CA0BA,SAASC,KACP,MAAO,IAAMC,GAAIj8B,KAAK47B,GAAKK,GAAIj8B,KAAK67B,GAAKI,GAAIj8B,KAAK6W,EACpD,CAEA,SAASqlB,KACP,IAAIrP,EAAI7sB,KAAK+7B,QACb,OAAc,KADQlP,EAAIsP,MAAMtP,GAAK,EAAIre,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,EAAGoe,KAC/C,OAAS,SACrBre,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,IAAKD,KAAK4c,MAAMprB,KAAK47B,IAAM,IAAM,KACtDptB,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,IAAKD,KAAK4c,MAAMprB,KAAK67B,IAAM,IAAM,KACtDrtB,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,IAAKD,KAAK4c,MAAMprB,KAAK6W,IAAM,KACzC,IAANgW,EAAU,IAAM,KAAOA,EAAI,IACpC,CAEA,SAASoP,GAAIp6B,GAEX,QADAA,EAAQ2M,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,IAAKD,KAAK4c,MAAMvpB,IAAU,KACvC,GAAK,IAAM,IAAMA,EAAMpC,SAAS,GAClD,CAEA,SAASk8B,GAAK3W,EAAG5X,EAAGgb,EAAGyE,GAIrB,OAHIA,GAAK,EAAG7H,EAAI5X,EAAIgb,EAAIgH,IACfhH,GAAK,GAAKA,GAAK,EAAGpD,EAAI5X,EAAIgiB,IAC1BhiB,GAAK,IAAG4X,EAAIoK,KACd,IAAIgN,GAAIpX,EAAG5X,EAAGgb,EAAGyE,EAC1B,CAEO,SAASwP,GAAWthB,GACzB,GAAIA,aAAaqhB,GAAK,OAAO,IAAIA,GAAIrhB,EAAEiK,EAAGjK,EAAE3N,EAAG2N,EAAEqN,EAAGrN,EAAEghB,SAEtD,GADMhhB,aAAagW,KAAQhW,EAAIugB,GAAMvgB,KAChCA,EAAG,OAAO,IAAIqhB,GACnB,GAAIrhB,aAAaqhB,GAAK,OAAOrhB,EAE7B,IAAI6gB,GADJ7gB,EAAIA,EAAEmgB,OACIU,EAAI,IACVC,EAAI9gB,EAAE8gB,EAAI,IACVhlB,EAAIkE,EAAElE,EAAI,IACVpI,EAAMD,KAAKC,IAAImtB,EAAGC,EAAGhlB,GACrBuP,EAAM5X,KAAK4X,IAAIwV,EAAGC,EAAGhlB,GACrBmO,EAAIoK,IACJhiB,EAAIgZ,EAAM3X,EACV2Z,GAAKhC,EAAM3X,GAAO,EAUtB,OATIrB,GACa4X,EAAX4W,IAAMxV,GAAUyV,EAAIhlB,GAAKzJ,EAAc,GAATyuB,EAAIhlB,GAC7BglB,IAAMzV,GAAUvP,EAAI+kB,GAAKxuB,EAAI,GAC5BwuB,EAAIC,GAAKzuB,EAAI,EACvBA,GAAKgb,EAAI,GAAMhC,EAAM3X,EAAM,EAAI2X,EAAM3X,EACrCuW,GAAK,IAEL5X,EAAIgb,EAAI,GAAKA,EAAI,EAAI,EAAIpD,EAEpB,IAAIoX,GAAIpX,EAAG5X,EAAGgb,EAAGrN,EAAEghB,QAC5B,CAMA,SAASK,GAAIpX,EAAG5X,EAAGgb,EAAG2T,GACpB/7B,KAAKglB,GAAKA,EACVhlB,KAAKoN,GAAKA,EACVpN,KAAKooB,GAAKA,EACVpoB,KAAK+7B,SAAWA,CAClB,CAwCA,SAASO,GAAQtX,EAAGuX,EAAIC,GACtB,OAGY,KAHJxX,EAAI,GAAKuX,GAAMC,EAAKD,GAAMvX,EAAI,GAChCA,EAAI,IAAMwX,EACVxX,EAAI,IAAMuX,GAAMC,EAAKD,IAAO,IAAMvX,GAAK,GACvCuX,EACR,CAzMA5L,GAAOI,GAAOuK,GAAO,CACnBmB,KAAM,SAASC,GACb,OAAO94B,OAAOC,OAAO,IAAI7D,KAAKF,YAAaE,KAAM08B,EAClD,EACDC,YAAa,WACX,OAAO38B,KAAKk7B,MAAMyB,aACnB,EACDV,IAAKhB,GACLE,UAAWF,GACX2B,UASF,WACE,OAAOP,GAAWr8B,MAAM48B,WAC1B,EAVEvB,UAAWD,GACX37B,SAAU27B,KA6DZzK,GAAO8K,GAAKP,GAAKve,GAAOoU,GAAO,CAC7BE,SAAU,SAASzkB,GAEjB,OADAA,EAAS,MAALA,EAAYykB,GAAWziB,KAAKgiB,IAAIS,GAAUzkB,GACvC,IAAIivB,GAAIz7B,KAAK47B,EAAIpvB,EAAGxM,KAAK67B,EAAIrvB,EAAGxM,KAAK6W,EAAIrK,EAAGxM,KAAK+7B,QACzD,EACD/K,OAAQ,SAASxkB,GAEf,OADAA,EAAS,MAALA,EAAYwkB,GAASxiB,KAAKgiB,IAAIQ,GAAQxkB,GACnC,IAAIivB,GAAIz7B,KAAK47B,EAAIpvB,EAAGxM,KAAK67B,EAAIrvB,EAAGxM,KAAK6W,EAAIrK,EAAGxM,KAAK+7B,QACzD,EACDb,IAAK,WACH,OAAOl7B,IACR,EACD28B,YAAa,WACX,OAAS,IAAO38B,KAAK47B,GAAK57B,KAAK47B,EAAI,QAC1B,IAAO57B,KAAK67B,GAAK77B,KAAK67B,EAAI,QAC1B,IAAO77B,KAAK6W,GAAK7W,KAAK6W,EAAI,OAC3B,GAAK7W,KAAK+7B,SAAW/7B,KAAK+7B,SAAW,CAC9C,EACDE,IAAKD,GACLb,UAAWa,GACXX,UAAWa,GACXz8B,SAAUy8B,MAiEZvL,GAAOyL,IAAAA,SAXapX,EAAG5X,EAAGgb,EAAG2T,GAC3B,OAA4B,IAArBxV,UAAU3lB,OAAey7B,GAAWrX,GAAK,IAAIoX,GAAIpX,EAAG5X,EAAGgb,EAAc,MAAX2T,EAAkB,EAAIA,EAUxEpf,GAAAA,GAAOoU,GAAO,CAC7BE,SAAU,SAASzkB,GAEjB,OADAA,EAAS,MAALA,EAAYykB,GAAWziB,KAAKgiB,IAAIS,GAAUzkB,GACvC,IAAI4vB,GAAIp8B,KAAKglB,EAAGhlB,KAAKoN,EAAGpN,KAAKooB,EAAI5b,EAAGxM,KAAK+7B,QACjD,EACD/K,OAAQ,SAASxkB,GAEf,OADAA,EAAS,MAALA,EAAYwkB,GAASxiB,KAAKgiB,IAAIQ,GAAQxkB,GACnC,IAAI4vB,GAAIp8B,KAAKglB,EAAGhlB,KAAKoN,EAAGpN,KAAKooB,EAAI5b,EAAGxM,KAAK+7B,QACjD,EACDb,IAAK,WACH,IAAIlW,EAAIhlB,KAAKglB,EAAI,IAAqB,KAAdhlB,KAAKglB,EAAI,GAC7B5X,EAAI+uB,MAAMnX,IAAMmX,MAAMn8B,KAAKoN,GAAK,EAAIpN,KAAKoN,EACzCgb,EAAIpoB,KAAKooB,EACToU,EAAKpU,GAAKA,EAAI,GAAMA,EAAI,EAAIA,GAAKhb,EACjCmvB,EAAK,EAAInU,EAAIoU,EACjB,OAAO,IAAIf,GACTa,GAAQtX,GAAK,IAAMA,EAAI,IAAMA,EAAI,IAAKuX,EAAIC,GAC1CF,GAAQtX,EAAGuX,EAAIC,GACfF,GAAQtX,EAAI,IAAMA,EAAI,IAAMA,EAAI,IAAKuX,EAAIC,GACzCx8B,KAAK+7B,QAER,EACDY,YAAa,WACX,OAAQ,GAAK38B,KAAKoN,GAAKpN,KAAKoN,GAAK,GAAK+uB,MAAMn8B,KAAKoN,KACzC,GAAKpN,KAAKooB,GAAKpoB,KAAKooB,GAAK,GACzB,GAAKpoB,KAAK+7B,SAAW/7B,KAAK+7B,SAAW,CAC9C,EACDa,UAAW,WACT,IAAI/P,EAAI7sB,KAAK+7B,QACb,OAAc,KADQlP,EAAIsP,MAAMtP,GAAK,EAAIre,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,EAAGoe,KAC/C,OAAS,UACpB7sB,KAAKglB,GAAK,GAAK,KACA,KAAfhlB,KAAKoN,GAAK,GAAW,MACN,KAAfpN,KAAKooB,GAAK,GAAW,KACf,IAANyE,EAAU,IAAM,KAAOA,EAAI,IACnC,KCzWI,MAAMgQ,GAAUruB,KAAKsuB,GAAK,IACpBC,GAAU,IAAMvuB,KAAKsuB,GCK9BE,GAAK,OAELC,GAAK,OACLC,GAAK,EAAI,GACTC,GAAK,EAAI,GACTC,GAAK,EAAID,GAAKA,GACdE,GAAKF,GAAKA,GAAKA,GAEnB,SAASG,GAAWviB,GAClB,GAAIA,aAAawiB,GAAK,OAAO,IAAIA,GAAIxiB,EAAEqN,EAAGrN,EAAE8R,EAAG9R,EAAElE,EAAGkE,EAAEghB,SACtD,GAAIhhB,aAAayiB,GAAK,OAAOC,GAAQ1iB,GAC/BA,aAAa0gB,KAAM1gB,EAAI+gB,GAAW/gB,IACxC,IAGuE1D,EAAGqmB,EAHtE9B,EAAI+B,GAAS5iB,EAAE6gB,GACfC,EAAI8B,GAAS5iB,EAAE8gB,GACfhlB,EAAI8mB,GAAS5iB,EAAElE,GACf+mB,EAAIC,IAAS,SAAYjC,EAAI,SAAYC,EAAI,SAAYhlB,GAdtD,GAmBP,OAJI+kB,IAAMC,GAAKA,IAAMhlB,EAAGQ,EAAIqmB,EAAIE,GAC9BvmB,EAAIwmB,IAAS,SAAYjC,EAAI,SAAYC,EAAI,SAAYhlB,GAAKmmB,IAC9DU,EAAIG,IAAS,SAAYjC,EAAI,SAAYC,EAAI,SAAYhlB,GAAKomB,KAEzD,IAAIM,GAAI,IAAMK,EAAI,GAAI,KAAOvmB,EAAIumB,GAAI,KAAOA,EAAIF,GAAI3iB,EAAEghB,QAC/D,CAUO,SAASwB,GAAInV,EAAGyE,EAAGhW,EAAGklB,GAC3B/7B,KAAKooB,GAAKA,EACVpoB,KAAK6sB,GAAKA,EACV7sB,KAAK6W,GAAKA,EACV7W,KAAK+7B,SAAWA,CAClB,CAyBA,SAAS8B,GAAQ/oB,GACf,OAAOA,EAAIuoB,GAAK7uB,KAAKgiB,IAAI1b,EAAG,EAAI,GAAKA,EAAIsoB,GAAKF,EAChD,CAEA,SAASY,GAAQhpB,GACf,OAAOA,EAAIqoB,GAAKroB,EAAIA,EAAIA,EAAIsoB,IAAMtoB,EAAIooB,GACxC,CAEA,SAASa,GAAS1mB,GAChB,OAAO,KAAOA,GAAK,SAAY,MAAQA,EAAI,MAAQ7I,KAAKgiB,IAAInZ,EAAG,EAAI,KAAO,KAC5E,CAEA,SAASsmB,GAAStmB,GAChB,OAAQA,GAAK,MAAQ,OAAUA,EAAI,MAAQ7I,KAAKgiB,KAAKnZ,EAAI,MAAS,MAAO,IAC3E,CAkBO,SAASmmB,GAAIxY,EAAGgZ,EAAG5V,EAAG2T,GAC3B/7B,KAAKglB,GAAKA,EACVhlB,KAAKg+B,GAAKA,EACVh+B,KAAKooB,GAAKA,EACVpoB,KAAK+7B,SAAWA,CAClB,CAEA,SAAS0B,GAAQ1iB,GACf,GAAIohB,MAAMphB,EAAEiK,GAAI,OAAO,IAAIuY,GAAIxiB,EAAEqN,EAAG,EAAG,EAAGrN,EAAEghB,SAC5C,IAAI/W,EAAIjK,EAAEiK,EAAI6X,GACd,OAAO,IAAIU,GAAIxiB,EAAEqN,EAAG5Z,KAAKyvB,IAAIjZ,GAAKjK,EAAEijB,EAAGxvB,KAAK0vB,IAAIlZ,GAAKjK,EAAEijB,EAAGjjB,EAAEghB,QAC9D,CAlEApL,GAAO4M,IAAAA,SAXqBnV,EAAGyE,EAAGhW,EAAGklB,GACnC,OAA4B,IAArBxV,UAAU3lB,OAAe08B,GAAWlV,GAAK,IAAImV,GAAInV,EAAGyE,EAAGhW,EAAc,MAAXklB,EAAkB,EAAIA,EACzF,GASiBpf,GAAOoU,GAAO,CAC7BE,SAAU,SAASzkB,GACjB,OAAO,IAAI+wB,GAAIv9B,KAAKooB,EAzCd,IAyC4B,MAAL5b,EAAY,EAAIA,GAAIxM,KAAK6sB,EAAG7sB,KAAK6W,EAAG7W,KAAK+7B,QACvE,EACD/K,OAAQ,SAASxkB,GACf,OAAO,IAAI+wB,GAAIv9B,KAAKooB,EA5Cd,IA4C4B,MAAL5b,EAAY,EAAIA,GAAIxM,KAAK6sB,EAAG7sB,KAAK6W,EAAG7W,KAAK+7B,QACvE,EACDb,IAAK,WACH,IAAI0C,GAAK59B,KAAKooB,EAAI,IAAM,IACpB/Q,EAAI8kB,MAAMn8B,KAAK6sB,GAAK+Q,EAAIA,EAAI59B,KAAK6sB,EAAI,IACrC6Q,EAAIvB,MAAMn8B,KAAK6W,GAAK+mB,EAAIA,EAAI59B,KAAK6W,EAAI,IAIzC,OAAO,IAAI4kB,GACTsC,GAAU,WAJZ1mB,EAAI2lB,GAAKc,GAAQzmB,IAIW,WAH5BumB,EAjDK,EAiDIE,GAAQF,IAG2B,UAF5CF,EAAIT,GAAKa,GAAQJ,KAGfK,IAAU,SAAY1mB,EAAI,UAAYumB,EAAI,QAAYF,GACtDK,GAAU,SAAY1mB,EAAI,SAAYumB,EAAI,UAAYF,GACtD19B,KAAK+7B,QAER,KAgDHpL,GAAO6M,IAAAA,SAjBaxY,EAAGgZ,EAAG5V,EAAG2T,GAC3B,OAA4B,IAArBxV,UAAU3lB,OAbnB,SAAoBma,GAClB,GAAIA,aAAayiB,GAAK,OAAO,IAAIA,GAAIziB,EAAEiK,EAAGjK,EAAEijB,EAAGjjB,EAAEqN,EAAGrN,EAAEghB,SAEtD,GADMhhB,aAAawiB,KAAMxiB,EAAIuiB,GAAWviB,IAC5B,IAARA,EAAE8R,GAAmB,IAAR9R,EAAElE,EAAS,OAAO,IAAI2mB,GAAIpO,IAAK,EAAIrU,EAAEqN,GAAKrN,EAAEqN,EAAI,IAAM,EAAIgH,IAAKrU,EAAEqN,EAAGrN,EAAEghB,SACvF,IAAI/W,EAAIxW,KAAK2vB,MAAMpjB,EAAElE,EAAGkE,EAAE8R,GAAKkQ,GAC/B,OAAO,IAAIS,GAAIxY,EAAI,EAAIA,EAAI,IAAMA,EAAGxW,KAAKwhB,KAAKjV,EAAE8R,EAAI9R,EAAE8R,EAAI9R,EAAElE,EAAIkE,EAAElE,GAAIkE,EAAEqN,EAAGrN,EAAEghB,QAC/E,CANA,CAa6C/W,GAAK,IAAIwY,GAAIxY,EAAGgZ,EAAG5V,EAAc,MAAX2T,EAAkB,EAAIA,EAgBxEpf,GAAAA,GAAOoU,GAAO,CAC7BE,SAAU,SAASzkB,GACjB,OAAO,IAAIgxB,GAAIx9B,KAAKglB,EAAGhlB,KAAKg+B,EAAGh+B,KAAKooB,EA7G9B,IA6G4C,MAAL5b,EAAY,EAAIA,GAAIxM,KAAK+7B,QACvE,EACD/K,OAAQ,SAASxkB,GACf,OAAO,IAAIgxB,GAAIx9B,KAAKglB,EAAGhlB,KAAKg+B,EAAGh+B,KAAKooB,EAhH9B,IAgH4C,MAAL5b,EAAY,EAAIA,GAAIxM,KAAK+7B,QACvE,EACDb,IAAK,WACH,OAAOuC,GAAQz9B,MAAMk7B,KACtB,KCrHH,IAAIkD,IAAK,OACLC,GAAI,QACJC,IAAK,OACLC,IAAK,OACLC,GAAI,QACJC,GAAKD,GAAID,GACTG,GAAKF,GAAIH,GACTM,GAAQN,GAAIC,GAAIC,GAAIH,GAgBT,SAASQ,GAAU5Z,EAAG5X,EAAGgb,EAAG2T,GACzC,OAA4B,IAArBxV,UAAU3lB,OAfnB,SAA0Bma,GACxB,GAAIA,aAAa8jB,GAAW,OAAO,IAAIA,GAAU9jB,EAAEiK,EAAGjK,EAAE3N,EAAG2N,EAAEqN,EAAGrN,EAAEghB,SAC5DhhB,aAAa0gB,KAAM1gB,EAAI+gB,GAAW/gB,IACxC,IAAI6gB,EAAI7gB,EAAE6gB,EAAI,IACVC,EAAI9gB,EAAE8gB,EAAI,IACVhlB,EAAIkE,EAAElE,EAAI,IACVuR,GAAKuW,GAAQ9nB,EAAI4nB,GAAK7C,EAAI8C,GAAK7C,IAAM8C,GAAQF,GAAKC,IAClDI,EAAKjoB,EAAIuR,EACT5b,GAAKgyB,IAAK3C,EAAIzT,GAAKkW,GAAIQ,GAAMP,GAC7BnxB,EAAIoB,KAAKwhB,KAAKxjB,EAAIA,EAAIsyB,EAAKA,IAAON,GAAIpW,GAAK,EAAIA,IAC/CpD,EAAI5X,EAAIoB,KAAK2vB,MAAM3xB,EAAGsyB,GAAM/B,GAAU,IAAM3N,IAChD,OAAO,IAAIyP,GAAU7Z,EAAI,EAAIA,EAAI,IAAMA,EAAG5X,EAAGgb,EAAGrN,EAAEghB,QACpD,CAZA,CAemD/W,GAAK,IAAI6Z,GAAU7Z,EAAG5X,EAAGgb,EAAc,MAAX2T,EAAkB,EAAIA,EACrG,CAEO,SAAS8C,GAAU7Z,EAAG5X,EAAGgb,EAAG2T,GACjC/7B,KAAKglB,GAAKA,EACVhlB,KAAKoN,GAAKA,EACVpN,KAAKooB,GAAKA,EACVpoB,KAAK+7B,SAAWA,CAClB,CAEApL,GAAOkO,GAAWD,GAAWjiB,GAAOoU,GAAO,CACzCE,SAAU,SAASzkB,GAEjB,OADAA,EAAS,MAALA,EAAYykB,GAAWziB,KAAKgiB,IAAIS,GAAUzkB,GACvC,IAAIqyB,GAAU7+B,KAAKglB,EAAGhlB,KAAKoN,EAAGpN,KAAKooB,EAAI5b,EAAGxM,KAAK+7B,QACvD,EACD/K,OAAQ,SAASxkB,GAEf,OADAA,EAAS,MAALA,EAAYwkB,GAASxiB,KAAKgiB,IAAIQ,GAAQxkB,GACnC,IAAIqyB,GAAU7+B,KAAKglB,EAAGhlB,KAAKoN,EAAGpN,KAAKooB,EAAI5b,EAAGxM,KAAK+7B,QACvD,EACDb,IAAK,WACH,IAAIlW,EAAImX,MAAMn8B,KAAKglB,GAAK,GAAKhlB,KAAKglB,EAAI,KAAO6X,GACzCzU,GAAKpoB,KAAKooB,EACVyE,EAAIsP,MAAMn8B,KAAKoN,GAAK,EAAIpN,KAAKoN,EAAIgb,GAAK,EAAIA,GAC1C2W,EAAOvwB,KAAKyvB,IAAIjZ,GAChBga,EAAOxwB,KAAK0vB,IAAIlZ,GACpB,OAAO,IAAIyW,GACT,KAAOrT,EAAIyE,GAAKuR,GAAIW,EAAOV,GAAIW,IAC/B,KAAO5W,EAAIyE,GAAKyR,GAAIS,EAAOR,GAAIS,IAC/B,KAAO5W,EAAIyE,GAAK2R,GAAIO,IACpB/+B,KAAK+7B,QAER,KC3DY,IAAAkD,GAAA5nB,GAAK,IAAMA,ECE1B,SAAS6nB,GAAOrS,EAAGxhB,GACjB,OAAO,SAASyJ,GACd,OAAO+X,EAAI/X,EAAIzJ,CACnB,CACA,CAmBe,SAAS8zB,GAAQtS,EAAGhW,GACjC,IAAIxL,EAAIwL,EAAIgW,EACZ,OAAOxhB,EAAI6zB,GAAOrS,EAAGxhB,GAAK6Y,GAASiY,MAAMtP,GAAKhW,EAAIgW,EACpD,CCvBA,IAAAqO,GAAe,SAAUkE,EAASxB,GAChC,IAAItC,EDaC,SAAesC,GACpB,OAAoB,IAAZA,GAAKA,GAAWuB,GAAU,SAAStS,EAAGhW,GAC5C,OAAOA,EAAIgW,EAbf,SAAqBA,EAAGhW,EAAG+mB,GACzB,OAAO/Q,EAAIre,KAAKgiB,IAAI3D,EAAG+Q,GAAI/mB,EAAIrI,KAAKgiB,IAAI3Z,EAAG+mB,GAAK/Q,EAAG+Q,EAAI,EAAIA,EAAG,SAAS9oB,GACrE,OAAOtG,KAAKgiB,IAAI3D,EAAI/X,EAAI+B,EAAG+mB,EAC/B,CACA,CAJA,CAa+B/Q,EAAGhW,EAAG+mB,GAAK1Z,GAASiY,MAAMtP,GAAKhW,EAAIgW,EAClE,CACA,CCjBcwS,CAAMzB,GAElB,SAAS1C,EAAI1lB,EAAOE,GAClB,IAAIkmB,EAAIN,GAAO9lB,EAAQ8pB,GAAS9pB,IAAQomB,GAAIlmB,EAAM4pB,GAAS5pB,IAAMkmB,GAC7DC,EAAIP,EAAM9lB,EAAMqmB,EAAGnmB,EAAImmB,GACvBhlB,EAAIykB,EAAM9lB,EAAMqB,EAAGnB,EAAImB,GACvBklB,EAAUoD,GAAQ3pB,EAAMumB,QAASrmB,EAAIqmB,SACzC,OAAO,SAASjnB,GAKd,OAJAU,EAAMomB,EAAIA,EAAE9mB,GACZU,EAAMqmB,EAAIA,EAAE/mB,GACZU,EAAMqB,EAAIA,EAAE/B,GACZU,EAAMumB,QAAUA,EAAQjnB,GACjBU,EAAQ,EACrB,CACG,CAID,OAFA0lB,EAAImE,MAAQD,EAELlE,CACR,CApBc,CAoBZ,GCzBY,SAAAqE,GAAS1S,EAAGhW,GACpBA,IAAGA,EAAI,IACZ,IAEI3O,EAFAjJ,EAAI4tB,EAAIre,KAAKC,IAAIoI,EAAEjW,OAAQisB,EAAEjsB,QAAU,EACvCo9B,EAAInnB,EAAElW,QAEV,OAAO,SAASmU,GACd,IAAK5M,EAAI,EAAGA,EAAIjJ,IAAKiJ,EAAG81B,EAAE91B,GAAK2kB,EAAE3kB,IAAM,EAAI4M,GAAK+B,EAAE3O,GAAK4M,EACvD,OAAOkpB,CACX,CACA,CCFO,SAASwB,GAAa3S,EAAGhW,GAC9B,IAII3O,EAJAu3B,EAAK5oB,EAAIA,EAAEjW,OAAS,EACpB8+B,EAAK7S,EAAIre,KAAKC,IAAIgxB,EAAI5S,EAAEjsB,QAAU,EAClCyW,EAAI,IAAIrT,MAAM07B,GACd1B,EAAI,IAAIh6B,MAAMy7B,GAGlB,IAAKv3B,EAAI,EAAGA,EAAIw3B,IAAMx3B,EAAGmP,EAAEnP,GAAKrG,GAAMgrB,EAAE3kB,GAAI2O,EAAE3O,IAC9C,KAAOA,EAAIu3B,IAAMv3B,EAAG81B,EAAE91B,GAAK2O,EAAE3O,GAE7B,OAAO,SAAS4M,GACd,IAAK5M,EAAI,EAAGA,EAAIw3B,IAAMx3B,EAAG81B,EAAE91B,GAAKmP,EAAEnP,GAAG4M,GACrC,OAAOkpB,CACX,CACA,CCrBe,SAAA7+B,GAAS0tB,EAAGhW,GACzB,IAAIxL,EAAI,IAAI4F,KACZ,OAAO4b,GAAKA,EAAGhW,GAAKA,EAAG,SAAS/B,GAC9B,OAAOzJ,EAAEs0B,QAAQ9S,GAAK,EAAI/X,GAAK+B,EAAI/B,GAAIzJ,CAC3C,CACA,CCLe,SAAAu0B,GAAS/S,EAAGhW,GACzB,OAAOgW,GAAKA,EAAGhW,GAAKA,EAAG,SAAS/B,GAC9B,OAAO+X,GAAK,EAAI/X,GAAK+B,EAAI/B,CAC7B,CACA,CCFe,SAAA/U,GAAS8sB,EAAGhW,GACzB,IAEIrK,EAFAtE,EAAI,CAAE,EACN81B,EAAI,CAAE,EAMV,IAAKxxB,KAHK,OAANqgB,GAA2B,iBAANA,IAAgBA,EAAI,IACnC,OAANhW,GAA2B,iBAANA,IAAgBA,EAAI,IAEnCA,EACJrK,KAAKqgB,EACP3kB,EAAEsE,GAAK3K,GAAMgrB,EAAErgB,GAAIqK,EAAErK,IAErBwxB,EAAExxB,GAAKqK,EAAErK,GAIb,OAAO,SAASsI,GACd,IAAKtI,KAAKtE,EAAG81B,EAAExxB,GAAKtE,EAAEsE,GAAGsI,GACzB,OAAOkpB,CACX,CACA,CCpBA,IAAI6B,GAAM,8CACNC,GAAM,IAAIjkB,OAAOgkB,GAAIn8B,OAAQ,KAclB,SAAAiT,GAASkW,EAAGhW,GACzB,IACIkpB,EACAC,EACAC,EAHAC,EAAKL,GAAI/f,UAAYggB,GAAIhgB,UAAY,EAIrC5X,GAAK,EACLkF,EAAI,GACJ+yB,EAAI,GAMR,IAHAtT,GAAQ,GAAIhW,GAAQ,IAGZkpB,EAAKF,GAAI/xB,KAAK+e,MACdmT,EAAKF,GAAIhyB,KAAK+I,MACfopB,EAAKD,EAAGx4B,OAAS04B,IACpBD,EAAKppB,EAAElW,MAAMu/B,EAAID,GACb7yB,EAAElF,GAAIkF,EAAElF,IAAM+3B,EACb7yB,IAAIlF,GAAK+3B,IAEXF,EAAKA,EAAG,OAASC,EAAKA,EAAG,IACxB5yB,EAAElF,GAAIkF,EAAElF,IAAM83B,EACb5yB,IAAIlF,GAAK83B,GAEd5yB,IAAIlF,GAAK,KACTi4B,EAAE13B,KAAK,CAACP,EAAGA,EAAGmP,EAAG5J,GAAOsyB,EAAIC,MAE9BE,EAAKJ,GAAIhgB,UAYX,OARIogB,EAAKrpB,EAAEjW,SACTq/B,EAAKppB,EAAElW,MAAMu/B,GACT9yB,EAAElF,GAAIkF,EAAElF,IAAM+3B,EACb7yB,IAAIlF,GAAK+3B,GAKT7yB,EAAExM,OAAS,EAAKu/B,EAAE,GA7C3B,SAAatpB,GACX,OAAO,SAAS/B,GACd,OAAO+B,EAAE/B,GAAK,EAClB,CACA,CAJA,CA8CYqrB,EAAE,GAAG9oB,GApDjB,SAAcR,GACZ,OAAO,WACL,OAAOA,CACX,CACA,CAJA,CAqDaA,IACJA,EAAIspB,EAAEv/B,OAAQ,SAASkU,GACtB,IAAK,IAAWiG,EAAP7S,EAAI,EAAMA,EAAI2O,IAAK3O,EAAGkF,GAAG2N,EAAIolB,EAAEj4B,IAAIA,GAAK6S,EAAE1D,EAAEvC,GACrD,OAAO1H,EAAEvM,KAAK,GACxB,EACA,CCrDe,SAAAu/B,GAASvT,EAAGhW,GACzB,IAAkBmnB,ENAU3mB,EMAxBvC,SAAW+B,EACf,OAAY,MAALA,GAAmB,YAAN/B,EAAkBoP,GAASrN,IAClC,WAAN/B,EAAiBrH,GACZ,WAANqH,GAAmBkpB,EAAI1C,GAAMzkB,KAAOA,EAAImnB,EAAG9C,IAAOvkB,GAClDE,aAAaykB,GAAQJ,GACrBrkB,aAAa5F,KAAO9R,INLEkY,EMMRR,GNLbwpB,YAAYC,OAAOjpB,IAAQA,aAAakpB,SMMzCv8B,MAAM8W,QAAQjE,GAAK2oB,GACE,mBAAd3oB,EAAE+R,SAAgD,mBAAf/R,EAAEpX,UAA2B08B,MAAMtlB,GAAK9W,GAClF0N,GAHmB8xB,KAGX1S,EAAGhW,EACnB,CCrBe,SAAA2pB,GAAS3T,EAAGhW,GACzB,OAAOgW,GAAKA,EAAGhW,GAAKA,EAAG,SAAS/B,GAC9B,OAAOtG,KAAK4c,MAAMyB,GAAK,EAAI/X,GAAK+B,EAAI/B,EACxC,CACA,CCFA,SAASiqB,GAAK1nB,GACZ,QAASA,EAAI7I,KAAKiyB,IAAIppB,IAAM,EAAIA,GAAK,CACvC,CCDA,SAASunB,GAAU8B,GACjB,OAAO,SAAUC,EAAe/C,GAG9B,SAASgB,EAAUppB,EAAOE,GACxB,IAAIsP,EAAI0b,GAAKlrB,EAAQorB,GAAeprB,IAAQwP,GAAItP,EAAMkrB,GAAelrB,IAAMsP,GACvE5X,EAAIkuB,GAAM9lB,EAAMpI,EAAGsI,EAAItI,GACvBgb,EAAIkT,GAAM9lB,EAAM4S,EAAG1S,EAAI0S,GACvB2T,EAAUT,GAAM9lB,EAAMumB,QAASrmB,EAAIqmB,SACvC,OAAO,SAASjnB,GAKd,OAJAU,EAAMwP,EAAIA,EAAElQ,GACZU,EAAMpI,EAAIA,EAAE0H,GACZU,EAAM4S,EAAIA,EAAE5Z,KAAKgiB,IAAI1b,EAAG8oB,IACxBpoB,EAAMumB,QAAUA,EAAQjnB,GACjBU,EAAQ,EACvB,CACK,CAID,OAlBAooB,GAAKA,EAgBLgB,EAAUS,MAAQsB,EAEX/B,CACR,CApBM,CAoBJ,EACL,CCzBe,SAASnxB,GAAO4J,GAC7B,OAAQA,CACV,EFYe,SAAUwpB,EAAQC,EAAKC,EAAMC,GAI1C,SAASC,EAAKC,EAAIC,GAChB,IAKIj5B,EACAk5B,EANAC,EAAMH,EAAG,GAAII,EAAMJ,EAAG,GAAIK,EAAKL,EAAG,GAClCM,EAAML,EAAG,GAAIM,EAAMN,EAAG,GAAIO,EAAKP,EAAG,GAClCQ,EAAKH,EAAMH,EACXO,EAAKH,EAAMH,EACXO,EAAKF,EAAKA,EAAKC,EAAKA,EAKxB,GAAIC,EA5BO,MA6BTT,EAAI5yB,KAAKgC,IAAIkxB,EAAKH,GAAMT,EACxB54B,EAAI,SAAS4M,GACX,MAAO,CACLusB,EAAMvsB,EAAI6sB,EACVL,EAAMxsB,EAAI8sB,EACVL,EAAK/yB,KAAKiyB,IAAIK,EAAMhsB,EAAIssB,GAE3B,MAIE,CACH,IAAIU,EAAKtzB,KAAKwhB,KAAK6R,GACfE,GAAML,EAAKA,EAAKH,EAAKA,EAAKP,EAAOa,IAAO,EAAIN,EAAKR,EAAOe,GACxDE,GAAMN,EAAKA,EAAKH,EAAKA,EAAKP,EAAOa,IAAO,EAAIH,EAAKX,EAAOe,GACxDG,EAAKzzB,KAAKgC,IAAIhC,KAAKwhB,KAAK+R,EAAKA,EAAK,GAAKA,GACvCG,EAAK1zB,KAAKgC,IAAIhC,KAAKwhB,KAAKgS,EAAKA,EAAK,GAAKA,GAC3CZ,GAAKc,EAAKD,GAAMnB,EAChB54B,EAAI,SAAS4M,GACX,IAtCMuC,EAsCFjK,EAAI0H,EAAIssB,EACRe,EAASpD,GAAKkD,GACdG,EAAIb,GAAMR,EAAOe,IAAOK,GAxCtB9qB,EAwCoCypB,EAAM1zB,EAAI60B,IAvCjD5qB,EAAI7I,KAAKiyB,IAAI,EAAIppB,IAAM,IAAMA,EAAI,IAL5C,SAAcA,GACZ,QAASA,EAAI7I,KAAKiyB,IAAIppB,IAAM,EAAIA,GAAK,CACvC,CAFA,CA4CuE4qB,IAC/D,MAAO,CACLZ,EAAMe,EAAIT,EACVL,EAAMc,EAAIR,EACVL,EAAKY,EAASpD,GAAK+B,EAAM1zB,EAAI60B,GAEhC,CACF,CAID,OAFA/5B,EAAEm6B,SAAe,IAAJjB,EAAWN,EAAMtyB,KAAK8zB,MAE5Bp6B,CACR,CAOD,OALA+4B,EAAKH,IAAM,SAASxmB,GAClB,IAAIioB,EAAK/zB,KAAK4X,IAAI,MAAO9L,GAAIkoB,EAAKD,EAAKA,EACvC,OAAO1B,EAAQ0B,EAAIC,EAD6BA,EAAKA,EAEzD,EAESvB,CACR,CAxDc,CAwDZzyB,KAAK8zB,MAAO,EAAG,GC3CH1D,IAAAA,SXbK/R,EAAGhW,GACrB,IAAIxL,EAAIwL,EAAIgW,EACZ,OAAOxhB,EAAI6zB,GAAOrS,EAAGxhB,EAAI,KAAOA,GAAK,IAAMA,EAAI,IAAMmD,KAAK4c,MAAM/f,EAAI,KAAOA,GAAK6Y,GAASiY,MAAMtP,GAAKhW,EAAIgW,EAC1G,IWW2B+R,GAAUtD,IEvBrC,IAAImH,GAAO,CAAC,EAAG,GAER,SAASC,GAASrrB,GACvB,OAAOA,CACT,CAEA,SAASsrB,GAAU9V,EAAGhW,GACpB,OAAQA,GAAMgW,GAAKA,GACb,SAASxV,GAAK,OAAQA,EAAIwV,GAAKhW,CAAI,GCbTQ,EDcjB8kB,MAAMtlB,GAAKuY,IAAM,GCbzB,WACL,OAAO/X,CACX,GAHe,IAAmBA,CDelC,CAUA,SAASurB,GAAMlS,EAAQ1K,EAAOoa,GAC5B,IAAIyC,EAAKnS,EAAO,GAAIoR,EAAKpR,EAAO,GAAIuR,EAAKjc,EAAM,GAAIkc,EAAKlc,EAAM,GAG9D,OAFI8b,EAAKe,GAAIA,EAAKF,GAAUb,EAAIe,GAAKZ,EAAK7B,EAAY8B,EAAID,KACrDY,EAAKF,GAAUE,EAAIf,GAAKG,EAAK7B,EAAY6B,EAAIC,IAC3C,SAAS7qB,GAAK,OAAO4qB,EAAGY,EAAGxrB,IACpC,CAEA,SAASyrB,GAAQpS,EAAQ1K,EAAOoa,GAC9B,IAAIhgB,EAAI5R,KAAKC,IAAIiiB,EAAO9vB,OAAQolB,EAAMplB,QAAU,EAC5CyK,EAAI,IAAIrH,MAAMoc,GACdwb,EAAI,IAAI53B,MAAMoc,GACdlY,GAAK,EAQT,IALIwoB,EAAOtQ,GAAKsQ,EAAO,KACrBA,EAASA,EAAO/vB,QAAQoiC,UACxB/c,EAAQA,EAAMrlB,QAAQoiC,aAGf76B,EAAIkY,GACX/U,EAAEnD,GAAKy6B,GAAUjS,EAAOxoB,GAAIwoB,EAAOxoB,EAAI,IACvC0zB,EAAE1zB,GAAKk4B,EAAYpa,EAAM9d,GAAI8d,EAAM9d,EAAI,IAGzC,OAAO,SAASmP,GACd,IAAInP,EAAI86B,GAAOtS,EAAQrZ,EAAG,EAAG+I,GAAK,EAClC,OAAOwb,EAAE1zB,GAAGmD,EAAEnD,GAAGmP,GACrB,CACA,CE5CO,SAAS4rB,GAAmB5rB,EAAGyJ,GACpC,IAAK5Y,GAAKmP,EAAIyJ,EAAIzJ,EAAE6rB,cAAcpiB,EAAI,GAAKzJ,EAAE6rB,iBAAiB16B,QAAQ,MAAQ,EAAG,OAAO,KACxF,IAAIN,EAAGi7B,EAAc9rB,EAAE1W,MAAM,EAAGuH,GAIhC,MAAO,CACLi7B,EAAYviC,OAAS,EAAIuiC,EAAY,GAAKA,EAAYxiC,MAAM,GAAKwiC,GAChE9rB,EAAE1W,MAAMuH,EAAI,GAEjB,CCjBe,SAAQk7B,GAAC/rB,GACtB,OAAOA,EAAI4rB,GAAmBz0B,KAAK60B,IAAIhsB,KAASA,EAAE,GAAK+X,GACzD,CCHA,ICCWkU,GDDPC,GAAK,2EAEM,SAASC,GAAgBC,GACtC,KAAMxuB,EAAQsuB,GAAGz1B,KAAK21B,IAAa,MAAM,IAAI7gC,MAAM,mBAAqB6gC,GACxE,IAAIxuB,EACJ,OAAO,IAAIyuB,GAAgB,CACzBC,KAAM1uB,EAAM,GACZ2uB,MAAO3uB,EAAM,GACb4uB,KAAM5uB,EAAM,GACZ6uB,OAAQ7uB,EAAM,GACd8uB,KAAM9uB,EAAM,GACZuW,MAAOvW,EAAM,GACbiR,MAAOjR,EAAM,GACb+uB,UAAW/uB,EAAM,IAAMA,EAAM,GAAGtU,MAAM,GACtC8L,KAAMwI,EAAM,GACZ9M,KAAM8M,EAAM,KAEhB,CAIO,SAASyuB,GAAgBD,GAC9BzjC,KAAK2jC,UAAAA,IAAOF,EAAUE,KAAqB,IAAMF,EAAUE,KAAO,GAClE3jC,KAAK4jC,WAAAA,IAAQH,EAAUG,MAAsB,IAAMH,EAAUG,MAAQ,GACrE5jC,KAAK6jC,UAAAA,IAAOJ,EAAUI,KAAqB,IAAMJ,EAAUI,KAAO,GAClE7jC,KAAK8jC,YAA8B32B,IAArBs2B,EAAUK,OAAuB,GAAKL,EAAUK,OAAS,GACvE9jC,KAAK+jC,OAASN,EAAUM,KACxB/jC,KAAKwrB,WAAAA,IAAQiY,EAAUjY,WAAsBre,GAAas2B,EAAUjY,MACpExrB,KAAKkmB,QAAUud,EAAUvd,MACzBlmB,KAAKgkC,eAAoC72B,IAAxBs2B,EAAUO,eAAAA,GAAuCP,EAAUO,UAC5EhkC,KAAKyM,OAASg3B,EAAUh3B,KACxBzM,KAAKmI,cAAOs7B,EAAUt7B,KAAqB,GAAKs7B,EAAUt7B,KAAO,EACnE,CE/Be,SAAA87B,GAAS5sB,EAAGyJ,GACzB,IAAIzV,EAAI43B,GAAmB5rB,EAAGyJ,GAC9B,IAAKzV,EAAG,OAAOgM,EAAI,GACnB,IAAI8rB,EAAc93B,EAAE,GAChB+3B,EAAW/3B,EAAE,GACjB,OAAO+3B,EAAW,EAAI,KAAO,IAAIp/B,OAAOo/B,GAAUviC,KAAK,KAAOsiC,EACxDA,EAAYviC,OAASwiC,EAAW,EAAID,EAAYxiC,MAAM,EAAGyiC,EAAW,GAAK,IAAMD,EAAYxiC,MAAMyiC,EAAW,GAC5GD,EAAc,IAAIn/B,MAAMo/B,EAAWD,EAAYviC,OAAS,GAAGC,KAAK,IACxE,CFUA2iC,GAAgBvwB,UAAYywB,GAAgBzwB,UAe5CywB,GAAgBzwB,UAAUxT,SAAW,WACnC,OAAOO,KAAK2jC,KACN3jC,KAAK4jC,MACL5jC,KAAK6jC,KACL7jC,KAAK8jC,QACJ9jC,KAAK+jC,KAAO,IAAM,UACH52B,IAAfnN,KAAKwrB,MAAsB,GAAKhd,KAAK4X,IAAI,EAAgB,EAAbpmB,KAAKwrB,SACjDxrB,KAAKkmB,MAAQ,IAAM,UAAA,IACnBlmB,KAAKgkC,UAA0B,GAAK,IAAMx1B,KAAK4X,IAAI,EAAoB,EAAjBpmB,KAAKgkC,aAC3DhkC,KAAKyM,KAAO,IAAM,IACnBzM,KAAKmI,IACb,EG1Ce,IAAA+7B,GAAA,CACb,IAAK,CAAC7sB,EAAGyJ,KAAW,IAAJzJ,GAAS8sB,QAAQrjB,GACjCjK,EAAMQ,GAAM7I,KAAK4c,MAAM/T,GAAG5X,SAAS,GACnCu+B,EAAM3mB,GAAMA,EAAI,GAChBhM,ELRa,SAASgM,GACtB,OAAO7I,KAAK60B,IAAIhsB,EAAI7I,KAAK4c,MAAM/T,KAAO,KAChCA,EAAE+sB,eAAe,MAAM/2B,QAAQ,KAAM,IACrCgK,EAAE5X,SAAS,GACnB,EKKE8J,EAAK,CAAC8N,EAAGyJ,IAAMzJ,EAAE6rB,cAAcpiB,GAC/BwO,EAAK,CAACjY,EAAGyJ,IAAMzJ,EAAE8sB,QAAQrjB,GACzB+a,EAAK,CAACxkB,EAAGyJ,IAAMzJ,EAAEgtB,YAAYvjB,GAC7B/F,EAAM1D,GAAM7I,KAAK4c,MAAM/T,GAAG5X,SAAS,GACnCqhB,EAAK,CAACzJ,EAAGyJ,IAAMmjB,GAAkB,IAAJ5sB,EAASyJ,GACtC8a,EAAKqI,GACL72B,EFXa,SAASiK,EAAGyJ,GACzB,IAAIzV,EAAI43B,GAAmB5rB,EAAGyJ,GAC9B,IAAKzV,EAAG,OAAOgM,EAAI,GACnB,IAAI8rB,EAAc93B,EAAE,GAChB+3B,EAAW/3B,EAAE,GACbnD,EAAIk7B,GAAYE,GAAuE,EAAtD90B,KAAK4X,KAAK,EAAG5X,KAAKC,IAAI,EAAGD,KAAKqa,MAAMua,EAAW,MAAY,EAC5FnkC,EAAIkkC,EAAYviC,OACpB,OAAOsH,IAAMjJ,EAAIkkC,EACXj7B,EAAIjJ,EAAIkkC,EAAc,IAAIn/B,MAAMkE,EAAIjJ,EAAI,GAAG4B,KAAK,KAChDqH,EAAI,EAAIi7B,EAAYxiC,MAAM,EAAGuH,GAAK,IAAMi7B,EAAYxiC,MAAMuH,GAC1D,KAAO,IAAIlE,MAAM,EAAIkE,GAAGrH,KAAK,KAAOoiC,GAAmB5rB,EAAG7I,KAAK4X,IAAI,EAAGtF,EAAI5Y,EAAI,IAAI,EAC1F,EECEo8B,EAAMjtB,GAAM7I,KAAK4c,MAAM/T,GAAG5X,SAAS,IAAI8kC,cACvCltB,EAAMA,GAAM7I,KAAK4c,MAAM/T,GAAG5X,SAAS,KCjBtB,SAAQijC,GAACrrB,GACtB,OAAOA,CACT,CCOA,ICPImtB,GACOjJ,GACAkJ,GDKP1hC,GAAMiB,MAAMiP,UAAUlQ,IACtB2hC,GAAW,CAAC,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,KELxE,SAASC,GAAUC,GACxB,IAAIlU,EAASkU,EAAMlU,OAkDnB,OAhDAkU,EAAMC,MAAQ,SAASvjB,GACrB,IAAIjW,EAAIqlB,IACR,OhCNW,SAASlb,EAAO4a,EAAM9O,GACnC,IAAIyhB,EAEA9jC,EACA4lC,EACAxU,EAHAnoB,GAAK,EAMT,GAD8BoZ,GAASA,GAAzB9L,GAASA,KAAvB4a,GAAQA,IACc9O,EAAQ,EAAG,MAAO,CAAC9L,GAEzC,IADIutB,EAAU3S,EAAO5a,KAAOvW,EAAIuW,EAAOA,EAAQ4a,EAAMA,EAAOnxB,GACT,KAA9CoxB,EAAOF,GAAc3a,EAAO4a,EAAM9O,MAAkBwjB,SAASzU,GAAO,MAAO,GAEhF,GAAIA,EAAO,EAAG,CACZ,IAAI4R,EAAKzzB,KAAK4c,MAAM5V,EAAQ6a,GAAO6R,EAAK1zB,KAAK4c,MAAMgF,EAAOC,GAI1D,IAHI4R,EAAK5R,EAAO7a,KAASysB,EACrBC,EAAK7R,EAAOD,KAAQ8R,EACxB2C,EAAQ,IAAI7gC,MAAM/E,EAAIijC,EAAKD,EAAK,KACvB/5B,EAAIjJ,GAAG4lC,EAAM38B,IAAM+5B,EAAK/5B,GAAKmoB,CAC1C,KAAS,CACLA,GAAQA,EACR,IAAI4R,EAAKzzB,KAAK4c,MAAM5V,EAAQ6a,GAAO6R,EAAK1zB,KAAK4c,MAAMgF,EAAOC,GAI1D,IAHI4R,EAAK5R,EAAO7a,KAASysB,EACrBC,EAAK7R,EAAOD,KAAQ8R,EACxB2C,EAAQ,IAAI7gC,MAAM/E,EAAIijC,EAAKD,EAAK,KACvB/5B,EAAIjJ,GAAG4lC,EAAM38B,IAAM+5B,EAAK/5B,GAAKmoB,CACvC,CAID,OAFI0S,GAAS8B,EAAM9B,UAEZ8B,CACT,CA9Be,CgCMEx5B,EAAE,GAAIA,EAAEA,EAAEzK,OAAS,GAAa,MAAT0gB,EAAgB,GAAKA,EAC7D,EAEEsjB,EAAMG,WAAa,SAASzjB,EAAOmiB,GACjC,IAAIp4B,EAAIqlB,IACR,OCZW,SAAoBlb,EAAO4a,EAAM9O,EAAOmiB,GACrD,IACIO,EADA3T,EjCyCC,SAAkB7a,EAAO4a,EAAM9O,GACpC,IAAI0jB,EAAQx2B,KAAK60B,IAAIjT,EAAO5a,GAAShH,KAAK4X,IAAI,EAAG9E,GAC7C2jB,EAAQz2B,KAAKgiB,IAAI,GAAIhiB,KAAKqa,MAAMra,KAAKgC,IAAIw0B,GAASx2B,KAAK+hB,OACvD/qB,EAAQw/B,EAAQC,EAIpB,OAHIz/B,GAASuqB,GAAKkV,GAAS,GAClBz/B,GAASyqB,GAAIgV,GAAS,EACtBz/B,GAAS0qB,KAAI+U,GAAS,GACxB7U,EAAO5a,GAASyvB,EAAQA,CACjC,CARO,CiCzCezvB,EAAO4a,EAAM9O,GAGjC,QADAmiB,EAAYD,GAA6B,MAAbC,EAAoB,KAAOA,IACrCt7B,MAChB,IAAK,IACH,IAAItG,EAAQ2M,KAAK4X,IAAI5X,KAAK60B,IAAI7tB,GAAQhH,KAAK60B,IAAIjT,IAE/C,OAD2B,MAAvBqT,EAAUO,WAAsB7H,MAAM6H,ECRjC,SAAS3T,EAAMxuB,GAC5B,OAAO2M,KAAK4X,IAAI,EAAgE,EAA7D5X,KAAK4X,KAAK,EAAG5X,KAAKC,IAAI,EAAGD,KAAKqa,MAAMua,GAASvhC,GAAS,KAAWuhC,GAAS50B,KAAK60B,IAAIhT,IACxG,CAFe,CDQ6DA,EAAMxuB,MAAS4hC,EAAUO,UAAYA,GACpGS,GAAahB,EAAW5hC,GAEjC,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACwB,MAAvB4hC,EAAUO,WAAsB7H,MAAM6H,EEhBjC,SAAS3T,EAAMjK,GAE5B,OADAiK,EAAO7hB,KAAK60B,IAAIhT,GAAOjK,EAAM5X,KAAK60B,IAAIjd,GAAOiK,EACtC7hB,KAAK4X,IAAI,EAAGgd,GAAShd,GAAOgd,GAAS/S,IAAS,CACvD,CAHe,CFgB4DA,EAAM7hB,KAAK4X,IAAI5X,KAAK60B,IAAI7tB,GAAQhH,KAAK60B,IAAIjT,QAAUqT,EAAUO,UAAYA,GAAgC,MAAnBP,EAAUt7B,OACrK,MAEF,IAAK,IACL,IAAK,IACwB,MAAvBs7B,EAAUO,WAAsB7H,MAAM6H,EGrBjC,SAAS3T,GACtB,OAAO7hB,KAAK4X,IAAI,GAAIgd,GAAS50B,KAAK60B,IAAIhT,IACxC,CAFe,CHqB4DA,MAAQoT,EAAUO,UAAYA,EAAuC,GAAP,MAAnBP,EAAUt7B,OAI9H,OAAOozB,GAAOkI,EAChB,CDbWsB,CAAW15B,EAAE,GAAIA,EAAEA,EAAEzK,OAAS,GAAa,MAAT0gB,EAAgB,GAAKA,EAAOmiB,EACzE,EAEEmB,EAAMM,KAAO,SAAS5jB,GACP,MAATA,IAAeA,EAAQ,IAE3B,IAKI6jB,EACA9U,EANAhlB,EAAIqlB,IACJ0U,EAAK,EACLC,EAAKh6B,EAAEzK,OAAS,EAChB4U,EAAQnK,EAAE+5B,GACVhV,EAAO/kB,EAAEg6B,GAGTC,EAAU,GAOd,IALIlV,EAAO5a,IACT6a,EAAO7a,EAAOA,EAAQ4a,EAAMA,EAAOC,EACnCA,EAAO+U,EAAIA,EAAKC,EAAIA,EAAKhV,GAGpBiV,KAAY,GAAG,CAEpB,IADAjV,EAAOF,GAAc3a,EAAO4a,EAAM9O,MACrB6jB,EAGX,OAFA95B,EAAE+5B,GAAM5vB,EACRnK,EAAEg6B,GAAMjV,EACDM,EAAOrlB,GACT,GAAIglB,EAAO,EAChB7a,EAAQhH,KAAKqa,MAAMrT,EAAQ6a,GAAQA,EACnCD,EAAO5hB,KAAK+2B,KAAKnV,EAAOC,GAAQA,MAC3B,CAAA,KAAIA,EAAO,GAIhB,MAHA7a,EAAQhH,KAAK+2B,KAAK/vB,EAAQ6a,GAAQA,EAClCD,EAAO5hB,KAAKqa,MAAMuH,EAAOC,GAAQA,CAGlC,CACD8U,EAAU9U,CACX,CAED,OAAOuU,CACX,EAESA,CACT,CAEe,SAAS1F,KACtB,IAAI0F,EXIC,WACL,IAGIY,EACAC,EACAC,EAEAC,EACAC,EACAjxB,EATA+b,EAAS+R,GACTzc,EAAQyc,GACRrC,EAAcyF,GAIdC,EAAQpD,GAKZ,SAASqD,IACP,IA5DalZ,EAAGhW,EACd/B,EA2DE7V,EAAIuP,KAAKC,IAAIiiB,EAAO9vB,OAAQolB,EAAMplB,QAItC,OAHIklC,IAAUpD,KA7DD7V,EA6D2B6D,EAAO,GA7D/B7Z,EA6DmC6Z,EAAOzxB,EAAI,GA3D5D4tB,EAAIhW,IAAG/B,EAAI+X,EAAGA,EAAIhW,EAAGA,EAAI/B,GA2DHgxB,EA1DnB,SAASzuB,GAAK,OAAO7I,KAAK4X,IAAIyG,EAAGre,KAAKC,IAAIoI,EAAGQ,GAAI,GA2DtDsuB,EAAY1mC,EAAI,EAAI6jC,GAAUF,GAC9BgD,EAASjxB,EAAQ,KACViwB,CACR,CAED,SAASA,EAAMvtB,GACb,OAAY,MAALA,GAAa8kB,MAAM9kB,GAAKA,GAAKquB,GAAWE,IAAWA,EAASD,EAAUjV,EAAO3tB,IAAIyiC,GAAYxf,EAAOoa,KAAeoF,EAAUM,EAAMzuB,IAC3I,CA8BD,OA5BAutB,EAAMoB,OAAS,SAASpI,GACtB,OAAOkI,EAAML,GAAa9wB,IAAUA,EAAQgxB,EAAU3f,EAAO0K,EAAO3tB,IAAIyiC,GAAY5F,MAAqBhC,IAC7G,EAEEgH,EAAMlU,OAAS,SAASpW,GACtB,OAAOiM,UAAU3lB,QAAU8vB,EAAS1sB,MAAMC,KAAKqW,EAAG7M,IAASs4B,KAAarV,EAAO/vB,OACnF,EAEEikC,EAAM5e,MAAQ,SAAS1L,GACrB,OAAOiM,UAAU3lB,QAAUolB,EAAQhiB,MAAMC,KAAKqW,GAAIyrB,KAAa/f,EAAMrlB,OACzE,EAEEikC,EAAMqB,WAAa,SAAS3rB,GAC1B,OAAO0L,EAAQhiB,MAAMC,KAAKqW,GAAI8lB,EAAcI,GAAkBuF,GAClE,EAEEnB,EAAMkB,MAAQ,SAASxrB,GACrB,OAAOiM,UAAU3lB,QAAUklC,IAAQxrB,GAAWooB,GAAUqD,KAAaD,IAAUpD,EACnF,EAEEkC,EAAMxE,YAAc,SAAS9lB,GAC3B,OAAOiM,UAAU3lB,QAAUw/B,EAAc9lB,EAAGyrB,KAAa3F,CAC7D,EAEEwE,EAAMc,QAAU,SAASprB,GACvB,OAAOiM,UAAU3lB,QAAU8kC,EAAUprB,EAAGsqB,GAASc,CACrD,EAES,SAAS5wB,EAAGstB,GAEjB,OADAoD,EAAY1wB,EAAG2wB,EAAcrD,EACtB2D,GACX,CACA,CAGSG,GAAcxD,GAAUA,IWvD/B,OANAkC,EAAMnI,KAAO,WACX,OXRiB/4B,EWQLkhC,EAAO1F,KXNhBxO,OAAOhtB,EAAOgtB,UACd1K,MAAMtiB,EAAOsiB,SACboa,YAAY18B,EAAO08B,eACnB0F,MAAMpiC,EAAOoiC,SACbJ,QAAQhiC,EAAOgiC,WANf,IAAchiC,CWSrB,EAEE+sB,GAAU1S,MAAM6mB,EAAOre,WAEhBoe,GAAUC,EACnB,CDxDEJ,GDDa,SAASA,GACtB,IObsB2B,EAAUC,EPa5BC,OAA4Bl5B,IAApBq3B,EAAO2B,eAA+Ch5B,IAArBq3B,EAAO4B,UAA0B1D,IObxDyD,EPa+EpjC,GAAIiY,KAAKwpB,EAAO2B,SAAUlgB,QOb/FmgB,EPawG5B,EAAO4B,UAAY,GOZpJ,SAASvkC,EAAO2pB,GAOrB,IANA,IAAItjB,EAAIrG,EAAMjB,OACVkU,EAAI,GACJsL,EAAI,EACJyb,EAAIsK,EAAS,GACbvlC,EAAS,EAENsH,EAAI,GAAK2zB,EAAI,IACdj7B,EAASi7B,EAAI,EAAIrQ,IAAOqQ,EAAIrtB,KAAK4X,IAAI,EAAGoF,EAAQ5qB,IACpDkU,EAAErM,KAAK5G,EAAMxC,UAAU6I,GAAK2zB,EAAG3zB,EAAI2zB,OAC9Bj7B,GAAUi7B,EAAI,GAAKrQ,KACxBqQ,EAAIsK,EAAS/lB,GAAKA,EAAI,GAAK+lB,EAASvlC,QAGtC,OAAOkU,EAAEiuB,UAAUliC,KAAKulC,EAC5B,GPFME,OAAAA,IAAiB9B,EAAO+B,SAAyB,GAAK/B,EAAO+B,SAAS,GAAK,GAC3EC,OAAqCr5B,IAApBq3B,EAAO+B,SAAyB,GAAK/B,EAAO+B,SAAS,GAAK,GAC3EE,OAA6Bt5B,IAAnBq3B,EAAOiC,QAAwB,IAAMjC,EAAOiC,QAAU,GAChEC,OAAAA,IAAWlC,EAAOkC,SAAyBhE,GQjBlC,SAASgE,GACtB,OAAO,SAAS7kC,GACd,OAAOA,EAAMwL,QAAQ,UAAA,SAAmBnF,GACtC,OAAOw+B,GAAUx+B,EACvB,GACA,CACA,CANe,CRiB4DnF,GAAIiY,KAAKwpB,EAAOkC,SAAUx1B,SAC/Fy1B,OAAAA,IAAUnC,EAAOmC,QAAwB,IAAMnC,EAAOmC,QAAU,GAChEC,OAAyBz5B,IAAjBq3B,EAAOoC,MAAsB,IAAMpC,EAAOoC,MAAQ,GAC1DC,OAAAA,IAAMrC,EAAOqC,IAAoB,MAAQrC,EAAOqC,IAAM,GAE1D,SAASC,EAAUrD,GAGjB,IAAIE,GAFJF,EAAYD,GAAgBC,IAEPE,KACjBC,EAAQH,EAAUG,MAClBC,EAAOJ,EAAUI,KACjBC,EAASL,EAAUK,OACnBC,EAAON,EAAUM,KACjBvY,EAAQiY,EAAUjY,MAClBtF,EAAQud,EAAUvd,MAClB8d,EAAYP,EAAUO,UACtBv3B,EAAOg3B,EAAUh3B,KACjBtE,EAAOs7B,EAAUt7B,KAGR,MAATA,GAAc+d,GAAAA,EAAc/d,EAAO,KAG7B+7B,GAAY/7B,cAAO67B,IAA4BA,EAAY,IAAKv3B,GAAO,EAAMtE,EAAO,MAG1F47B,GAAkB,MAATJ,GAA0B,MAAVC,KAAgBG,GAAO,EAAMJ,EAAO,IAAKC,EAAQ,KAI9E,IAAImD,EAAoB,MAAXjD,EAAiBwC,EAA4B,MAAXxC,GAAkB,SAAS1vB,KAAKjM,GAAQ,IAAMA,EAAKlF,cAAgB,GAC9G+jC,EAAoB,MAAXlD,EAAiB0C,EAAiB,OAAOpyB,KAAKjM,GAAQw+B,EAAU,GAKzEM,EAAa/C,GAAY/7B,GACzB++B,EAAc,aAAa9yB,KAAKjM,GAUpC,SAASozB,EAAO15B,GACd,IAEIqG,EAAGjJ,EAAG++B,EAFNmJ,EAAcJ,EACdK,EAAcJ,EAGlB,GAAa,MAAT7+B,EACFi/B,EAAcH,EAAWplC,GAASulC,EAClCvlC,EAAQ,OACH,CAIL,IAAIwlC,GAHJxlC,GAASA,GAGmB,GAAK,EAAIA,EAAQ,EAiB7C,GAdAA,EAAQs6B,MAAMt6B,GAASglC,EAAMI,EAAWz4B,KAAK60B,IAAIxhC,GAAQmiC,GAGrDv3B,IAAM5K,ESjFH,SAASuL,GACtB4J,EAAK,IAAK,IAAkCquB,EAA9BpmC,EAAImO,EAAExM,OAAQsH,EAAI,EAAGk9B,GAAM,EAAOl9B,EAAIjJ,IAAKiJ,EACvD,OAAQkF,EAAElF,IACR,IAAK,IAAKk9B,EAAKC,EAAKn9B,EAAG,MACvB,IAAK,IAAgB,IAAPk9B,IAAUA,EAAKl9B,GAAGm9B,EAAKn9B,EAAG,MACxC,QAAS,KAAMkF,EAAElF,GAAI,MAAM8O,EAASouB,EAAK,IAAGA,EAAK,GAGrD,OAAOA,EAAK,EAAIh4B,EAAEzM,MAAM,EAAGykC,GAAMh4B,EAAEzM,MAAM0kC,EAAK,GAAKj4B,CACrD,CATe,CTiFsBvL,IAGzBwlC,GAA4B,IAAVxlC,GAAwB,MAATgiC,IAAcwD,GAAAA,GAGnDF,GAAeE,EAA0B,MAATxD,EAAeA,EAAO+C,EAAkB,MAAT/C,GAAyB,MAATA,EAAe,GAAKA,GAAQsD,EAC3GC,GAAwB,MAATj/B,EAAeu8B,GAAS,EAAIpB,GAAiB,GAAK,IAAM8D,GAAeC,GAA0B,MAATxD,EAAe,IAAM,IAIxHqD,EAEF,IADAh/B,GAAK,EAAGjJ,EAAI4C,EAAMjB,SACTsH,EAAIjJ,GACX,GAA6B,IAAzB++B,EAAIn8B,EAAMylC,WAAWp/B,KAAc81B,EAAI,GAAI,CAC7CoJ,GAAqB,KAANpJ,EAAWyI,EAAU5kC,EAAMlB,MAAMuH,EAAI,GAAKrG,EAAMlB,MAAMuH,IAAMk/B,EAC3EvlC,EAAQA,EAAMlB,MAAM,EAAGuH,GACvB,KACD,CAGN,CAGGge,IAAU6d,IAAMliC,EAAQwkC,EAAMxkC,EAAO0lC,MAGzC,IAAI3mC,EAASumC,EAAYvmC,OAASiB,EAAMjB,OAASwmC,EAAYxmC,OACzD4mC,EAAU5mC,EAAS4qB,EAAQ,IAAIxnB,MAAMwnB,EAAQ5qB,EAAS,GAAGC,KAAK8iC,GAAQ,GAM1E,OAHIzd,GAAS6d,IAAMliC,EAAQwkC,EAAMmB,EAAU3lC,EAAO2lC,EAAQ5mC,OAAS4qB,EAAQ4b,EAAYxmC,OAAS2mC,KAAWC,EAAU,IAG7G5D,GACN,IAAK,IAAK/hC,EAAQslC,EAActlC,EAAQulC,EAAcI,EAAS,MAC/D,IAAK,IAAK3lC,EAAQslC,EAAcK,EAAU3lC,EAAQulC,EAAa,MAC/D,IAAK,IAAKvlC,EAAQ2lC,EAAQ7mC,MAAM,EAAGC,EAAS4mC,EAAQ5mC,QAAU,GAAKumC,EAActlC,EAAQulC,EAAcI,EAAQ7mC,MAAMC,GAAS,MAC9H,QAASiB,EAAQ2lC,EAAUL,EAActlC,EAAQulC,EAGnD,OAAOV,EAAS7kC,EACjB,CAMD,OAtEAmiC,OAAAA,IAAYA,EAA0B,EAChC,SAAS5vB,KAAKjM,GAAQqG,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,GAAIu1B,IAC/Cx1B,KAAK4X,IAAI,EAAG5X,KAAKC,IAAI,GAAIu1B,IAgE/BzI,EAAO97B,SAAW,WAChB,OAAOgkC,EAAY,EACzB,EAEWlI,CACR,CAYD,MAAO,CACLA,OAAQuL,EACRrC,aAZF,SAAsBhB,EAAW5hC,GAC/B,IAAIytB,EAAIwX,IAAWrD,EAAYD,GAAgBC,IAAsBt7B,KAAO,IAAKs7B,IAC7El6B,EAAiE,EAA7DiF,KAAK4X,KAAK,EAAG5X,KAAKC,IAAI,EAAGD,KAAKqa,MAAMua,GAASvhC,GAAS,KAC1D2K,EAAIgC,KAAKgiB,IAAI,IAAKjnB,GAClBw9B,EAASrC,GAAS,EAAIn7B,EAAI,GAC9B,OAAO,SAAS1H,GACd,OAAOytB,EAAE9iB,EAAI3K,GAASklC,CAC5B,CACG,EAMH,CCtIWU,CAPG,CACZrB,UAAW,IACXD,SAAU,CAAC,GACXI,SAAU,CAAC,IAAK,MAKhBhL,GAASiJ,GAAOjJ,OAChBkJ,GAAeD,GAAOC,aSfxB,IAAIvH,GAAK,IAAIjsB,KACTksB,GAAK,IAAIlsB,KAEE,SAASy2B,GAAYC,EAAQC,EAAStmB,EAAOumB,GAE1D,SAASC,EAAS3oC,GAChB,OAAOwoC,EAAOxoC,EAA4B,IAArBonB,UAAU3lB,OAAe,IAAIqQ,KAAO,IAAIA,MAAM9R,IAAQA,CAC5E,CA6DD,OA3DA2oC,EAASjf,MAAQ,SAAS1pB,GACxB,OAAOwoC,EAAOxoC,EAAO,IAAI8R,MAAM9R,IAAQA,CAC3C,EAEE2oC,EAASvC,KAAO,SAASpmC,GACvB,OAAOwoC,EAAOxoC,EAAO,IAAI8R,KAAK9R,EAAO,IAAKyoC,EAAQzoC,EAAM,GAAIwoC,EAAOxoC,GAAOA,CAC9E,EAEE2oC,EAAS1c,MAAQ,SAASjsB,GACxB,IAAI0jC,EAAKiF,EAAS3oC,GACd2iC,EAAKgG,EAASvC,KAAKpmC,GACvB,OAAOA,EAAO0jC,EAAKf,EAAK3iC,EAAO0jC,EAAKf,CACxC,EAEEgG,EAASC,OAAS,SAAS5oC,EAAMkxB,GAC/B,OAAOuX,EAAQzoC,EAAO,IAAI8R,MAAM9R,GAAe,MAARkxB,EAAe,EAAI7hB,KAAKqa,MAAMwH,IAAQlxB,CACjF,EAEE2oC,EAAS9hB,MAAQ,SAASxQ,EAAO4a,EAAMC,GACrC,IAAgB2X,EAAZhiB,EAAQ,GAGZ,GAFAxQ,EAAQsyB,EAASvC,KAAK/vB,GACtB6a,EAAe,MAARA,EAAe,EAAI7hB,KAAKqa,MAAMwH,KAC/B7a,EAAQ4a,GAAWC,EAAO,GAAI,OAAOrK,EAC3C,GAAGA,EAAMvd,KAAKu/B,EAAW,IAAI/2B,MAAMuE,IAASoyB,EAAQpyB,EAAO6a,GAAOsX,EAAOnyB,SAClEwyB,EAAWxyB,GAASA,EAAQ4a,GACnC,OAAOpK,CACX,EAEE8hB,EAASp0B,OAAS,SAASU,GACzB,OAAOszB,IAAAA,SAAqBvoC,GAC1B,GAAIA,GAAQA,EAAM,KAAOwoC,EAAOxoC,IAAQiV,EAAKjV,IAAOA,EAAKwgC,QAAQxgC,EAAO,EACvE,IAAA,SAASA,EAAMkxB,GAChB,GAAIlxB,GAAQA,EACV,GAAIkxB,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAOuX,EAAQzoC,GAAO,IAAKiV,EAAKjV,UAC3B,OAASkxB,GAAQ,GACtB,KAAOuX,EAAQzoC,EAAM,IAAMiV,EAAKjV,KAI1C,GAAA,EAEMmiB,IACFwmB,EAASxmB,MAAQ,SAAS9L,EAAOE,GAG/B,OAFAwnB,GAAGyC,SAASnqB,GAAQ2nB,GAAGwC,SAASjqB,GAChCiyB,EAAOzK,IAAKyK,EAAOxK,IACZ3uB,KAAKqa,MAAMvH,EAAM4b,GAAIC,IAClC,EAEI2K,EAAS30B,MAAQ,SAASkd,GAExB,OADAA,EAAO7hB,KAAKqa,MAAMwH,GACVyU,SAASzU,IAAWA,EAAO,EAC3BA,EAAO,EACTyX,EAASp0B,OAAOm0B,EACZ,SAASx8B,GAAK,OAAOw8B,EAAMx8B,GAAKglB,GAAS,CAAI,EAC7C,SAAShlB,GAAK,OAAOy8B,EAASxmB,MAAM,EAAGjW,GAAKglB,GAAS,CAAE,GAH7CyX,EADoB,IAK9C,GAGSA,CACT,CCnEA,IAAIG,GAAcH,IAAS,WAExB,IAAA,SAAS3oC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EACvB,IAAA,SAAY7a,EAAOE,GACjB,OAAOA,EAAMF,CACf,IAGAyyB,GAAY90B,MAAQ,SAAS3G,GAE3B,OADAA,EAAIgC,KAAKqa,MAAMrc,GACVs4B,SAASt4B,IAAQA,EAAI,EACpBA,EAAI,EACHs7B,IAAS,SAAS3oC,GACvBA,EAAKwgC,QAAQnxB,KAAKqa,MAAM1pB,EAAOqN,GAAKA,EACxC,IAAA,SAAcrN,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO7jB,EAChC,IAAA,SAAcgJ,EAAOE,GACjB,OAAQA,EAAMF,GAAShJ,CANJy7B,IAAAA,GADgB,IASvC,EAG0BA,GAAYjiB,MCzB/B,MAAMkiB,GAAiB,IACjBC,GAAiBD,IACjBE,GAAeD,KACfE,GAAcD,MACdE,GAAeD,OCD5B,IAAIE,GAAST,IAAS,SAAS3oC,GAC7BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBAC3B,IAAA,SAAYrpC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO6X,GAC9B,IAAA,SAAY1yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS0yB,EACzB,IAAA,SAAY/oC,GACV,OAAOA,EAAKS,eAIO2oC,IAAAA,GAAOviB,MCX5B,IAAIyiB,GAASX,IAAAA,SAAkB3oC,GAC7BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBAAoBrpC,EAAKupC,aAAeR,GACnE,IAAA,SAAY/oC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO8X,GAC9B,IAAA,SAAY3yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS2yB,EACzB,IAAA,SAAYhpC,GACV,OAAOA,EAAKwpC,YAIOF,IAAAA,GAAOziB,MCX5B,IAAI4iB,GAAOd,IAAS,SAAS3oC,GAC3BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBAAoBrpC,EAAKupC,aAAeR,GAAiB/oC,EAAKwpC,aAAeR,GACxG,IAAA,SAAYhpC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO+X,GAC3B,IAAA,SAAS5yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS4yB,EACzB,IAAA,SAAYjpC,GACV,OAAOA,EAAK0pC,UAIKD,IAAAA,GAAK5iB,MCXxB,IAAI8iB,GAAMhB,IACR3oC,GAAQA,EAAK4pC,SAAS,EAAG,EAAG,EAAG,KAAA,CAC9B5pC,EAAMkxB,IAASlxB,EAAK6pC,QAAQ7pC,EAAKG,UAAY+wB,KAAAA,CAC7C7a,EAAOE,KAASA,EAAMF,GAASE,EAAIuzB,oBAAsBzzB,EAAMyzB,qBAAuBd,IAAkBE,KACzGlpC,GAAQA,EAAKG,UAAY,ICJ3B,SAAS4pC,GAAQhhC,GACf,OAAO4/B,IAAAA,SAAkB3oC,GACvBA,EAAK6pC,QAAQ7pC,EAAKG,WAAaH,EAAKC,SAAW,EAAI8I,GAAK,GACxD/I,EAAK4pC,SAAS,EAAG,EAAG,EAAG,eACb5pC,EAAMkxB,GAChBlxB,EAAK6pC,QAAQ7pC,EAAKG,UAAmB,EAAP+wB,EAC7B,IAAA,SAAS7a,EAAOE,GACjB,OAAQA,EAAMF,GAASE,EAAIuzB,oBAAsBzzB,EAAMyzB,qBAAuBd,IAAkBG,EAEpG,GAAA,CDDkBQ,GAAI9iB,MCGf,IAAImjB,GAASD,GAAQ,GACjBE,GAASF,GAAQ,GACjBG,GAAUH,GAAQ,GAClBI,GAAYJ,GAAQ,GACpBK,GAAWL,GAAQ,GACnBM,GAASN,GAAQ,GACjBO,GAAWP,GAAQ,GAETC,GAAOnjB,MACPojB,GAAOpjB,MACNqjB,GAAQrjB,MACNsjB,GAAUtjB,MACXujB,GAASvjB,MACXwjB,GAAOxjB,MACLyjB,GAASzjB,MC1BhC,IAAI0jB,GAAQ5B,IAAAA,SAAkB3oC,GAC5BA,EAAK6pC,QAAQ,GACb7pC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACtB,IAAA,SAAS5pC,EAAMkxB,GAChBlxB,EAAKwqC,SAASxqC,EAAKI,WAAa8wB,EAC/B,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAInW,WAAaiW,EAAMjW,WAAyD,IAA3CmW,EAAIlW,cAAgBgW,EAAMhW,cACxE,IAAA,SAAYL,GACV,OAAOA,EAAKI,UAIMmqC,IAAAA,GAAM1jB,MCZ1B,IAAI5X,GAAO05B,IAAAA,SAAkB3oC,GAC3BA,EAAKwqC,SAAS,EAAG,GACjBxqC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACtB,IAAA,SAAS5pC,EAAMkxB,GAChBlxB,EAAKyqC,YAAYzqC,EAAKK,cAAgB6wB,EACxC,IAAA,SAAY7a,EAAOE,GACjB,OAAOA,EAAIlW,cAAgBgW,EAAMhW,aACnC,IAAA,SAAYL,GACV,OAAOA,EAAKK,aACd,IAGA4O,GAAK+E,MAAQ,SAAS3G,GACpB,OAAQs4B,SAASt4B,EAAIgC,KAAKqa,MAAMrc,KAASA,EAAI,EAAYs7B,IAAS,SAAS3oC,GACzEA,EAAKyqC,YAAYp7B,KAAKqa,MAAM1pB,EAAKK,cAAgBgN,GAAKA,GACtDrN,EAAKwqC,SAAS,EAAG,GACjBxqC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACtB,IAAA,SAAS5pC,EAAMkxB,GAChBlxB,EAAKyqC,YAAYzqC,EAAKK,cAAgB6wB,EAAO7jB,EACjD,IANoD,IAOpD,EAGmB4B,GAAK4X,MCtBxB,IAAI6jB,GAAY/B,IAAAA,SAAkB3oC,GAChCA,EAAK2qC,cAAc,EAAG,EACxB,IAAA,SAAY3qC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO8X,GAC9B,IAAA,SAAY3yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS2yB,EACtB,IAAA,SAAShpC,GACV,OAAOA,EAAKQ,mBAIUkqC,GAAU7jB,MCXlC,IAAI+jB,GAAUjC,IAAS,SAAS3oC,GAC9BA,EAAK6qC,cAAc,EAAG,EAAG,EACxB,IAAA,SAAS7qC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO+X,GAC3B,IAAA,SAAS5yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS4yB,EACzB,IAAA,SAAYjpC,GACV,OAAOA,EAAKO,aAIQqqC,IAAAA,GAAQ/jB,MCX9B,IAAIikB,GAASnC,IAAAA,SAAkB3oC,GAC7BA,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAKgrC,WAAWhrC,EAAKirC,aAAe/Z,EACnC,IAAA,SAAS7a,EAAOE,GACjB,OAAQA,EAAMF,GAAS6yB,EACzB,IAAA,SAAYlpC,GACV,OAAOA,EAAKirC,aAAe,CAC7B,ICRA,SAASC,GAAWniC,GAClB,OAAO4/B,IAAS,SAAS3oC,GACvBA,EAAKgrC,WAAWhrC,EAAKirC,cAAgBjrC,EAAKmrC,YAAc,EAAIpiC,GAAK,GACjE/I,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAKgrC,WAAWhrC,EAAKirC,aAAsB,EAAP/Z,EACxC,IAAA,SAAc7a,EAAOE,GACjB,OAAQA,EAAMF,GAAS8yB,EAC3B,GACA,CDEqB2B,GAAOjkB,MCArB,IAAIukB,GAAYF,GAAW,GACvBG,GAAYH,GAAW,GACvBI,GAAaJ,GAAW,GACxBK,GAAeL,GAAW,GAC1BM,GAAcN,GAAW,GACzBO,GAAYP,GAAW,GACvBQ,GAAcR,GAAW,GAEZE,GAAUvkB,MACVwkB,GAAUxkB,MACTykB,GAAWzkB,MACT0kB,GAAa1kB,MACd2kB,GAAY3kB,MACd4kB,GAAU5kB,MACR6kB,GAAY7kB,MC1BtC,IAAI8kB,GAAWhD,aAAkB3oC,GAC/BA,EAAKgrC,WAAW,GAChBhrC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAK4rC,YAAY5rC,EAAK6rC,cAAgB3a,EACrC,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAIs1B,cAAgBx1B,EAAMw1B,cAAkE,IAAjDt1B,EAAIu1B,iBAAmBz1B,EAAMy1B,8BACrE9rC,GACV,OAAOA,EAAK6rC,aACd,IAGuBF,GAAS9kB,MCZhC,IAAIklB,GAAUpD,IAAAA,SAAkB3oC,GAC9BA,EAAK4rC,YAAY,EAAG,GACpB5rC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EAC5B,IAAA,SAAY/qC,EAAMkxB,GAChBlxB,EAAKgsC,eAAehsC,EAAK8rC,iBAAmB5a,EAC3C,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAIu1B,iBAAmBz1B,EAAMy1B,gBACnC,IAAA,SAAS9rC,GACV,OAAOA,EAAK8rC,gBACd,IAGAC,GAAQ/3B,MAAQ,SAAS3G,GACvB,OAAQs4B,SAASt4B,EAAIgC,KAAKqa,MAAMrc,KAASA,EAAI,EAAYs7B,IAAAA,SAAkB3oC,GACzEA,EAAKgsC,eAAe38B,KAAKqa,MAAM1pB,EAAK8rC,iBAAmBz+B,GAAKA,GAC5DrN,EAAK4rC,YAAY,EAAG,GACpB5rC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EAC9B,IAAA,SAAc/qC,EAAMkxB,GAChBlxB,EAAKgsC,eAAehsC,EAAK8rC,iBAAmB5a,EAAO7jB,EALH,IAAA,IAOpD,EAGsB0+B,GAAQllB,MCzB9B,IAAIkX,GAAK,IAAIjsB,KACTksB,GAAK,IAAIlsB,KAEE,SAASy2B,GAAYC,EAAQC,EAAStmB,EAAOumB,GAE1D,SAASC,EAAS3oC,GAChB,OAAOwoC,EAAOxoC,EAA4B,IAArBonB,UAAU3lB,OAAe,IAAIqQ,KAAO,IAAIA,MAAM9R,IAAQA,CAC5E,CA6DD,OA3DA2oC,EAASjf,MAAQ,SAAS1pB,GACxB,OAAOwoC,EAAOxoC,EAAO,IAAI8R,MAAM9R,IAAQA,CAC3C,EAEE2oC,EAASvC,KAAO,SAASpmC,GACvB,OAAOwoC,EAAOxoC,EAAO,IAAI8R,KAAK9R,EAAO,IAAKyoC,EAAQzoC,EAAM,GAAIwoC,EAAOxoC,GAAOA,CAC9E,EAEE2oC,EAAS1c,MAAQ,SAASjsB,GACxB,IAAI0jC,EAAKiF,EAAS3oC,GACd2iC,EAAKgG,EAASvC,KAAKpmC,GACvB,OAAOA,EAAO0jC,EAAKf,EAAK3iC,EAAO0jC,EAAKf,CACxC,EAEEgG,EAASC,OAAS,SAAS5oC,EAAMkxB,GAC/B,OAAOuX,EAAQzoC,EAAO,IAAI8R,MAAM9R,GAAe,MAARkxB,EAAe,EAAI7hB,KAAKqa,MAAMwH,IAAQlxB,CACjF,EAEE2oC,EAAS9hB,MAAQ,SAASxQ,EAAO4a,EAAMC,GACrC,IAAgB2X,EAAZhiB,EAAQ,GAGZ,GAFAxQ,EAAQsyB,EAASvC,KAAK/vB,GACtB6a,EAAe,MAARA,EAAe,EAAI7hB,KAAKqa,MAAMwH,KAC/B7a,EAAQ4a,GAAWC,EAAO,GAAI,OAAOrK,EAC3C,GAAGA,EAAMvd,KAAKu/B,EAAW,IAAI/2B,MAAMuE,IAASoyB,EAAQpyB,EAAO6a,GAAOsX,EAAOnyB,SAClEwyB,EAAWxyB,GAASA,EAAQ4a,GACnC,OAAOpK,CACX,EAEE8hB,EAASp0B,OAAS,SAASU,GACzB,OAAOszB,IAAAA,SAAqBvoC,GAC1B,GAAIA,GAAQA,EAAM,KAAOwoC,EAAOxoC,IAAQiV,EAAKjV,IAAOA,EAAKwgC,QAAQxgC,EAAO,EAC9E,IAAA,SAAgBA,EAAMkxB,GAChB,GAAIlxB,GAAQA,EACV,GAAIkxB,EAAO,EAAG,OAASA,GAAQ,GAC7B,KAAOuX,EAAQzoC,GAAO,IAAKiV,EAAKjV,UAC3B,OAASkxB,GAAQ,GACtB,KAAOuX,EAAQzoC,EAAM,IAAMiV,EAAKjV,KAI1C,GAAA,EAEMmiB,IACFwmB,EAASxmB,MAAQ,SAAS9L,EAAOE,GAG/B,OAFAwnB,GAAGyC,SAASnqB,GAAQ2nB,GAAGwC,SAASjqB,GAChCiyB,EAAOzK,IAAKyK,EAAOxK,IACZ3uB,KAAKqa,MAAMvH,EAAM4b,GAAIC,IAClC,EAEI2K,EAAS30B,MAAQ,SAASkd,GAExB,OADAA,EAAO7hB,KAAKqa,MAAMwH,GACVyU,SAASzU,IAAWA,EAAO,EAC3BA,EAAO,EACTyX,EAASp0B,OAAOm0B,EACZ,SAASx8B,GAAK,OAAOw8B,EAAMx8B,GAAKglB,GAAS,CAAI,EAC7C,SAAShlB,GAAK,OAAOy8B,EAASxmB,MAAM,EAAGjW,GAAKglB,GAAS,CAAE,GAH7CyX,EADoB,IAK9C,GAGSA,CACT,CCnEA,IAAIG,GAAcH,IAAS,wBAEf3oC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EACvB,IAAA,SAAY7a,EAAOE,GACjB,OAAOA,EAAMF,CACf,IAGAyyB,GAAY90B,MAAQ,SAAS3G,GAE3B,OADAA,EAAIgC,KAAKqa,MAAMrc,GACVs4B,SAASt4B,IAAQA,EAAI,EACpBA,EAAI,EACHs7B,IAAS,SAAS3oC,GACvBA,EAAKwgC,QAAQnxB,KAAKqa,MAAM1pB,EAAOqN,GAAKA,EACxC,IAAA,SAAcrN,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO7jB,EAChC,IAAA,SAAcgJ,EAAOE,GACjB,OAAQA,EAAMF,GAAShJ,CAC3B,IAPuBy7B,GADgB,IASvC,EAG0BA,GAAYjiB,MCzB/B,IAAIkiB,GAAiB,IACjBC,GAAiB,IACjBC,GAAe,KACfC,GAAc,MACdC,GAAe,OCDtBC,GAAST,IAAAA,SAAkB3oC,GAC7BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBACxB,IAAA,SAASrpC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO6X,GAC9B,IAAA,SAAY1yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS0yB,EACtB,IAAA,SAAS/oC,GACV,OAAOA,EAAKS,eACd,IAGqB2oC,GAAOviB,MCX5B,IAAIyiB,GAASX,IAAS,SAAS3oC,GAC7BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBAAoBrpC,EAAKupC,aAAeR,GAChE,IAAA,SAAS/oC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO8X,GAC3B,IAAA,SAAS3yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS2yB,eACbhpC,GACV,OAAOA,EAAKwpC,YACd,IAGqBF,GAAOziB,MCX5B,IAAI4iB,GAAOd,IAAAA,SAAkB3oC,GAC3BA,EAAKwgC,QAAQxgC,EAAOA,EAAKqpC,kBAAoBrpC,EAAKupC,aAAeR,GAAiB/oC,EAAKwpC,aAAeR,GACxG,IAAA,SAAYhpC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO+X,GAC9B,IAAA,SAAY5yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS4yB,EACtB,IAAA,SAASjpC,GACV,OAAOA,EAAK0pC,UACd,IAGmBD,GAAK5iB,MCXxB,IAAI8iB,GAAMhB,IAAS,SAAS3oC,GAC1BA,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACtB,IAAA,SAAS5pC,EAAMkxB,GAChBlxB,EAAK6pC,QAAQ7pC,EAAKG,UAAY+wB,EAC7B,IAAA,SAAS7a,EAAOE,GACjB,OAAQA,EAAMF,GAASE,EAAIuzB,oBAAsBzzB,EAAMyzB,qBAAuBd,IAAkBE,EAC/F,IAAA,SAASlpC,GACV,OAAOA,EAAKG,UAAY,CAC1B,ICRA,SAAS4pC,GAAQhhC,GACf,OAAO4/B,aAAkB3oC,GACvBA,EAAK6pC,QAAQ7pC,EAAKG,WAAaH,EAAKC,SAAW,EAAI8I,GAAK,GACxD/I,EAAK4pC,SAAS,EAAG,EAAG,EAAG,eACb5pC,EAAMkxB,GAChBlxB,EAAK6pC,QAAQ7pC,EAAKG,UAAmB,EAAP+wB,EAC7B,IAAA,SAAS7a,EAAOE,GACjB,OAAQA,EAAMF,GAASE,EAAIuzB,oBAAsBzzB,EAAMyzB,qBAAuBd,IAAkBG,EAEpG,GAAA,CDEkBQ,GAAI9iB,MCAf,IAAImjB,GAASD,GAAQ,GACjBE,GAASF,GAAQ,GACjBG,GAAUH,GAAQ,GAClBI,GAAYJ,GAAQ,GACpBK,GAAWL,GAAQ,GACnBM,GAASN,GAAQ,GACjBO,GAAWP,GAAQ,GAETC,GAAOnjB,MACPojB,GAAOpjB,MACNqjB,GAAQrjB,MACNsjB,GAAUtjB,MACXujB,GAASvjB,MACXwjB,GAAOxjB,MACLyjB,GAASzjB,MC1BhC,IAAI0jB,GAAQ5B,IAAS,SAAS3oC,GAC5BA,EAAK6pC,QAAQ,GACb7pC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACzB,IAAA,SAAY5pC,EAAMkxB,GAChBlxB,EAAKwqC,SAASxqC,EAAKI,WAAa8wB,EAC/B,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAInW,WAAaiW,EAAMjW,WAAyD,IAA3CmW,EAAIlW,cAAgBgW,EAAMhW,cACrE,IAAA,SAASL,GACV,OAAOA,EAAKI,cAIMmqC,GAAM1jB,MCZ1B,IAAI5X,GAAO05B,IAAS,SAAS3oC,GAC3BA,EAAKwqC,SAAS,EAAG,GACjBxqC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EACtB,IAAA,SAAS5pC,EAAMkxB,GAChBlxB,EAAKyqC,YAAYzqC,EAAKK,cAAgB6wB,EACrC,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAIlW,cAAgBgW,EAAMhW,aAChC,IAAA,SAASL,GACV,OAAOA,EAAKK,aAId4O,IAAAA,GAAK+E,MAAQ,SAAS3G,GACpB,OAAQs4B,SAASt4B,EAAIgC,KAAKqa,MAAMrc,KAASA,EAAI,EAAYs7B,IAAS,SAAS3oC,GACzEA,EAAKyqC,YAAYp7B,KAAKqa,MAAM1pB,EAAKK,cAAgBgN,GAAKA,GACtDrN,EAAKwqC,SAAS,EAAG,GACjBxqC,EAAK4pC,SAAS,EAAG,EAAG,EAAG,EAC3B,IAAA,SAAc5pC,EAAMkxB,GAChBlxB,EAAKyqC,YAAYzqC,EAAKK,cAAgB6wB,EAAO7jB,EACjD,IANoD,IAOpD,EAGmB4B,GAAK4X,MCtBxB,IAAI6jB,GAAY/B,IAAAA,SAAkB3oC,GAChCA,EAAK2qC,cAAc,EAAG,EACxB,IAAA,SAAY3qC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO8X,GAC9B,IAAA,SAAY3yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS2yB,EACzB,IAAA,SAAYhpC,GACV,OAAOA,EAAKQ,eAIUkqC,IAAAA,GAAU7jB,MCXlC,IAAI+jB,GAAUjC,IAAAA,SAAkB3oC,GAC9BA,EAAK6qC,cAAc,EAAG,EAAG,EACxB,IAAA,SAAS7qC,EAAMkxB,GAChBlxB,EAAKwgC,SAASxgC,EAAOkxB,EAAO+X,GAC3B,IAAA,SAAS5yB,EAAOE,GACjB,OAAQA,EAAMF,GAAS4yB,EACtB,IAAA,SAASjpC,GACV,OAAOA,EAAKO,aACd,IAGsBqqC,GAAQ/jB,MCX9B,IAAIikB,GAASnC,IAAS,SAAS3oC,GAC7BA,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAKgrC,WAAWhrC,EAAKirC,aAAe/Z,EACnC,IAAA,SAAS7a,EAAOE,GACjB,OAAQA,EAAMF,GAAS6yB,EACzB,IAAA,SAAYlpC,GACV,OAAOA,EAAKirC,aAAe,CAC7B,ICRA,SAASC,GAAWniC,GAClB,OAAO4/B,aAAkB3oC,GACvBA,EAAKgrC,WAAWhrC,EAAKirC,cAAgBjrC,EAAKmrC,YAAc,EAAIpiC,GAAK,GACjE/I,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAKgrC,WAAWhrC,EAAKirC,aAAsB,EAAP/Z,EACxC,IAAA,SAAc7a,EAAOE,GACjB,OAAQA,EAAMF,GAAS8yB,EAE3B,GAAA,CDEqB2B,GAAOjkB,MCArB,IAAIukB,GAAYF,GAAW,GACvBG,GAAYH,GAAW,GACvBI,GAAaJ,GAAW,GACxBK,GAAeL,GAAW,GAC1BM,GAAcN,GAAW,GACzBO,GAAYP,GAAW,GACvBQ,GAAcR,GAAW,GAEZE,GAAUvkB,MACVwkB,GAAUxkB,MACTykB,GAAWzkB,MACT0kB,GAAa1kB,MACd2kB,GAAY3kB,MACd4kB,GAAU5kB,MACR6kB,GAAY7kB,MC1BtC,IAAI8kB,GAAWhD,IAAAA,SAAkB3oC,GAC/BA,EAAKgrC,WAAW,GAChBhrC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EACzB,IAAA,SAAS/qC,EAAMkxB,GAChBlxB,EAAK4rC,YAAY5rC,EAAK6rC,cAAgB3a,EACrC,IAAA,SAAS7a,EAAOE,GACjB,OAAOA,EAAIs1B,cAAgBx1B,EAAMw1B,cAAkE,IAAjDt1B,EAAIu1B,iBAAmBz1B,EAAMy1B,iBACjF,IAAA,SAAY9rC,GACV,OAAOA,EAAK6rC,aAISF,IAAAA,GAAS9kB,MCZhC,IAAIklB,GAAUpD,IAAAA,SAAkB3oC,GAC9BA,EAAK4rC,YAAY,EAAG,GACpB5rC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EAC5B,IAAA,SAAY/qC,EAAMkxB,GAChBlxB,EAAKgsC,eAAehsC,EAAK8rC,iBAAmB5a,EAC9C,IAAA,SAAY7a,EAAOE,GACjB,OAAOA,EAAIu1B,iBAAmBz1B,EAAMy1B,gBACtC,IAAA,SAAY9rC,GACV,OAAOA,EAAK8rC,gBACd,ICEA,SAASG,GAAU//B,GACjB,GAAI,GAAKA,EAAEuyB,GAAKvyB,EAAEuyB,EAAI,IAAK,CACzB,IAAIz+B,EAAO,IAAI8R,MAAM,EAAG5F,EAAEqQ,EAAGrQ,EAAEA,EAAGA,EAAEggC,EAAGhgC,EAAEigC,EAAGjgC,EAAE+1B,EAAG/1B,EAAEkgC,GAEnD,OADApsC,EAAKyqC,YAAYv+B,EAAEuyB,GACZz+B,CACR,CACD,OAAO,IAAI8R,KAAK5F,EAAEuyB,EAAGvyB,EAAEqQ,EAAGrQ,EAAEA,EAAGA,EAAEggC,EAAGhgC,EAAEigC,EAAGjgC,EAAE+1B,EAAG/1B,EAAEkgC,EAClD,CAEA,SAASC,GAAQngC,GACf,GAAI,GAAKA,EAAEuyB,GAAKvyB,EAAEuyB,EAAI,IAAK,CACzB,IAAIz+B,EAAO,IAAI8R,KAAKA,KAAKw6B,KAAK,EAAGpgC,EAAEqQ,EAAGrQ,EAAEA,EAAGA,EAAEggC,EAAGhgC,EAAEigC,EAAGjgC,EAAE+1B,EAAG/1B,EAAEkgC,IAE5D,OADApsC,EAAKgsC,eAAe9/B,EAAEuyB,GACfz+B,CACR,CACD,OAAO,IAAI8R,KAAKA,KAAKw6B,IAAIpgC,EAAEuyB,EAAGvyB,EAAEqQ,EAAGrQ,EAAEA,EAAGA,EAAEggC,EAAGhgC,EAAEigC,EAAGjgC,EAAE+1B,EAAG/1B,EAAEkgC,GAC3D,CAEA,SAASG,GAAQ9N,EAAGliB,EAAGrQ,GACrB,MAAO,CAACuyB,EAAGA,EAAGliB,EAAGA,EAAGrQ,EAAGA,EAAGggC,EAAG,EAAGC,EAAG,EAAGlK,EAAG,EAAGmK,EAAG,EACjD,CDnBAL,GAAQ/3B,MAAQ,SAAS3G,GACvB,OAAQs4B,SAASt4B,EAAIgC,KAAKqa,MAAMrc,KAASA,EAAI,EAAYs7B,IAAAA,SAAkB3oC,GACzEA,EAAKgsC,eAAe38B,KAAKqa,MAAM1pB,EAAK8rC,iBAAmBz+B,GAAKA,GAC5DrN,EAAK4rC,YAAY,EAAG,GACpB5rC,EAAK+qC,YAAY,EAAG,EAAG,EAAG,EAC9B,IAAA,SAAc/qC,EAAMkxB,GAChBlxB,EAAKgsC,eAAehsC,EAAK8rC,iBAAmB5a,EAAO7jB,EACvD,IANoD,IAOpD,EAGsB0+B,GAAQllB,MC0W9B,ICjYIwe,GAGOmH,GACAC,GD6XPC,GAAO,CAAC,IAAK,GAAIvxB,EAAK,IAAK,EAAK,KAChCwxB,GAAW,UACXC,GAAY,KACZC,GAAY,sBAEhB,SAASC,GAAIpqC,EAAO8hC,EAAMnY,GACxB,IAAIqY,EAAOhiC,EAAQ,EAAI,IAAM,GACzB8U,GAAUktB,GAAQhiC,EAAQA,GAAS,GACnCjB,EAAS+V,EAAO/V,OACpB,OAAOijC,GAAQjjC,EAAS4qB,EAAQ,IAAIxnB,MAAMwnB,EAAQ5qB,EAAS,GAAGC,KAAK8iC,GAAQhtB,EAASA,EACtF,CAEA,SAASu1B,GAAQ9+B,GACf,OAAOA,EAAEC,QAAQ2+B,GAAW,OAC9B,CAEA,SAASG,GAAS1rC,GAChB,OAAO,IAAIob,OAAO,OAASpb,EAAMsC,IAAImpC,IAASrrC,KAAK,KAAO,IAAK,IACjE,CAEA,SAASurC,GAAa3rC,GAEpB,IADA,IAAIsC,EAAM,CAAA,EAAImF,GAAK,EAAGjJ,EAAIwB,EAAMG,SACvBsH,EAAIjJ,GAAG8D,EAAItC,EAAMyH,GAAGjF,eAAiBiF,EAC9C,OAAOnF,CACT,CAEA,SAASspC,GAAyBhhC,EAAGsL,EAAQzO,GAC3C,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEihC,GAAKrtC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS2rC,GAAyBlhC,EAAGsL,EAAQzO,GAC3C,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAE+2B,GAAKnjC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS4rC,GAAsBnhC,EAAGsL,EAAQzO,GACxC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEohC,GAAKxtC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS8rC,GAAmBrhC,EAAGsL,EAAQzO,GACrC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEshC,GAAK1tC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASgsC,GAAsBvhC,EAAGsL,EAAQzO,GACxC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEwhC,GAAK5tC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASksC,GAAczhC,EAAGsL,EAAQzO,GAChC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEuyB,GAAK3+B,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASmsC,GAAU1hC,EAAGsL,EAAQzO,GAC5B,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEuyB,GAAK3+B,EAAE,KAAOA,EAAE,GAAK,GAAK,KAAO,KAAOiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC5E,CAEA,SAASosC,GAAU3hC,EAAGsL,EAAQzO,GAC5B,IAAIjJ,EAAI,+BAA+B6O,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAChE,OAAOjJ,GAAKoM,EAAE4hC,EAAIhuC,EAAE,GAAK,IAAMA,EAAE,IAAMA,EAAE,IAAM,OAAQiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC7E,CAEA,SAASssC,GAAa7hC,EAAGsL,EAAQzO,GAC/B,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAE80B,EAAW,EAAPlhC,EAAE,GAAS,EAAGiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CACtD,CAEA,SAASusC,GAAiB9hC,EAAGsL,EAAQzO,GACnC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEqQ,EAAIzc,EAAE,GAAK,EAAGiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAClD,CAEA,SAASwsC,GAAgB/hC,EAAGsL,EAAQzO,GAClC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEA,GAAKpM,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASysC,GAAehiC,EAAGsL,EAAQzO,GACjC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEqQ,EAAI,EAAGrQ,EAAEA,GAAKpM,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CACxD,CAEA,SAAS0sC,GAAYjiC,EAAGsL,EAAQzO,GAC9B,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEggC,GAAKpsC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS2sC,GAAaliC,EAAGsL,EAAQzO,GAC/B,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEigC,GAAKrsC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS4sC,GAAaniC,EAAGsL,EAAQzO,GAC/B,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAE+1B,GAAKniC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS6sC,GAAkBpiC,EAAGsL,EAAQzO,GACpC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEkgC,GAAKtsC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAAS8sC,GAAkBriC,EAAGsL,EAAQzO,GACpC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC1C,OAAOjJ,GAAKoM,EAAEkgC,EAAI/8B,KAAKqa,MAAM5pB,EAAE,GAAK,KAAOiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CACjE,CAEA,SAAS+sC,GAAoBtiC,EAAGsL,EAAQzO,GACtC,IAAIjJ,EAAI8sC,GAAUj+B,KAAK6I,EAAOhW,MAAMuH,EAAGA,EAAI,IAC3C,OAAOjJ,EAAIiJ,EAAIjJ,EAAE,GAAG2B,QAAU,CAChC,CAEA,SAASgtC,GAAmBviC,EAAGsL,EAAQzO,GACrC,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,IACnC,OAAOjJ,GAAKoM,EAAEwiC,GAAK5uC,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASktC,GAA0BziC,EAAGsL,EAAQzO,GAC5C,IAAIjJ,EAAI6sC,GAASh+B,KAAK6I,EAAOhW,MAAMuH,IACnC,OAAOjJ,GAAKoM,EAAE+B,GAAKnO,EAAE,GAAIiJ,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/C,CAEA,SAASmtC,GAAiB1iC,EAAGyV,GAC3B,OAAOmrB,GAAI5gC,EAAE/L,UAAWwhB,EAAG,EAC7B,CAEA,SAASktB,GAAa3iC,EAAGyV,GACvB,OAAOmrB,GAAI5gC,EAAEw9B,WAAY/nB,EAAG,EAC9B,CAEA,SAASmtB,GAAa5iC,EAAGyV,GACvB,OAAOmrB,GAAI5gC,EAAEw9B,WAAa,IAAM,GAAI/nB,EAAG,EACzC,CAEA,SAASotB,GAAgB7iC,EAAGyV,GAC1B,OAAOmrB,GAAI,EAAIkC,GAAQ7sB,MAAM8sB,GAAS/iC,GAAIA,GAAIyV,EAAG,EACnD,CAEA,SAASutB,GAAmBhjC,EAAGyV,GAC7B,OAAOmrB,GAAI5gC,EAAEm9B,kBAAmB1nB,EAAG,EACrC,CAEA,SAASwtB,GAAmBjjC,EAAGyV,GAC7B,OAAOutB,GAAmBhjC,EAAGyV,GAAK,KACpC,CAEA,SAASytB,GAAkBljC,EAAGyV,GAC5B,OAAOmrB,GAAI5gC,EAAE9L,WAAa,EAAGuhB,EAAG,EAClC,CAEA,SAAS0tB,GAAcnjC,EAAGyV,GACxB,OAAOmrB,GAAI5gC,EAAEs9B,aAAc7nB,EAAG,EAChC,CAEA,SAAS2tB,GAAcpjC,EAAGyV,GACxB,OAAOmrB,GAAI5gC,EAAEq9B,aAAc5nB,EAAG,EAChC,CAEA,SAAS4tB,GAA0BrjC,GACjC,IAAIy9B,EAAMz9B,EAAEjM,SACZ,OAAe,IAAR0pC,EAAY,EAAIA,CACzB,CAEA,SAAS6F,GAAuBtjC,EAAGyV,GACjC,OAAOmrB,GAAI2C,GAAWttB,MAAM8sB,GAAS/iC,GAAK,EAAGA,GAAIyV,EAAG,EACtD,CAEA,SAAS+tB,GAAKxjC,GACZ,IAAIy9B,EAAMz9B,EAAEjM,SACZ,OAAQ0pC,GAAO,GAAa,IAARA,EAAagG,GAAazjC,GAAKyjC,GAAavJ,KAAKl6B,EACvE,CAEA,SAAS0jC,GAAoB1jC,EAAGyV,GAE9B,OADAzV,EAAIwjC,GAAKxjC,GACF4gC,GAAI6C,GAAaxtB,MAAM8sB,GAAS/iC,GAAIA,IAA+B,IAAzB+iC,GAAS/iC,GAAGjM,UAAiB0hB,EAAG,EACnF,CAEA,SAASkuB,GAA0B3jC,GACjC,OAAOA,EAAEjM,QACX,CAEA,SAAS6vC,GAAuB5jC,EAAGyV,GACjC,OAAOmrB,GAAIiD,GAAW5tB,MAAM8sB,GAAS/iC,GAAK,EAAGA,GAAIyV,EAAG,EACtD,CAEA,SAASquB,GAAW9jC,EAAGyV,GACrB,OAAOmrB,GAAI5gC,EAAE7L,cAAgB,IAAKshB,EAAG,EACvC,CAEA,SAASsuB,GAAc/jC,EAAGyV,GAExB,OAAOmrB,IADP5gC,EAAIwjC,GAAKxjC,IACI7L,cAAgB,IAAKshB,EAAG,EACvC,CAEA,SAASuuB,GAAehkC,EAAGyV,GACzB,OAAOmrB,GAAI5gC,EAAE7L,cAAgB,IAAOshB,EAAG,EACzC,CAEA,SAASwuB,GAAkBjkC,EAAGyV,GAC5B,IAAIgoB,EAAMz9B,EAAEjM,SAEZ,OAAO6sC,IADP5gC,EAAKy9B,GAAO,GAAa,IAARA,EAAagG,GAAazjC,GAAKyjC,GAAavJ,KAAKl6B,IACrD7L,cAAgB,IAAOshB,EAAG,EACzC,CAEA,SAASyuB,GAAWlkC,GAClB,IAAIqyB,EAAIryB,EAAE49B,oBACV,OAAQvL,EAAI,EAAI,KAAOA,IAAM,EAAG,MAC1BuO,GAAIvO,EAAI,GAAK,EAAG,IAAK,GACrBuO,GAAIvO,EAAI,GAAI,IAAK,EACzB,CAEA,SAAS8R,GAAoBnkC,EAAGyV,GAC9B,OAAOmrB,GAAI5gC,EAAE++B,aAActpB,EAAG,EAChC,CAEA,SAAS2uB,GAAgBpkC,EAAGyV,GAC1B,OAAOmrB,GAAI5gC,EAAE3L,cAAeohB,EAAG,EACjC,CAEA,SAAS4uB,GAAgBrkC,EAAGyV,GAC1B,OAAOmrB,GAAI5gC,EAAE3L,cAAgB,IAAM,GAAIohB,EAAG,EAC5C,CAEA,SAAS6uB,GAAmBtkC,EAAGyV,GAC7B,OAAOmrB,GAAI,EAAIhC,GAAO3oB,MAAM4pB,GAAQ7/B,GAAIA,GAAIyV,EAAG,EACjD,CAEA,SAAS8uB,GAAsBvkC,EAAGyV,GAChC,OAAOmrB,GAAI5gC,EAAEwkC,qBAAsB/uB,EAAG,EACxC,CAEA,SAASgvB,GAAsBzkC,EAAGyV,GAChC,OAAO8uB,GAAsBvkC,EAAGyV,GAAK,KACvC,CAEA,SAASivB,GAAqB1kC,EAAGyV,GAC/B,OAAOmrB,GAAI5gC,EAAE2/B,cAAgB,EAAGlqB,EAAG,EACrC,CAEA,SAASkvB,GAAiB3kC,EAAGyV,GAC3B,OAAOmrB,GAAI5gC,EAAE1L,gBAAiBmhB,EAAG,EACnC,CAEA,SAASmvB,GAAiB5kC,EAAGyV,GAC3B,OAAOmrB,GAAI5gC,EAAEzL,gBAAiBkhB,EAAG,EACnC,CAEA,SAASovB,GAA6B7kC,GACpC,IAAI8kC,EAAM9kC,EAAEi/B,YACZ,OAAe,IAAR6F,EAAY,EAAIA,CACzB,CAEA,SAASC,GAA0B/kC,EAAGyV,GACpC,OAAOmrB,GAAI1B,GAAUjpB,MAAM4pB,GAAQ7/B,GAAK,EAAGA,GAAIyV,EAAG,EACpD,CAEA,SAASuvB,GAAQhlC,GACf,IAAIy9B,EAAMz9B,EAAEi/B,YACZ,OAAQxB,GAAO,GAAa,IAARA,EAAa6B,GAAYt/B,GAAKs/B,GAAYpF,KAAKl6B,EACrE,CAEA,SAASilC,GAAuBjlC,EAAGyV,GAEjC,OADAzV,EAAIglC,GAAQhlC,GACL4gC,GAAItB,GAAYrpB,MAAM4pB,GAAQ7/B,GAAIA,IAAiC,IAA3B6/B,GAAQ7/B,GAAGi/B,aAAoBxpB,EAAG,EACnF,CAEA,SAASyvB,GAA6BllC,GACpC,OAAOA,EAAEi/B,WACX,CAEA,SAASkG,GAA0BnlC,EAAGyV,GACpC,OAAOmrB,GAAIzB,GAAUlpB,MAAM4pB,GAAQ7/B,GAAK,EAAGA,GAAIyV,EAAG,EACpD,CAEA,SAAS2vB,GAAcplC,EAAGyV,GACxB,OAAOmrB,GAAI5gC,EAAE4/B,iBAAmB,IAAKnqB,EAAG,EAC1C,CAEA,SAAS4vB,GAAiBrlC,EAAGyV,GAE3B,OAAOmrB,IADP5gC,EAAIglC,GAAQhlC,IACC4/B,iBAAmB,IAAKnqB,EAAG,EAC1C,CAEA,SAAS6vB,GAAkBtlC,EAAGyV,GAC5B,OAAOmrB,GAAI5gC,EAAE4/B,iBAAmB,IAAOnqB,EAAG,EAC5C,CAEA,SAAS8vB,GAAqBvlC,EAAGyV,GAC/B,IAAIgoB,EAAMz9B,EAAEi/B,YAEZ,OAAO2B,IADP5gC,EAAKy9B,GAAO,GAAa,IAARA,EAAa6B,GAAYt/B,GAAKs/B,GAAYpF,KAAKl6B,IACnD4/B,iBAAmB,IAAOnqB,EAAG,EAC5C,CAEA,SAAS+vB,KACP,MAAO,OACT,CAEA,SAASC,KACP,MAAO,GACT,CAEA,SAASC,GAAoB1lC,GAC3B,OAAQA,CACV,CAEA,SAAS2lC,GAA2B3lC,GAClC,OAAOmD,KAAKqa,OAAOxd,EAAI,IACzB,CCtqBEm5B,GDea,SAAsBA,GACnC,IAAIyM,EAAkBzM,EAAO0M,SACzBC,EAAc3M,EAAOrlC,KACrBiyC,EAAc5M,EAAO3Y,KACrBwlB,EAAiB7M,EAAO8M,QACxBC,EAAkB/M,EAAO1lC,KACzB0yC,EAAuBhN,EAAOiN,UAC9BC,EAAgBlN,EAAOzlC,OACvB4yC,EAAqBnN,EAAOoN,YAE5BC,EAAW1F,GAASkF,GACpBS,EAAe1F,GAAaiF,GAC5BU,EAAY5F,GAASoF,GACrBS,EAAgB5F,GAAamF,GAC7BU,EAAiB9F,GAASqF,GAC1BU,EAAqB9F,GAAaoF,GAClCW,EAAUhG,GAASuF,GACnBU,EAAchG,GAAasF,GAC3BW,EAAelG,GAASwF,GACxBW,EAAmBlG,GAAauF,GAEhCY,EAAU,CACZ1lB,EAkQF,SAA4BxhB,GAC1B,OAAOmmC,EAAqBnmC,EAAEjM,SAC/B,EAnQCg/B,EAqQF,SAAuB/yB,GACrB,OAAOkmC,EAAgBlmC,EAAEjM,SAC1B,EAtQCyX,EAwQF,SAA0BxL,GACxB,OAAOsmC,EAAmBtmC,EAAE9L,WAC7B,EAzQC8+B,EA2QF,SAAqBhzB,GACnB,OAAOqmC,EAAcrmC,EAAE9L,WACxB,EA5QCy+B,EAAK,KACL3yB,EAAK0iC,GACLxkC,EAAKwkC,GACLze,EAAKgf,GACLzS,EAAKuT,GACLoD,EAAKlD,GACLjE,EAAK2C,GACLyE,EAAKxE,GACL7tB,EAAK8tB,GACL3C,EAAK8C,GACL3yB,EAAK6yB,GACLjD,EAAKkD,GACL1tB,EAkQF,SAAsBzV,GACpB,OAAOgmC,IAAiBhmC,EAAEw9B,YAAc,IACzC,EAnQC1I,EAqQF,SAAuB90B,GACrB,OAAO,KAAOA,EAAE9L,WAAa,EAC9B,EAtQCsuC,EAAKkD,GACL3jC,EAAK4jC,GACL5P,EAAKqN,GACLrM,EAAKsM,GACLjC,EAAKkC,GACLhC,EAAKoC,GACLzC,EAAK0C,GACLnC,EAAKoC,GACL53B,EAAK,KACLitB,EAAK,KACL1G,EAAKuR,GACLuD,EAAKrD,GACLpC,EAAKsC,GACL,IAAKuB,IAGH6B,EAAa,CACf9lB,EAuPF,SAA+BxhB,GAC7B,OAAOmmC,EAAqBnmC,EAAEi/B,YAC/B,EAxPClM,EA0PF,SAA0B/yB,GACxB,OAAOkmC,EAAgBlmC,EAAEi/B,YAC1B,EA3PCzzB,EA6PF,SAA6BxL,GAC3B,OAAOsmC,EAAmBtmC,EAAE2/B,cAC7B,EA9PC3M,EAgQF,SAAwBhzB,GACtB,OAAOqmC,EAAcrmC,EAAE2/B,cACxB,EAjQChN,EAAK,KACL3yB,EAAKmkC,GACLjmC,EAAKimC,GACLlgB,EAAKwgB,GACLjU,EAAK6U,GACL8B,EAAK5B,GACLvF,EAAKoE,GACLgD,EAAK/C,GACLtvB,EAAKuvB,GACLpE,EAAKqE,GACLl0B,EAAKq0B,GACLzE,EAAK0E,GACLlvB,EAuPF,SAAyBzV,GACvB,OAAOgmC,IAAiBhmC,EAAE3L,eAAiB,IAC5C,EAxPCygC,EA0PF,SAA0B90B,GACxB,OAAO,KAAOA,EAAE2/B,cAAgB,EACjC,EA3PC6C,EAAKkD,GACL3jC,EAAK4jC,GACL5P,EAAK6O,GACL7N,EAAK8N,GACLzD,EAAK2D,GACLzD,EAAK2D,GACLhE,EAAKiE,GACL1D,EAAK2D,GACLn5B,EAAK,KACLitB,EAAK,KACL1G,EAAK6S,GACLiC,EAAK/B,GACL1D,EAAK4D,GACL,IAAKC,IAGH8B,EAAS,CACX/lB,EA4JF,SAA2BxhB,EAAGsL,EAAQzO,GACpC,IAAIjJ,EAAIgzC,EAAenkC,KAAK6I,EAAOhW,MAAMuH,IACzC,OAAOjJ,GAAKoM,EAAEihC,EAAI4F,EAAmBjzC,EAAE,GAAGgE,eAAgBiF,EAAIjJ,EAAE,GAAG2B,SAAW,CAC/E,EA9JCw9B,EAgKF,SAAsB/yB,EAAGsL,EAAQzO,GAC/B,IAAIjJ,EAAI8yC,EAAUjkC,KAAK6I,EAAOhW,MAAMuH,IACpC,OAAOjJ,GAAKoM,EAAEihC,EAAI0F,EAAc/yC,EAAE,GAAGgE,eAAgBiF,EAAIjJ,EAAE,GAAG2B,SAAW,CAC1E,EAlKCiW,EAoKF,SAAyBxL,EAAGsL,EAAQzO,GAClC,IAAIjJ,EAAIozC,EAAavkC,KAAK6I,EAAOhW,MAAMuH,IACvC,OAAOjJ,GAAKoM,EAAEqQ,EAAI42B,EAAiBrzC,EAAE,GAAGgE,eAAgBiF,EAAIjJ,EAAE,GAAG2B,SAAW,CAC7E,EAtKCy9B,EAwKF,SAAoBhzB,EAAGsL,EAAQzO,GAC7B,IAAIjJ,EAAIkzC,EAAQrkC,KAAK6I,EAAOhW,MAAMuH,IAClC,OAAOjJ,GAAKoM,EAAEqQ,EAAI02B,EAAYnzC,EAAE,GAAGgE,eAAgBiF,EAAIjJ,EAAE,GAAG2B,SAAW,CACxE,EA1KCo9B,EA4KF,SAA6B3yB,EAAGsL,EAAQzO,GACtC,OAAO2qC,EAAexnC,EAAG4lC,EAAiBt6B,EAAQzO,EACnD,EA7KCmD,EAAK+hC,GACL7jC,EAAK6jC,GACL9d,EAAKoe,GACL7R,EAAKkR,GACLyF,EAAK1F,GACLzB,EAAKiC,GACLmF,EAAKnF,GACLltB,EAAKitB,GACL9B,EAAKkC,GACL/xB,EAAKyxB,GACL7B,EAAKiC,GACLzsB,EAuIF,SAAqBzV,EAAGsL,EAAQzO,GAC9B,IAAIjJ,EAAI4yC,EAAS/jC,KAAK6I,EAAOhW,MAAMuH,IACnC,OAAOjJ,GAAKoM,EAAEyV,EAAIgxB,EAAa7yC,EAAE,GAAGgE,eAAgBiF,EAAIjJ,EAAE,GAAG2B,SAAW,CACzE,EAzICu/B,EAAK+M,GACLW,EAAKD,GACLxgC,EAAK0gC,GACL1M,EAAKoM,GACLpL,EAAKmK,GACLE,EAAKD,GACLG,EAAKD,GACLJ,EAAKD,GACLQ,EAAKD,GACLv1B,EA0JF,SAAyBhM,EAAGsL,EAAQzO,GAClC,OAAO2qC,EAAexnC,EAAG8lC,EAAax6B,EAAQzO,EAC/C,EA3JCo8B,EA6JF,SAAyBj5B,EAAGsL,EAAQzO,GAClC,OAAO2qC,EAAexnC,EAAG+lC,EAAaz6B,EAAQzO,EAC/C,EA9JC01B,EAAKmP,GACL2F,EAAK5F,GACLG,EAAKD,GACL,IAAKW,IAWP,SAAS7G,EAAUrD,EAAW8O,GAC5B,OAAO,SAASpzC,GACd,IAII6+B,EACAiO,EACA1Q,EANA5kB,EAAS,GACTzO,GAAK,EACLkY,EAAI,EACJnhB,EAAIwkC,EAAU7iC,OAOlB,IAFMzB,aAAgB8R,OAAO9R,EAAO,IAAI8R,MAAM9R,MAErC+I,EAAIjJ,GACqB,KAA5BwkC,EAAU6D,WAAWp/B,KACvByO,EAAOlO,KAAKg7B,EAAU9iC,MAAMyf,EAAGlY,IACgB,OAA1C+jC,EAAMJ,GAAK7N,EAAIyF,EAAUqP,SAAS5qC,KAAc81B,EAAIyF,EAAUqP,SAAS5qC,GACvE+jC,EAAY,MAANjO,EAAY,IAAM,KACzBzC,EAASgX,EAAQvU,MAAIA,EAAIzC,EAAOp8B,EAAM8sC,IAC1Ct1B,EAAOlO,KAAKu1B,GACZ5d,EAAIlY,EAAI,GAKZ,OADAyO,EAAOlO,KAAKg7B,EAAU9iC,MAAMyf,EAAGlY,IACxByO,EAAO9V,KAAK,GACzB,CACG,CAED,SAASkyC,EAAStP,EAAWwJ,GAC3B,OAAO,SAASt2B,GACd,IAEIq8B,EAAMlK,EAFNz9B,EAAIqgC,GAAQ,UAAMv+B,EAAW,GAGjC,GAFQ0lC,EAAexnC,EAAGo4B,EAAW9sB,GAAU,GAAI,IAE1CA,EAAO/V,OAAQ,OAAO,KAG/B,GAAI,MAAOyK,EAAG,OAAO,IAAI4F,KAAK5F,EAAEwiC,GAChC,GAAI,MAAOxiC,EAAG,OAAO,IAAI4F,KAAW,IAAN5F,EAAE+B,GAAY,MAAO/B,EAAIA,EAAEkgC,EAAI,IAY7D,GATI0B,KAAO,MAAO5hC,KAAIA,EAAE4hC,EAAI,GAGxB,MAAO5hC,IAAGA,EAAEggC,EAAIhgC,EAAEggC,EAAI,GAAW,GAANhgC,EAAEyV,QAGrB3T,IAAR9B,EAAEqQ,IAAiBrQ,EAAEqQ,EAAI,MAAOrQ,EAAIA,EAAE80B,EAAI,GAG1C,MAAO90B,EAAG,CACZ,GAAIA,EAAEshC,EAAI,GAAKthC,EAAEshC,EAAI,GAAI,OAAO,KAC1B,MAAOthC,IAAIA,EAAEihC,EAAI,GACnB,MAAOjhC,GAC2By9B,GAApCkK,EAAOxH,GAAQE,GAAQrgC,EAAEuyB,EAAG,EAAG,KAAgB0M,YAC/C0I,EAAOlK,EAAM,GAAa,IAARA,EAAY0B,GAAUjF,KAAKyN,GAAQxI,GAAUwI,GAC/DA,EAAO/I,GAAOlC,OAAOiL,EAAkB,GAAX3nC,EAAEshC,EAAI,IAClCthC,EAAEuyB,EAAIoV,EAAK/H,iBACX5/B,EAAEqQ,EAAIs3B,EAAKhI,cACX3/B,EAAEA,EAAI2nC,EAAK5I,cAAgB/+B,EAAEihC,EAAI,GAAK,IAEAxD,GAAtCkK,EAAO5H,GAAUM,GAAQrgC,EAAEuyB,EAAG,EAAG,KAAgBx+B,SACjD4zC,EAAOlK,EAAM,GAAa,IAARA,EAAYoG,GAAW3J,KAAKyN,GAAQ9D,GAAW8D,GACjEA,EAAO7E,GAAQpG,OAAOiL,EAAkB,GAAX3nC,EAAEshC,EAAI,IACnCthC,EAAEuyB,EAAIoV,EAAKxzC,cACX6L,EAAEqQ,EAAIs3B,EAAKzzC,WACX8L,EAAEA,EAAI2nC,EAAK1zC,WAAa+L,EAAEihC,EAAI,GAAK,EAEtC,MAAU,MAAOjhC,GAAK,MAAOA,KACtB,MAAOA,IAAIA,EAAEihC,EAAI,MAAOjhC,EAAIA,EAAE+2B,EAAI,EAAI,MAAO/2B,EAAI,EAAI,GAC3Dy9B,EAAM,MAAOz9B,EAAImgC,GAAQE,GAAQrgC,EAAEuyB,EAAG,EAAG,IAAI0M,YAAcc,GAAUM,GAAQrgC,EAAEuyB,EAAG,EAAG,IAAIx+B,SACzFiM,EAAEqQ,EAAI,EACNrQ,EAAEA,EAAI,MAAOA,GAAKA,EAAEihC,EAAI,GAAK,EAAU,EAANjhC,EAAEwhC,GAAS/D,EAAM,GAAK,EAAIz9B,EAAEihC,EAAU,EAANjhC,EAAEohC,GAAS3D,EAAM,GAAK,GAKzF,MAAI,MAAOz9B,GACTA,EAAEggC,GAAKhgC,EAAE4hC,EAAI,IAAM,EACnB5hC,EAAEigC,GAAKjgC,EAAE4hC,EAAI,IACNzB,GAAQngC,IAIV+/B,GAAU//B,EACvB,CACG,CAED,SAASwnC,EAAexnC,EAAGo4B,EAAW9sB,EAAQyJ,GAO5C,IANA,IAGI4d,EACA3uB,EAJAnH,EAAI,EACJjJ,EAAIwkC,EAAU7iC,OACd8a,EAAI/E,EAAO/V,OAIRsH,EAAIjJ,GAAG,CACZ,GAAImhB,GAAK1E,EAAG,OAAQ,EAEpB,GAAU,MADVsiB,EAAIyF,EAAU6D,WAAWp/B,OAIvB,GAFA81B,EAAIyF,EAAUqP,OAAO5qC,OACrBmH,EAAQujC,EAAO5U,KAAK6N,GAAOpI,EAAUqP,OAAO5qC,KAAO81B,MACnC5d,EAAI/Q,EAAMhE,EAAGsL,EAAQyJ,IAAM,EAAI,OAAQ,OAClD,GAAI4d,GAAKrnB,EAAO2wB,WAAWlnB,KAChC,OAAQ,CAEX,CAED,OAAOA,CACR,CAuFD,OAzMAmyB,EAAQl7B,EAAIyvB,EAAUqK,EAAaoB,GACnCA,EAAQjO,EAAIwC,EAAUsK,EAAamB,GACnCA,EAAQvU,EAAI8I,EAAUmK,EAAiBsB,GACvCI,EAAWt7B,EAAIyvB,EAAUqK,EAAawB,GACtCA,EAAWrO,EAAIwC,EAAUsK,EAAauB,GACtCA,EAAW3U,EAAI8I,EAAUmK,EAAiB0B,GAoMnC,CACLpX,OAAQ,SAASkI,GACf,IAAInU,EAAIwX,EAAUrD,GAAa,GAAI8O,GAEnC,OADAjjB,EAAE7vB,SAAW,WAAa,OAAOgkC,CAAU,EACpCnU,CACR,EACDjgB,MAAO,SAASo0B,GACd,IAAI3iB,EAAIiyB,EAAStP,GAAa,IAAA,GAE9B,OADA3iB,EAAErhB,SAAW,WAAa,OAAOgkC,CAAU,EACpC3iB,CACR,EACD6qB,UAAW,SAASlI,GAClB,IAAInU,EAAIwX,EAAUrD,GAAa,GAAIkP,GAEnC,OADArjB,EAAE7vB,SAAW,WAAa,OAAOgkC,CAAU,EACpCnU,CACR,EACDsc,SAAU,SAASnI,GACjB,IAAI3iB,EAAIiyB,EAAStP,GAAa,IAAA,GAE9B,OADA3iB,EAAErhB,SAAW,WAAa,OAAOgkC,CAAU,EACpC3iB,CACR,EAEL,CA9Ve,CC3BD,CACZowB,SAAU,SACV/xC,KAAM,aACN0sB,KAAM,eACNylB,QAAS,CAAC,KAAM,MAChBxyC,KAAM,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YACzE2yC,UAAW,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACtD1yC,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACvH6yC,YAAa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,SAK9EpN,GAAOjJ,OACRiJ,GAAOn1B,MACnBs8B,GAAYnH,GAAOmH,UACnBC,GAAWpH,GAAOoH,SCtBb,IAAIqH,GAAe,wBAMVhiC,KAAKgC,UAAUxQ,aAEzBkpC,GAAUsH,KCFA,IAAIhiC,KAAK,6BAEnB26B,GAASqH,ICVf,IAAIC,GAAO,CAACrxC,MAAO,WAAW,GAE9B,SAASsxC,KACP,IAAK,IAAyCr+B,EAArC5M,EAAI,EAAGjJ,EAAIsnB,UAAU3lB,OAAQ0Z,EAAI,CAAA,EAAOpS,EAAIjJ,IAAKiJ,EAAG,CAC3D,KAAM4M,EAAIyR,UAAUre,GAAK,KAAQ4M,KAAKwF,GAAM,QAAQlG,KAAKU,GAAI,MAAM,IAAIlS,MAAM,iBAAmBkS,GAChGwF,EAAExF,GAAK,EACR,CACD,OAAO,IAAIs+B,GAAS94B,EACtB,CAEA,SAAS84B,GAAS94B,GAChBta,KAAKsa,EAAIA,CACX,CAoDA,SAASlX,GAAI+E,EAAMlI,GACjB,IAAK,IAA4B+9B,EAAxB91B,EAAI,EAAGjJ,EAAIkJ,EAAKvH,OAAWsH,EAAIjJ,IAAKiJ,EAC3C,IAAK81B,EAAI71B,EAAKD,IAAIjI,OAASA,EACzB,OAAO+9B,EAAEn8B,KAGf,CAEA,SAAS2B,GAAI2E,EAAMlI,EAAMoT,GACvB,IAAK,IAAInL,EAAI,EAAGjJ,EAAIkJ,EAAKvH,OAAQsH,EAAIjJ,IAAKiJ,EACxC,GAAIC,EAAKD,GAAGjI,OAASA,EAAM,CACzBkI,EAAKD,GAAKgrC,GAAM/qC,EAAOA,EAAKxH,MAAM,EAAGuH,GAAGmrC,OAAOlrC,EAAKxH,MAAMuH,EAAI,IAC9D,KACD,CAGH,OADgB,MAAZmL,GAAkBlL,EAAKM,KAAK,CAACxI,KAAMA,EAAM4B,MAAOwR,IAC7ClL,CACT,CA1DAirC,GAASngC,UAAYkgC,GAASlgC,UAAY,CACxCnT,YAAaszC,GACbE,GAAI,SAASC,EAAUlgC,GACrB,IAEIyB,EAd2B0+B,EAY3Bl5B,EAAIta,KAAKsa,EACT9P,GAb2BgpC,EAaOl5B,GAAfi5B,EAAW,IAZnB9mC,OAAO/L,MAAM,SAASqC,KAAAA,SAAa+R,GAClD,IAAI7U,EAAO,GAAIiI,EAAI4M,EAAEtM,QAAQ,KAE7B,GADIN,GAAK,IAAGjI,EAAO6U,EAAEnU,MAAMuH,EAAI,GAAI4M,EAAIA,EAAEnU,MAAM,EAAGuH,IAC9C4M,IAAM0+B,EAAMjwC,eAAeuR,GAAI,MAAM,IAAIlS,MAAM,iBAAmBkS,GACtE,MAAO,CAAC3M,KAAM2M,EAAG7U,KAAMA,EAC3B,KASQiI,GAAK,EACLjJ,EAAIuL,EAAE5J,OAGV,KAAI2lB,UAAU3lB,OAAS,GAAvB,CAOA,GAAgB,MAAZyS,GAAwC,mBAAbA,EAAyB,MAAM,IAAIzQ,MAAM,qBAAuByQ,GAC/F,OAASnL,EAAIjJ,GACX,GAAI6V,GAAKy+B,EAAW/oC,EAAEtC,IAAIC,KAAMmS,EAAExF,GAAKtR,GAAI8W,EAAExF,GAAIy+B,EAAStzC,KAAMoT,QAC3D,GAAgB,MAAZA,EAAkB,IAAKyB,KAAKwF,EAAGA,EAAExF,GAAKtR,GAAI8W,EAAExF,GAAIy+B,EAAStzC,KAAM,MAG1E,OAAOD,IAVN,CAFC,OAASkI,EAAIjJ,GAAAA,IAAQ6V,GAAKy+B,EAAW/oC,EAAEtC,IAAIC,QAAU2M,EAAI1R,GAAIkX,EAAExF,GAAIy+B,EAAStzC,OAAQ,OAAO6U,CAa9F,EACD2nB,KAAM,WACJ,IAAIA,EAAO,CAAE,EAAEniB,EAAIta,KAAKsa,EACxB,IAAK,IAAIxF,KAAKwF,EAAGmiB,EAAK3nB,GAAKwF,EAAExF,GAAGnU,QAChC,OAAO,IAAIyyC,GAAS3W,EACrB,EACDzhB,KAAM,SAAS7S,EAAMsrC,GACnB,IAAKx0C,EAAIsnB,UAAU3lB,OAAS,GAAK,EAAG,IAAK,IAAgC3B,EAAG6V,EAA/B4+B,EAAO,IAAI1vC,MAAM/E,GAAIiJ,EAAI,EAASA,EAAIjJ,IAAKiJ,EAAGwrC,EAAKxrC,GAAKqe,UAAUre,EAAI,GACnH,IAAKlI,KAAKsa,EAAE/W,eAAe4E,GAAO,MAAM,IAAIvF,MAAM,iBAAmBuF,GACrE,IAAuBD,EAAI,EAAGjJ,GAAzB6V,EAAI9U,KAAKsa,EAAEnS,IAAoBvH,OAAQsH,EAAIjJ,IAAKiJ,EAAG4M,EAAE5M,GAAGrG,MAAMkc,MAAM01B,EAAMC,EAChF,EACD31B,MAAO,SAAS5V,EAAMsrC,EAAMC,GAC1B,IAAK1zC,KAAKsa,EAAE/W,eAAe4E,GAAO,MAAM,IAAIvF,MAAM,iBAAmBuF,GACrE,IAAK,IAAI2M,EAAI9U,KAAKsa,EAAEnS,GAAOD,EAAI,EAAGjJ,EAAI6V,EAAElU,OAAQsH,EAAIjJ,IAAKiJ,EAAG4M,EAAE5M,GAAGrG,MAAMkc,MAAM01B,EAAMC,EACpF,GC7DI,IAAIC,GAAQ,+BAEJC,GAAA,CACb7wB,IAAK,6BACL4wB,MAAOA,GACPE,MAAO,+BACP7wB,IAAK,uCACL8wB,MAAO,iCCLM,SAAQtxB,GAACviB,GACtB,IAAI8mC,EAAS9mC,GAAQ,GAAIiI,EAAI6+B,EAAOv+B,QAAQ,KAE5C,OADIN,GAAK,GAAqC,WAA/B6+B,EAAS9mC,EAAKU,MAAM,EAAGuH,MAAiBjI,EAAOA,EAAKU,MAAMuH,EAAI,IACtE0rC,GAAWrwC,eAAewjC,GAAU,CAACgN,MAAOH,GAAW7M,GAASiN,MAAO/zC,GAAQA,CACxF,CCHA,SAASg0C,GAAeh0C,GACtB,OAAO,WACL,IAAI4F,EAAW7F,KAAKk0C,cAChBC,EAAMn0C,KAAKo0C,aACf,OAAOD,IAAQR,IAAS9tC,EAASwuC,gBAAgBD,eAAiBT,GAC5D9tC,EAASC,cAAc7F,GACvB4F,EAASyuC,gBAAgBH,EAAKl0C,EACxC,CACA,CAEA,SAASs0C,GAAaC,GACpB,OAAO,WACL,OAAOx0C,KAAKk0C,cAAcI,gBAAgBE,EAAST,MAAOS,EAASR,MACvE,CACA,CAEe,SAAQS,GAACx0C,GACtB,IAAIu0C,EAAWhyB,GAAUviB,GACzB,OAAQu0C,EAASR,MACXO,GACAN,IAAgBO,EACxB,CCxBA,SAASE,KAAS,CAEH,SAAQ/2B,GAACA,GACtB,OAAmB,MAAZA,EAAmB+2B,GAAO,WAC/B,OAAO10C,KAAKiH,cAAc0W,EAC9B,CACA,CCNA,SAASg3B,KACP,MAAO,EACT,CCFe,SAAQC,GAACC,GACtB,OAAO,IAAI7wC,MAAM6wC,EAAOj0C,OAC1B,CCKO,SAASk0C,GAAU72B,EAAQ82B,GAChC/0C,KAAKk0C,cAAgBj2B,EAAOi2B,cAC5Bl0C,KAAKo0C,aAAen2B,EAAOm2B,aAC3Bp0C,KAAKg1C,MAAQ,KACbh1C,KAAKi1C,QAAUh3B,EACfje,KAAKk1C,SAAWH,CAClB,CAEAD,GAAU7hC,UAAY,CACpBnT,YAAag1C,GACbpuC,YAAa,SAASyuC,GAAS,OAAOn1C,KAAKi1C,QAAQpuC,aAAasuC,EAAOn1C,KAAKg1C,MAAS,EACrFnuC,aAAc,SAASsuC,EAAO71B,GAAQ,OAAOtf,KAAKi1C,QAAQpuC,aAAasuC,EAAO71B,EAAQ,EACtFrY,cAAe,SAAS0W,GAAY,OAAO3d,KAAKi1C,QAAQhuC,cAAc0W,EAAY,EAClFxW,iBAAkB,SAASwW,GAAY,OAAO3d,KAAKi1C,QAAQ9tC,iBAAiBwW,EAAY,GCd1F,SAASy3B,GAAUn3B,EAAQooB,EAAOgP,EAAOR,EAAQS,EAAMltC,GASrD,IARA,IACIiX,EADAnX,EAAI,EAEJqtC,EAAclP,EAAMzlC,OACpB40C,EAAaptC,EAAKxH,OAKfsH,EAAIstC,IAActtC,GACnBmX,EAAOgnB,EAAMn+B,KACfmX,EAAK61B,SAAW9sC,EAAKF,GACrB2sC,EAAO3sC,GAAKmX,GAEZg2B,EAAMntC,GAAK,IAAI4sC,GAAU72B,EAAQ7V,EAAKF,IAK1C,KAAOA,EAAIqtC,IAAertC,GACpBmX,EAAOgnB,EAAMn+B,MACfotC,EAAKptC,GAAKmX,EAGhB,CAEA,SAASo2B,GAAQx3B,EAAQooB,EAAOgP,EAAOR,EAAQS,EAAMltC,EAAMjE,GACzD,IAAI+D,EACAmX,EAKAq2B,EAJAC,EAAiB,CAAE,EACnBJ,EAAclP,EAAMzlC,OACpB40C,EAAaptC,EAAKxH,OAClBg1C,EAAY,IAAI5xC,MAAMuxC,GAK1B,IAAKrtC,EAAI,EAAGA,EAAIqtC,IAAertC,GACzBmX,EAAOgnB,EAAMn+B,MACf0tC,EAAU1tC,GAAKwtC,EAzCL,IAyC4BvxC,EAAI6W,KAAKqE,EAAMA,EAAK61B,SAAUhtC,EAAGm+B,GACnEqP,KAAYC,EACdL,EAAKptC,GAAKmX,EAEVs2B,EAAeD,GAAYr2B,GAQjC,IAAKnX,EAAI,EAAGA,EAAIstC,IAActtC,GAExBmX,EAAOs2B,EADXD,EAtDY,IAsDWvxC,EAAI6W,KAAKiD,EAAQ7V,EAAKF,GAAIA,EAAGE,MAElDysC,EAAO3sC,GAAKmX,EACZA,EAAK61B,SAAW9sC,EAAKF,GACrBytC,EAAeD,GAAY,MAE3BL,EAAMntC,GAAK,IAAI4sC,GAAU72B,EAAQ7V,EAAKF,IAK1C,IAAKA,EAAI,EAAGA,EAAIqtC,IAAertC,GACxBmX,EAAOgnB,EAAMn+B,KAAQytC,EAAeC,EAAU1tC,MAAQmX,IACzDi2B,EAAKptC,GAAKmX,EAGhB,CCrDA,SAASuQ,GAAU/C,EAAGhW,GACpB,OAAOgW,EAAIhW,GAAK,EAAIgW,EAAIhW,EAAI,EAAIgW,GAAKhW,EAAI,EAAIuY,GAC/C,CCrBA,SAASymB,GAAW51C,GAClB,OAAO,WACLD,KAAK81C,gBAAgB71C,EACzB,CACA,CAEA,SAAS81C,GAAavB,GACpB,OAAO,WACLx0C,KAAKg2C,kBAAkBxB,EAAST,MAAOS,EAASR,MACpD,CACA,CAEA,SAASiC,GAAah2C,EAAM4B,GAC1B,OAAO,WACL7B,KAAKsJ,aAAarJ,EAAM4B,EAC5B,CACA,CAEA,SAASq0C,GAAe1B,EAAU3yC,GAChC,OAAO,WACL7B,KAAKm2C,eAAe3B,EAAST,MAAOS,EAASR,MAAOnyC,EACxD,CACA,CAEA,SAASu0C,GAAan2C,EAAM4B,GAC1B,OAAO,WACL,IAAI2Z,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WACjB,MAAL/K,EAAWxb,KAAK81C,gBAAgB71C,GAC/BD,KAAKsJ,aAAarJ,EAAMub,EACjC,CACA,CAEA,SAAS66B,GAAe7B,EAAU3yC,GAChC,OAAO,WACL,IAAI2Z,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WACjB,MAAL/K,EAAWxb,KAAKg2C,kBAAkBxB,EAAST,MAAOS,EAASR,OAC1Dh0C,KAAKm2C,eAAe3B,EAAST,MAAOS,EAASR,MAAOx4B,EAC7D,CACA,CCxCe,SAAQ86B,GAACj3B,GACtB,OAAQA,EAAK60B,eAAiB70B,EAAK60B,cAAcoC,aACzCj3B,EAAKxZ,UAAYwZ,GAClBA,EAAKi3B,WACd,CCFA,SAASC,GAAYt2C,GACnB,OAAO,WACLD,KAAKyK,MAAM+rC,eAAev2C,EAC9B,CACA,CAEA,SAASw2C,GAAcx2C,EAAM4B,EAAO60C,GAClC,OAAO,WACL12C,KAAKyK,MAAMksC,YAAY12C,EAAM4B,EAAO60C,EACxC,CACA,CAEA,SAASE,GAAc32C,EAAM4B,EAAO60C,GAClC,OAAO,WACL,IAAIl7B,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WACjB,MAAL/K,EAAWxb,KAAKyK,MAAM+rC,eAAev2C,GACpCD,KAAKyK,MAAMksC,YAAY12C,EAAMub,EAAGk7B,EACzC,CACA,CCpBA,SAASG,GAAe52C,GACtB,OAAO,kBACED,KAAKC,EAChB,CACA,CAEA,SAAS62C,GAAiB72C,EAAM4B,GAC9B,OAAO,WACL7B,KAAKC,GAAQ4B,CACjB,CACA,CAEA,SAASk1C,GAAiB92C,EAAM4B,GAC9B,OAAO,WACL,IAAI2Z,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WACjB,MAAL/K,SAAkBxb,KAAKC,GACtBD,KAAKC,GAAQub,CACtB,CACA,CClBA,SAASw7B,GAAWrgC,GAClB,OAAOA,EAAOlK,OAAO/L,MAAM,QAC7B,CAEA,SAASob,GAAUuD,GACjB,OAAOA,EAAKvD,WAAa,IAAIm7B,GAAU53B,EACzC,CAEA,SAAS43B,GAAU53B,GACjBrf,KAAKk3C,MAAQ73B,EACbrf,KAAKm3C,OAASH,GAAW33B,EAAK9S,aAAa,UAAY,GACzD,CAsBA,SAAS6qC,GAAW/3B,EAAM5e,GAExB,IADA,IAAIkZ,EAAOmC,GAAUuD,GAAOnX,GAAK,EAAGjJ,EAAIwB,EAAMG,SACrCsH,EAAIjJ,GAAG0a,EAAKjN,IAAIjM,EAAMyH,GACjC,CAEA,SAASmvC,GAAch4B,EAAM5e,GAE3B,IADA,IAAIkZ,EAAOmC,GAAUuD,GAAOnX,GAAK,EAAGjJ,EAAIwB,EAAMG,SACrCsH,EAAIjJ,GAAG0a,EAAK29B,OAAO72C,EAAMyH,GACpC,CAEA,SAASqvC,GAAY92C,GACnB,OAAO,WACL22C,GAAWp3C,KAAMS,EACrB,CACA,CAEA,SAAS+2C,GAAa/2C,GACpB,OAAO,WACL42C,GAAcr3C,KAAMS,EACxB,CACA,CAEA,SAASg3C,GAAgBh3C,EAAOoB,GAC9B,OAAO,YACJA,EAAMkc,MAAM/d,KAAMumB,WAAa6wB,GAAaC,IAAer3C,KAAMS,EACtE,CACA,CC3DA,SAASi3C,KACP13C,KAAKoF,YAAc,EACrB,CAEA,SAASuyC,GAAa91C,GACpB,OAAO,WACL7B,KAAKoF,YAAcvD,CACvB,CACA,CAEA,SAAS+1C,GAAa/1C,GACpB,OAAO,WACL,IAAI2Z,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WAC1BvmB,KAAKoF,YAAmB,MAALoW,EAAY,GAAKA,CACxC,CACA,CCfA,SAASq8B,KACP73C,KAAK+F,UAAY,EACnB,CAEA,SAAS+xC,GAAaj2C,GACpB,OAAO,WACL7B,KAAK+F,UAAYlE,CACrB,CACA,CAEA,SAASk2C,GAAal2C,GACpB,OAAO,WACL,IAAI2Z,EAAI3Z,EAAMkc,MAAM/d,KAAMumB,WAC1BvmB,KAAK+F,UAAiB,MAALyV,EAAY,GAAKA,CACtC,CACA,CCfA,SAASw8B,KACHh4C,KAAKi4C,aAAaj4C,KAAKsU,WAAW5N,YAAY1G,KACpD,CCFA,SAASk4C,KACHl4C,KAAKm4C,iBAAiBn4C,KAAKsU,WAAWzN,aAAa7G,KAAMA,KAAKsU,WAAWxN,WAC/E,CCCA,SAASsxC,KACP,OAAO,IACT,CCLA,SAASd,KACP,IAAIr5B,EAASje,KAAKsU,WACd2J,GAAQA,EAAO1M,YAAYvR,KACjC,CCHA,SAASq4C,KACP,IAAIjyC,EAAQpG,KAAKs4C,WAAAA,GAAkBr6B,EAASje,KAAKsU,WACjD,OAAO2J,EAASA,EAAOpX,aAAaT,EAAOpG,KAAKi4C,aAAe7xC,CACjE,CAEA,SAASmyC,KACP,IAAInyC,EAAQpG,KAAKs4C,WAAAA,GAAiBr6B,EAASje,KAAKsU,WAChD,OAAO2J,EAASA,EAAOpX,aAAaT,EAAOpG,KAAKi4C,aAAe7xC,CACjE,CPKA6wC,GAAUhkC,UAAY,CACpBvG,IAAK,SAASzM,GACJD,KAAKm3C,OAAO3uC,QAAQvI,GACpB,IACND,KAAKm3C,OAAO1uC,KAAKxI,GACjBD,KAAKk3C,MAAM5tC,aAAa,QAAStJ,KAAKm3C,OAAOt2C,KAAK,MAErD,EACDy2C,OAAQ,SAASr3C,GACf,IAAIiI,EAAIlI,KAAKm3C,OAAO3uC,QAAQvI,GACxBiI,GAAK,IACPlI,KAAKm3C,OAAOqB,OAAOtwC,EAAG,GACtBlI,KAAKk3C,MAAM5tC,aAAa,QAAStJ,KAAKm3C,OAAOt2C,KAAK,MAErD,EACDyb,SAAU,SAASrc,GACjB,OAAOD,KAAKm3C,OAAO3uC,QAAQvI,IAAS,CACrC,GQ9BH,IAAIw4C,GAAe,CAAA,EAER/oC,GAAQ,KASnB,SAASgpC,GAAsBC,EAAUnxC,EAAO6+B,GAE9C,OADAsS,EAAWC,GAAgBD,EAAUnxC,EAAO6+B,GACrC,SAAS32B,GACd,IAAImpC,EAAUnpC,EAAMopC,cACfD,IAAYA,IAAY74C,MAAkD,EAAxC64C,EAAQE,wBAAwB/4C,QACrE24C,EAAS39B,KAAKhb,KAAM0P,EAE1B,CACA,CAEA,SAASkpC,GAAgBD,EAAUnxC,EAAO6+B,GACxC,OAAO,SAAS2S,GACd,IAAIC,EAASvpC,GACbA,GAAQspC,EACR,IACEL,EAAS39B,KAAKhb,KAAMA,KAAKk1C,SAAU1tC,EAAO6+B,EAChD,CAAc,QACR32B,GAAQupC,CACT,CACL,CACA,CAUA,SAASC,GAAS3F,GAChB,OAAO,WACL,IAAID,EAAKtzC,KAAKm5C,KACd,GAAK7F,EAAL,CACA,IAAK,IAAkCv4B,EAA9BqF,EAAI,EAAGlY,GAAK,EAAGwT,EAAI43B,EAAG1yC,OAAWwf,EAAI1E,IAAK0E,EAC7CrF,EAAIu4B,EAAGlzB,GAAMmzB,EAASprC,MAAQ4S,EAAE5S,OAASorC,EAASprC,MAAS4S,EAAE9a,OAASszC,EAAStzC,KAGjFqzC,IAAKprC,GAAK6S,EAFV/a,KAAKo5C,oBAAoBr+B,EAAE5S,KAAM4S,EAAE49B,SAAU59B,EAAEs+B,WAK7CnxC,EAAGorC,EAAG1yC,OAASsH,SACTlI,KAAKm5C,IATD,CAUpB,CACA,CAEA,SAASG,GAAM/F,EAAU1xC,EAAOw3C,GAC9B,IAAIE,EAAOd,GAAal1C,eAAegwC,EAASprC,MAAQuwC,GAAwBE,GAChF,OAAO,SAASvtC,EAAGnD,EAAGm+B,GACpB,IAAoBtrB,EAAhBu4B,EAAKtzC,KAAKm5C,KAASR,EAAWY,EAAK13C,EAAOqG,EAAGm+B,GACjD,GAAIiN,EAAI,IAAK,IAAIlzB,EAAI,EAAG1E,EAAI43B,EAAG1yC,OAAQwf,EAAI1E,IAAK0E,EAC9C,IAAKrF,EAAIu4B,EAAGlzB,IAAIjY,OAASorC,EAASprC,MAAQ4S,EAAE9a,OAASszC,EAAStzC,KAI5D,OAHAD,KAAKo5C,oBAAoBr+B,EAAE5S,KAAM4S,EAAE49B,SAAU59B,EAAEs+B,SAC/Cr5C,KAAK0hB,iBAAiB3G,EAAE5S,KAAM4S,EAAE49B,SAAWA,EAAU59B,EAAEs+B,QAAUA,QACjEt+B,EAAElZ,MAAQA,GAId7B,KAAK0hB,iBAAiB6xB,EAASprC,KAAMwwC,EAAUU,GAC/Ct+B,EAAI,CAAC5S,KAAMorC,EAASprC,KAAMlI,KAAMszC,EAAStzC,KAAM4B,MAAOA,EAAO82C,SAAUA,EAAUU,QAASA,GACrF/F,EACAA,EAAG7qC,KAAKsS,GADJ/a,KAAKm5C,KAAO,CAACp+B,EAE1B,CACA,CAuBO,SAASy+B,GAAYR,EAAQL,EAAUlF,EAAMC,GAClD,IAAIuF,EAASvpC,GACbspC,EAAOS,YAAc/pC,GACrBA,GAAQspC,EACR,IACE,OAAOL,EAAS56B,MAAM01B,EAAMC,EAChC,CAAY,QACRhkC,GAAQupC,CACT,CACH,CCxGA,SAASnpC,GAAcuP,EAAMlX,EAAMuxC,GACjC,IAAI1zC,EAASswC,GAAYj3B,GACrB3P,EAAQ1J,EAAO2J,YAEE,mBAAVD,EACTA,EAAQ,IAAIA,EAAMvH,EAAMuxC,IAExBhqC,EAAQ1J,EAAOH,SAAS8zC,YAAY,SAChCD,GAAQhqC,EAAMkqC,UAAUzxC,EAAMuxC,EAAO7pC,QAAS6pC,EAAOG,YAAanqC,EAAME,OAAS8pC,EAAO9pC,QACvFF,EAAMkqC,UAAUzxC,GAAM,GAAA,IAG7BkX,EAAKvP,cAAcJ,EACrB,CAEA,SAASoqC,GAAiB3xC,EAAMuxC,GAC9B,OAAO,WACL,OAAO5pC,GAAc9P,KAAMmI,EAAMuxC,EACrC,CACA,CAEA,SAASK,GAAiB5xC,EAAMuxC,GAC9B,OAAO,WACL,OAAO5pC,GAAc9P,KAAMmI,EAAMuxC,EAAO37B,MAAM/d,KAAMumB,WACxD,CACA,CDvBwB,oBAAb1gB,WAEH,iBADQA,SAASwuC,kBAErBoE,GAAe,CAACuB,WAAY,YAAaC,WAAY,cEyBlD,IAAI50C,GAAO,CAAC,MAEZ,SAAS60C,GAAUC,EAAQC,GAChCp6C,KAAKq6C,QAAUF,EACfn6C,KAAKs6C,SAAWF,CAClB,CCnCe,SAAQG,GAAC58B,GACtB,MAA2B,iBAAbA,EACR,IAAIu8B,GAAU,CAAC,CAACr0C,SAASoB,cAAc0W,KAAa,CAAC9X,SAASwuC,kBAC9D,IAAI6F,GAAU,CAAC,CAACv8B,IAAYtY,GACpC,CDqCA60C,GAAUjnC,UAAkC,CAC1CnT,YAAao6C,GACbK,OE1Ca,SAASA,GACA,mBAAXA,IAAuBA,EAAS58B,GAAS48B,IAEpD,IAAK,IAAIJ,EAASn6C,KAAKq6C,QAAS3+B,EAAIy+B,EAAOv5C,OAAQ45C,EAAY,IAAIx2C,MAAM0X,GAAI0E,EAAI,EAAGA,EAAI1E,IAAK0E,EAC3F,IAAK,IAAiFf,EAAMo7B,EAAnFpU,EAAQ8T,EAAO/5B,GAAInhB,EAAIonC,EAAMzlC,OAAQ85C,EAAWF,EAAUp6B,GAAK,IAAIpc,MAAM/E,GAAmBiJ,EAAI,EAAGA,EAAIjJ,IAAKiJ,GAC9GmX,EAAOgnB,EAAMn+B,MAAQuyC,EAAUF,EAAOv/B,KAAKqE,EAAMA,EAAK61B,SAAUhtC,EAAGm+B,MAClE,aAAchnB,IAAMo7B,EAAQvF,SAAW71B,EAAK61B,UAChDwF,EAASxyC,GAAKuyC,GAKpB,OAAO,IAAIP,GAAUM,EAAWx6C,KAAKs6C,SACvC,EF8BEK,UG3Ca,SAASJ,GACA,mBAAXA,IAAuBA,EtBArB,SAAS58B,GACtB,OAAmB,MAAZA,EAAmBg3B,GAAQ,WAChC,OAAO30C,KAAKmH,iBAAiBwW,EACjC,CACA,CAJe,CsBA0C48B,IAEvD,IAAK,IAAIJ,EAASn6C,KAAKq6C,QAAS3+B,EAAIy+B,EAAOv5C,OAAQ45C,EAAY,GAAIJ,EAAU,GAAIh6B,EAAI,EAAGA,EAAI1E,IAAK0E,EAC/F,IAAK,IAAyCf,EAArCgnB,EAAQ8T,EAAO/5B,GAAInhB,EAAIonC,EAAMzlC,OAAcsH,EAAI,EAAGA,EAAIjJ,IAAKiJ,GAC9DmX,EAAOgnB,EAAMn+B,MACfsyC,EAAU/xC,KAAK8xC,EAAOv/B,KAAKqE,EAAMA,EAAK61B,SAAUhtC,EAAGm+B,IACnD+T,EAAQ3xC,KAAK4W,IAKnB,OAAO,IAAI66B,GAAUM,EAAWJ,EAClC,EH+BE1mC,OI5Ca,SAASuB,GACD,mBAAVA,IAAsBA,ECJpB,SAAS0I,GACtB,OAAO,WACL,OAAO3d,KAAKskB,QAAQ3G,EACxB,CACA,CAJe,CDIoC1I,IAEjD,IAAK,IAAIklC,EAASn6C,KAAKq6C,QAAS3+B,EAAIy+B,EAAOv5C,OAAQ45C,EAAY,IAAIx2C,MAAM0X,GAAI0E,EAAI,EAAGA,EAAI1E,IAAK0E,EAC3F,IAAK,IAAuEf,EAAnEgnB,EAAQ8T,EAAO/5B,GAAInhB,EAAIonC,EAAMzlC,OAAQ85C,EAAWF,EAAUp6B,GAAK,GAAUlY,EAAI,EAAGA,EAAIjJ,IAAKiJ,GAC3FmX,EAAOgnB,EAAMn+B,KAAO+M,EAAM+F,KAAKqE,EAAMA,EAAK61B,SAAUhtC,EAAGm+B,IAC1DqU,EAASjyC,KAAK4W,GAKpB,OAAO,IAAI66B,GAAUM,EAAWx6C,KAAKs6C,SACvC,EJiCElyC,KhB4Ba,SAASvG,EAAOsC,GAC7B,IAAKtC,EAGH,OAFAuG,EAAO,IAAIpE,MAAMhE,KAAK0Z,QAAS0G,GAAK,EACpCpgB,KAAK46C,MAAAA,SAAcvvC,GAAKjD,IAAOgY,GAAK/U,CAAE,IAC/BjD,EAGT,IsBnFsBiP,EtBmFlBwjC,EAAO12C,EAAMsxC,GAAUL,GACvBgF,EAAUp6C,KAAKs6C,SACfH,EAASn6C,KAAKq6C,QAEG,mBAAVx4C,IsBvFWwV,EtBuF4BxV,EAAjBA,EsBtF1B,WACL,OAAOwV,CACX,GtBsFE,IAAK,IAAIqE,EAAIy+B,EAAOv5C,OAAQi0C,EAAS,IAAI7wC,MAAM0X,GAAI25B,EAAQ,IAAIrxC,MAAM0X,GAAI45B,EAAO,IAAItxC,MAAM0X,GAAI0E,EAAI,EAAGA,EAAI1E,IAAK0E,EAAG,CAC/G,IAAInC,EAASm8B,EAAQh6B,GACjBimB,EAAQ8T,EAAO/5B,GACfm1B,EAAclP,EAAMzlC,OACpBwH,EAAOvG,EAAMmZ,KAAKiD,EAAQA,GAAUA,EAAOi3B,SAAU90B,EAAGg6B,GACxD5E,EAAaptC,EAAKxH,OAClBk6C,EAAazF,EAAMj1B,GAAK,IAAIpc,MAAMwxC,GAClCuF,EAAclG,EAAOz0B,GAAK,IAAIpc,MAAMwxC,GAGxCqF,EAAK58B,EAAQooB,EAAOyU,EAAYC,EAFhBzF,EAAKl1B,GAAK,IAAIpc,MAAMuxC,GAEoBntC,EAAMjE,GAK9D,IAAK,IAAoB6jC,EAAU1oB,EAA1B8lB,EAAK,EAAGC,EAAK,EAAmBD,EAAKoQ,IAAcpQ,EAC1D,GAAI4C,EAAW8S,EAAW1V,GAAK,CAE7B,IADIA,GAAMC,IAAIA,EAAKD,EAAK,KACf9lB,EAAOy7B,EAAY1V,OAAUA,EAAKmQ,IAC3CxN,EAASgN,MAAQ11B,GAAQ,IAC1B,CAEJ,CAKD,OAHAu1B,EAAS,IAAIqF,GAAUrF,EAAQuF,IACxBY,OAAS3F,EAChBR,EAAOoG,MAAQ3F,EACRT,CACT,EgBpEEQ,MjB9Ca,WACb,OAAO,IAAI6E,GAAUl6C,KAAKg7C,QAAUh7C,KAAKq6C,QAAQt3C,IAAI6xC,IAAS50C,KAAKs6C,SACrE,EiB6CEhF,KO/Ca,WACb,OAAO,IAAI4E,GAAUl6C,KAAKi7C,OAASj7C,KAAKq6C,QAAQt3C,IAAI6xC,IAAS50C,KAAKs6C,SACpE,EP8CEz5C,KQnDa,SAASq6C,EAASC,EAAUC,GACzC,IAAI/F,EAAQr1C,KAAKq1C,QAASR,EAAS70C,KAAMs1C,EAAOt1C,KAAKs1C,OAIrD,OAHAD,EAA2B,mBAAZ6F,EAAyBA,EAAQ7F,GAASA,EAAMgG,OAAOH,EAAU,IAChE,MAAZC,IAAkBtG,EAASsG,EAAStG,IAC1B,MAAVuG,EAAgB9F,EAAKgC,SAAe8D,EAAO9F,GACxCD,GAASR,EAASQ,EAAMiG,MAAMzG,GAAQ0G,QAAU1G,CACzD,ER8CEyG,MSlDa,SAASE,GAEtB,IAAK,IAAIC,EAAUz7C,KAAKq6C,QAASqB,EAAUF,EAAUnB,QAASsB,EAAKF,EAAQ76C,OAAQ27B,EAAKmf,EAAQ96C,OAAQ8a,EAAIlN,KAAKC,IAAIktC,EAAIpf,GAAKqf,EAAS,IAAI53C,MAAM23C,GAAKv7B,EAAI,EAAGA,EAAI1E,IAAK0E,EACpK,IAAK,IAAmGf,EAA/Fw8B,EAASJ,EAAQr7B,GAAI07B,EAASJ,EAAQt7B,GAAInhB,EAAI48C,EAAOj7C,OAAQ06C,EAAQM,EAAOx7B,GAAK,IAAIpc,MAAM/E,GAAUiJ,EAAI,EAAGA,EAAIjJ,IAAKiJ,GACxHmX,EAAOw8B,EAAO3zC,IAAM4zC,EAAO5zC,MAC7BozC,EAAMpzC,GAAKmX,GAKjB,KAAOe,EAAIu7B,IAAMv7B,EACfw7B,EAAOx7B,GAAKq7B,EAAQr7B,GAGtB,OAAO,IAAI85B,GAAU0B,EAAQ57C,KAAKs6C,SACpC,EToCEiB,MUrDa,WAEb,IAAK,IAAIpB,EAASn6C,KAAKq6C,QAASj6B,GAAK,EAAG1E,EAAIy+B,EAAOv5C,SAAUwf,EAAI1E,GAC/D,IAAK,IAA8D2D,EAA1DgnB,EAAQ8T,EAAO/5B,GAAIlY,EAAIm+B,EAAMzlC,OAAS,EAAG0e,EAAO+mB,EAAMn+B,KAAYA,GAAK,IAC1EmX,EAAOgnB,EAAMn+B,MACXoX,GAA6C,EAArCD,EAAK05B,wBAAwBz5B,IAAWA,EAAKhL,WAAWzN,aAAawY,EAAMC,GACvFA,EAAOD,GAKb,OAAOrf,IACT,EV0CE4sB,KfpDa,SAAS4C,GAGtB,SAASusB,EAAYlvB,EAAGhW,GACtB,OAAOgW,GAAKhW,EAAI2Y,EAAQ3C,EAAEqoB,SAAUr+B,EAAEq+B,WAAaroB,GAAKhW,CACzD,CAJI2Y,IAASA,EAAUI,IAMxB,IAAK,IAAIuqB,EAASn6C,KAAKq6C,QAAS3+B,EAAIy+B,EAAOv5C,OAAQo7C,EAAa,IAAIh4C,MAAM0X,GAAI0E,EAAI,EAAGA,EAAI1E,IAAK0E,EAAG,CAC/F,IAAK,IAAmFf,EAA/EgnB,EAAQ8T,EAAO/5B,GAAInhB,EAAIonC,EAAMzlC,OAAQq7C,EAAYD,EAAW57B,GAAK,IAAIpc,MAAM/E,GAAUiJ,EAAI,EAAGA,EAAIjJ,IAAKiJ,GACxGmX,EAAOgnB,EAAMn+B,MACf+zC,EAAU/zC,GAAKmX,GAGnB48B,EAAUrvB,KAAKmvB,EAChB,CAED,OAAO,IAAI7B,GAAU8B,EAAYh8C,KAAKs6C,UAAUiB,OAClD,EeoCEvgC,KWvDa,WACb,IAAI3H,EAAWkT,UAAU,GAGzB,OAFAA,UAAU,GAAKvmB,KACfqT,EAAS0K,MAAM,KAAMwI,WACdvmB,IACT,EXmDEk8C,MYxDa,WACb,IAAIA,EAAQ,IAAIl4C,MAAMhE,KAAK0Z,QAASxR,GAAK,EAEzC,OADAlI,KAAK46C,MAAK,WAAasB,IAAQh0C,GAAKlI,IAC7Bk8C,IAAAA,CACT,EZqDE78B,KazDa,WAEb,IAAK,IAAI86B,EAASn6C,KAAKq6C,QAASj6B,EAAI,EAAG1E,EAAIy+B,EAAOv5C,OAAQwf,EAAI1E,IAAK0E,EACjE,IAAK,IAAIimB,EAAQ8T,EAAO/5B,GAAIlY,EAAI,EAAGjJ,EAAIonC,EAAMzlC,OAAQsH,EAAIjJ,IAAKiJ,EAAG,CAC/D,IAAImX,EAAOgnB,EAAMn+B,GACjB,GAAImX,EAAM,OAAOA,CAClB,CAGH,OAAO,IACT,EbgDE3F,Kc1Da,WACb,IAAIA,EAAO,EAEX,OADA1Z,KAAK46C,mBAAoBlhC,CAClBA,IAAAA,CACT,EduDEi7B,Me3Da,WACb,OAAQ30C,KAAKqf,MACf,Ef0DEu7B,KgB5Da,SAASvnC,GAEtB,IAAK,IAAI8mC,EAASn6C,KAAKq6C,QAASj6B,EAAI,EAAG1E,EAAIy+B,EAAOv5C,OAAQwf,EAAI1E,IAAK0E,EACjE,IAAK,IAAgDf,EAA5CgnB,EAAQ8T,EAAO/5B,GAAIlY,EAAI,EAAGjJ,EAAIonC,EAAMzlC,OAAcsH,EAAIjJ,IAAKiJ,GAC9DmX,EAAOgnB,EAAMn+B,KAAImL,EAAS2H,KAAKqE,EAAMA,EAAK61B,SAAUhtC,EAAGm+B,GAI/D,OAAOrmC,IACT,EhBoDEm8C,KdnBa,SAASl8C,EAAM4B,GAC5B,IAAI2yC,EAAWhyB,GAAUviB,GAEzB,GAAIsmB,UAAU3lB,OAAS,EAAG,CACxB,IAAIye,EAAOrf,KAAKqf,OAChB,OAAOm1B,EAASR,MACV30B,EAAK+8B,eAAe5H,EAAST,MAAOS,EAASR,OAC7C30B,EAAK9S,aAAaioC,EACzB,CAED,OAAOx0C,KAAK46C,MAAe,MAAT/4C,EACX2yC,EAASR,MAAQ+B,GAAeF,GAAgC,mBAAVh0C,EACtD2yC,EAASR,MAAQqC,GAAiBD,GAClC5B,EAASR,MAAQkC,GAAiBD,IAAgBzB,EAAU3yC,GACrE,EcME4I,MZxCa,SAASxK,EAAM4B,EAAO60C,GACnC,OAAOnwB,UAAU3lB,OAAS,EACpBZ,KAAK46C,MAAe,MAAT/4C,EACL00C,GAA+B,mBAAV10C,EACrB+0C,GACAH,IAAex2C,EAAM4B,EAAmB,MAAZ60C,EAAmB,GAAKA,IAI3D,SAAoBr3B,EAAMpf,GAC/B,OAAOof,EAAK5U,MAAM4xC,iBAAiBp8C,IAC5Bq2C,GAAYj3B,GAAMi9B,iBAAiBj9B,EAAM,MAAMg9B,iBAAiBp8C,EACzE,CAHO,CAHYD,KAAKqf,OAAQpf,EAChC,EYkCEqD,SX3Ca,SAASrD,EAAM4B,GAC5B,OAAO0kB,UAAU3lB,OAAS,EACpBZ,KAAK46C,MAAe,MAAT/4C,EACPg1C,GAAkC,mBAAVh1C,EACxBk1C,GACAD,IAAkB72C,EAAM4B,IAC5B7B,KAAKqf,OAAOpf,EACpB,EWqCEs8C,QVHa,SAASt8C,EAAM4B,GAC5B,IAAIpB,EAAQu2C,GAAW/2C,EAAO,IAE9B,GAAIsmB,UAAU3lB,OAAS,EAAG,CAExB,IADA,IAAI+Y,EAAOmC,GAAU9b,KAAKqf,QAASnX,GAAK,EAAGjJ,EAAIwB,EAAMG,SAC5CsH,EAAIjJ,GAAQ0a,IAAAA,EAAK2C,SAAS7b,EAAMyH,IAAK,OAAA,EAC9C,OAAA,CACD,CAED,OAAOlI,KAAK46C,MAAuB,mBAAV/4C,EACnB41C,GAAkB51C,EAClB01C,GACAC,IAAc/2C,EAAOoB,GAC7B,EUTEyF,KThDa,SAASzF,GACtB,OAAO0kB,UAAU3lB,OACXZ,KAAK46C,KAAc,MAAT/4C,EACN61C,IAA+B,mBAAV71C,EACrB+1C,GACAD,IAAc91C,IAClB7B,KAAKqf,OAAOja,WACpB,ES0CEoU,KRjDa,SAAS3X,GACtB,OAAO0kB,UAAU3lB,OACXZ,KAAK46C,KAAc,MAAT/4C,EACNg2C,IAA+B,mBAAVh2C,EACrBk2C,GACAD,IAAcj2C,IAClB7B,KAAKqf,OAAOtZ,SACpB,EQ2CEiyC,MP/Da,WACb,OAAOh4C,KAAK46C,KAAK5C,GACnB,EO8DEE,MNhEa,WACb,OAAOl4C,KAAK46C,KAAK1C,GACnB,EM+DEmD,OiBnEa,SAASp7C,GACtB,IAAI6wB,EAAyB,mBAAT7wB,EAAsBA,EAAOw0C,GAAQx0C,GACzD,OAAOD,KAAKu6C,QAAAA,WACV,OAAOv6C,KAAK0G,YAAYoqB,EAAO/S,MAAM/d,KAAMumB,WAC/C,GACA,EjB+DExJ,OL/Da,SAAS9c,EAAM6c,GAC5B,IAAIgU,EAAyB,mBAAT7wB,EAAsBA,EAAOw0C,GAAQx0C,GACrDs6C,EAAmB,MAAVz9B,EAAiBs7B,GAAiC,mBAAXt7B,EAAwBA,EAASa,GAASb,GAC9F,OAAO9c,KAAKu6C,QAAO,WACjB,OAAOv6C,KAAK6G,aAAaiqB,EAAO/S,MAAM/d,KAAMumB,WAAYg0B,EAAOx8B,MAAM/d,KAAMumB,YAAc,KAE7F,GAAA,EK0DE+wB,OJlEa,WACb,OAAOt3C,KAAK46C,KAAKtD,GACnB,EIiEElxC,MH9Da,SAASo2C,GACtB,OAAOx8C,KAAKu6C,OAAOiC,EAAOjE,GAAsBF,GAClD,EG6DEtD,MkBzEa,SAASlzC,GACtB,OAAO0kB,UAAU3lB,OACXZ,KAAKsD,SAAS,WAAYzB,GAC1B7B,KAAKqf,OAAO61B,QACpB,ElBsEE5B,GFEa,SAASC,EAAU1xC,EAAOw3C,GACvC,IAA+CnxC,EAAyB4M,EAApE2nC,EA5CN,SAAwBA,GACtB,OAAOA,EAAUhwC,OAAO/L,MAAM,SAASqC,KAAI,SAAS+R,GAClD,IAAI7U,EAAO,GAAIiI,EAAI4M,EAAEtM,QAAQ,KAE7B,OADIN,GAAK,IAAGjI,EAAO6U,EAAEnU,MAAMuH,EAAI,GAAI4M,EAAIA,EAAEnU,MAAM,EAAGuH,IAC3C,CAACC,KAAM2M,EAAG7U,KAAMA,EAC3B,GACA,CANA,CA4CiCszC,EAAW,IAAQt0C,EAAIw9C,EAAU77C,OAEhE,KAAI2lB,UAAU3lB,OAAS,GAAvB,CAcA,IAFA0yC,EAAKzxC,EAAQy3C,GAAQJ,GACN,MAAXG,IAAiBA,GAAAA,GAChBnxC,EAAI,EAAGA,EAAIjJ,IAAKiJ,EAAGlI,KAAK46C,KAAKtH,EAAGmJ,EAAUv0C,GAAIrG,EAAOw3C,IAC1D,OAAOr5C,IALN,CATC,IAAIszC,EAAKtzC,KAAKqf,OAAO85B,KACrB,GAAI7F,EAAI,IAAK,IAA0Bv4B,EAAtBqF,EAAI,EAAG1E,EAAI43B,EAAG1yC,OAAWwf,EAAI1E,IAAK0E,EACjD,IAAKlY,EAAI,EAAG6S,EAAIu4B,EAAGlzB,GAAIlY,EAAIjJ,IAAKiJ,EAC9B,IAAK4M,EAAI2nC,EAAUv0C,IAAIC,OAAS4S,EAAE5S,MAAQ2M,EAAE7U,OAAS8a,EAAE9a,KACrD,OAAO8a,EAAElZ,KAWnB,EEpBEsxC,SD9Ca,SAAShrC,EAAMuxC,GAC5B,OAAO15C,KAAK46C,MAAwB,mBAAXlB,EACnBK,GACAD,IAAkB3xC,EAAMuxC,GAChC,GoBjCA,IAAIgD,GAAS,EAMb,SAASC,KACP38C,KAAKsa,EAAI,OAASoiC,IAAQj9C,SAAS,GACrC,CCNe,SAAAg6C,KAEb,IADA,IAAqB/1C,EAAjBk5C,EAAUltC,GACPhM,EAASk5C,EAAQnD,aAAamD,EAAUl5C,EAC/C,OAAOk5C,CACT,CCNe,SAAAC,GAASx9B,EAAM3P,GAC5B,IAAIqT,EAAM1D,EAAKy9B,iBAAmBz9B,EAElC,GAAI0D,EAAIg6B,eAAgB,CACtB,IAAIF,EAAQ95B,EAAIg6B,iBAGhB,OAFAF,EAAMxlC,EAAI3H,EAAMstC,QAASH,EAAMjf,EAAIluB,EAAMutC,QAElC,EADPJ,EAAQA,EAAMK,gBAAgB79B,EAAK89B,eAAeC,YACpC/lC,EAAGwlC,EAAMjf,EACxB,CAED,IAAIyf,EAAOh+B,EAAKiM,wBAChB,MAAO,CAAC5b,EAAMstC,QAAUK,EAAKv0C,KAAOuW,EAAKi+B,WAAY5tC,EAAMutC,QAAUI,EAAKlyB,IAAM9L,EAAKk+B,UACvF,CCTe,SAAQC,GAACn+B,GACtB,IAAI3P,EAAQ+pC,KAEZ,OADI/pC,EAAM+tC,iBAAgB/tC,EAAQA,EAAM+tC,eAAe,IAChDZ,GAAMx9B,EAAM3P,EACrB,CCJe,SAAAguC,GAASr+B,EAAMs+B,EAASC,GACjCr3B,UAAU3lB,OAAS,IAAGg9C,EAAaD,EAASA,EAAUlE,KAAcgE,gBAExE,IAAK,IAA6CC,EAAzCx1C,EAAI,EAAGjJ,EAAI0+C,EAAUA,EAAQ/8C,OAAS,EAAUsH,EAAIjJ,IAAKiJ,EAChE,IAAKw1C,EAAQC,EAAQz1C,IAAI01C,aAAeA,EACtC,OAAOf,GAAMx9B,EAAMq+B,GAIvB,OAAO,IACT,CCXO,SAASG,KACdnuC,GAAMouC,0BACR,CAEe,SAAAC,KACbruC,GAAMsuC,iBACNtuC,GAAMouC,0BACR,CCTe,SAAQ55B,GAAC7M,GACtB,OAAO,WACL,OAAOA,CACX,CACA,CCJe,SAAS4mC,GAAUl6C,EAAQoE,EAAM+1C,EAASpkC,EAAIqkC,EAAQ9mC,EAAGumB,EAAG+D,EAAIC,EAAIuR,GACjFnzC,KAAK+D,OAASA,EACd/D,KAAKmI,KAAOA,EACZnI,KAAKk+C,QAAUA,EACfl+C,KAAK49C,WAAa9jC,EAClB9Z,KAAKm+C,OAASA,EACdn+C,KAAKqX,EAAIA,EACTrX,KAAK49B,EAAIA,EACT59B,KAAK2hC,GAAKA,EACV3hC,KAAK4hC,GAAKA,EACV5hC,KAAKsa,EAAI64B,CACX,CCHA,SAASiL,KACP,OAAQ1uC,GAAM2uC,UAAY3uC,GAAM4uC,MAClC,CAEA,SAASC,KACP,OAAOv+C,KAAKsU,UACd,CAEA,SAASkqC,GAAenzC,GACtB,OAAY,MAALA,EAAY,CAACgM,EAAG3H,GAAM2H,EAAGumB,EAAGluB,GAAMkuB,GAAKvyB,CAChD,CAEA,SAASozC,KACP,OAAOC,UAAUC,gBAAmB,iBAAkB3+C,IACxD,CRZA28C,GAAM1pC,UAA8B,CAClCnT,YAAa68C,GACbv5C,IAAK,SAASic,GAEZ,IADA,IAAIvF,EAAK9Z,KAAKsa,IACLR,KAAMuF,SAAaA,EAAOA,EAAK/K,YAAa,OACrD,OAAO+K,EAAKvF,EACb,EACDtW,IAAK,SAAS6b,EAAMxd,GAClB,OAAOwd,EAAKrf,KAAKsa,GAAKzY,CACvB,EACDy1C,OAAQ,SAASj4B,GACf,OAAOrf,KAAKsa,KAAK+E,UAAeA,EAAKrf,KAAKsa,EAC3C,EACD7a,SAAU,WACR,OAAOO,KAAKsa,CACb,GOZH2jC,GAAUhrC,UAAUqgC,GAAK,WACvB,IAAIzxC,EAAQ7B,KAAKsa,EAAEg5B,GAAGv1B,MAAM/d,KAAKsa,EAAGiM,WACpC,OAAO1kB,IAAU7B,KAAKsa,EAAIta,KAAO6B,CACnC,EEKA,MAAM2I,GAAI/E,EAAS,WAAY,8uDAgHxB,MAAMm5C,WAAep0C,GAAEG,cAG5BxF,oBACEnF,KAAK6+C,WAAAA,EACL7+C,KAAKsJ,aAAa,OAAQ,UAErBtJ,KAAK2G,aAAa,aAAe3G,KAAKsJ,aAAa,WAAY,GAGpEtJ,KAAK8+C,YAAa,EAGlB9+C,KAAK++C,KAAO/+C,KAAKqF,KAAK4B,cAAc,mBACpCjH,KAAKg/C,WAAah/C,KAAKqF,KAAK4B,cAAc,eAC1CjH,KAAKi/C,UAAYj/C,KAAKqF,KAAK4B,cAAc,eACzCjH,KAAKk/C,MAAQl/C,KAAKqF,KAAK4B,cAAc,UAGrCjH,KAAKyO,IAAMzO,KAAKyO,IAAMzO,KAAKyO,IAAM,EACjCzO,KAAKomB,IAAMpmB,KAAKomB,IAAMpmB,KAAKomB,IAAM,IACjCpmB,KAAK4kC,MAAQua,KAAczuB,OAAO,CAAC1wB,KAAKyO,IAAKzO,KAAKomB,MAAMJ,MAAM,CAAC,EAAG,IAAI8f,UAEtE9lC,KAAKo/C,YAAyBjyC,IAAhBnN,KAAKo/C,OAAuBp/C,KAAKo/C,OAASp/C,KAAKyO,IAC7DzO,KAAKqwB,KAAOrwB,KAAKqwB,KAAOrwB,KAAKqwB,KAAO,EACpCrwB,KAAK60C,OAAO70C,KAAK6B,MAAQ7B,KAAK6B,MAAQ,GAEtC7B,KAAK6kC,QAAQ7kC,KAAK6kC,OAAQ7kC,KAAK6kC,MAC/B7kC,KAAKq/C,cAELr/C,KAAKs/C,KD3IM,WACb,IAOIC,EACAC,EACAC,EACAC,EAVAhsC,EAAS0qC,GACTpyC,EAAYuyC,GACZL,EAAUM,GACVmB,EAAYlB,GACZmB,EAAW,CAAE,EACb3vC,EAAYkjC,GAAS,QAAS,OAAQ,OACtCgL,EAAS,EAKT0B,EAAiB,EAErB,SAASP,EAAK9D,GACZA,EACKlI,GAAG,iBAAkBwM,GACvBpsC,OAAOisC,GACLrM,GAAG,kBAAmByM,GACtBzM,GAAG,iBAAkB0M,GACrB1M,GAAG,iCAAkC2M,GACrCx1C,MAAM,eAAgB,QACtBA,MAAM,8BAA+B,gBAC3C,CAED,SAASq1C,IACP,IAAIJ,GAAgBhsC,EAAOqK,MAAM/d,KAAMumB,WAAvC,CACA,IAAI25B,EAAUC,EAAY,QAASn0C,EAAU+R,MAAM/d,KAAMumB,WAAYi3B,GAAOx9C,KAAMumB,WAC7E25B,IACL3F,GAAO7qC,GAAM0wC,MAAM9M,GAAG,iBAAkB+M,GAAY,GAAM/M,GAAG,eAAgBgN,GAAAA,GElDlE,SAASF,GACtB,IAAI/6C,EAAO+6C,EAAKv6C,SAASwuC,gBACrBmH,EAAYjB,GAAO6F,GAAM9M,GAAG,iBAAkByK,IAAAA,GAC9C,kBAAmB14C,EACrBm2C,EAAUlI,GAAG,mBAAoByK,IAAAA,IAEjC14C,EAAKk7C,WAAal7C,EAAKoF,MAAM+1C,cAC7Bn7C,EAAKoF,MAAM+1C,cAAgB,OAE/B,CATe,CFmDJ9wC,GAAM0wC,MACbvC,KACA4B,GAAAA,EACAF,EAAa7vC,GAAMstC,QACnBwC,EAAa9vC,GAAMutC,QACnBiD,EAAQ,SATkD,CAU3D,CAED,SAASG,IAEP,GADAtC,MACK0B,EAAa,CAChB,IAAI9d,EAAKjyB,GAAMstC,QAAUuC,EAAY3d,EAAKlyB,GAAMutC,QAAUuC,EAC1DC,EAAc9d,EAAKA,EAAKC,EAAKA,EAAKie,CACnC,CACDD,EAASpC,MAAM,OAChB,CAED,SAAS8C,IACP/F,GAAO7qC,GAAM0wC,MAAM9M,GAAG,8BAA+B,ME1DlD,SAAiB8M,EAAMK,GAC5B,IAAIp7C,EAAO+6C,EAAKv6C,SAASwuC,gBACrBmH,EAAYjB,GAAO6F,GAAM9M,GAAG,iBAAkB,MAC9CmN,IACFjF,EAAUlI,GAAG,aAAcyK,IAAAA,GAC3Bh8B,YAAAA,WAAwBy5B,EAAUlI,GAAG,aAAc,KAAU,GAAA,IAE3D,kBAAmBjuC,EACrBm2C,EAAUlI,GAAG,mBAAoB,OAEjCjuC,EAAKoF,MAAM+1C,cAAgBn7C,EAAKk7C,kBACzBl7C,EAAKk7C,WAEhB,CAbO,CF2DK7wC,GAAM0wC,KAAMX,GACpB1B,KACA6B,EAASpC,MAAM,MAChB,CAED,SAASuC,IACP,GAAKrsC,EAAOqK,MAAM/d,KAAMumB,WAAxB,CACA,IAEwBre,EAAGg4C,EAFvBvC,EAAUjuC,GAAM+tC,eAChBzf,EAAIhyB,EAAU+R,MAAM/d,KAAMumB,WAC1BtnB,EAAI0+C,EAAQ/8C,OAEhB,IAAKsH,EAAI,EAAGA,EAAIjJ,IAAKiJ,GACfg4C,EAAUC,EAAYxC,EAAQz1C,GAAG01C,WAAY5f,EAAG0f,GAAO19C,KAAMumB,cAC/Ds3B,KACAqC,EAAQ,SAR+B,CAW5C,CAED,SAASF,IACP,IACwB93C,EAAGg4C,EADvBvC,EAAUjuC,GAAM+tC,eAChBx+C,EAAI0+C,EAAQ/8C,OAEhB,IAAKsH,EAAI,EAAGA,EAAIjJ,IAAKiJ,GACfg4C,EAAUN,EAASjC,EAAQz1C,GAAG01C,eAChCG,KACAmC,EAAQ,QAGb,CAED,SAASD,IACP,IACwB/3C,EAAGg4C,EADvBvC,EAAUjuC,GAAM+tC,eAChBx+C,EAAI0+C,EAAQ/8C,OAIhB,IAFI8+C,GAAa9zB,aAAa8zB,GAC9BA,EAAc39B,YAAW,WAAa29B,EAAc,IAAS,GAAA,KACxDx3C,EAAI,EAAGA,EAAIjJ,IAAKiJ,GACfg4C,EAAUN,EAASjC,EAAQz1C,GAAG01C,eAChCC,KACAqC,EAAQ,OAGb,CAED,SAASC,EAAYrmC,EAAI9N,EAAW6wC,EAAOpJ,EAAMC,GAC/C,IAA8BtmC,EAAGu0B,EAAIC,EAAjC9gB,EAAI+7B,EAAM7wC,EAAW8N,GACrB4mC,EAAezwC,EAAUwsB,OAE7B,GAAK+c,GAAY,IAAIyE,GAAUqB,EAAM,cAAelyC,EAAG0M,EAAIqkC,EAAQr9B,EAAE,GAAIA,EAAE,GAAI,EAAG,EAAG4/B,IAAe,WAClG,OAAuD,OAAlDhxC,GAAMwuC,QAAU9wC,EAAI8wC,EAAQngC,MAAM01B,EAAMC,MAC7C/R,EAAKv0B,EAAEiK,EAAIyJ,EAAE,IAAM,EACnB8gB,EAAKx0B,EAAEwwB,EAAI9c,EAAE,IAAM,GAAA,EAEpB,IAED,OAAO,SAASo/B,EAAQ/3C,GACtB,IAAYlJ,EAARiiC,EAAKpgB,EACT,OAAQ3Y,GACN,IAAK,QAASy3C,EAAS9lC,GAAMomC,EAASjhD,EAAIk/C,IAAU,MACpD,IAAK,aAAcyB,EAAS9lC,KAAOqkC,EACnC,IAAK,OAAQr9B,EAAI+7B,EAAM7wC,EAAW8N,GAAK7a,EAAIk/C,EAE7C3E,GAAY,IAAIyE,GAAUqB,EAAMn3C,EAAMiF,EAAG0M,EAAI7a,EAAG6hB,EAAE,GAAK6gB,EAAI7gB,EAAE,GAAK8gB,EAAI9gB,EAAE,GAAKogB,EAAG,GAAIpgB,EAAE,GAAKogB,EAAG,GAAIwf,GAAeA,EAAa3iC,MAAO2iC,EAAc,CAACv4C,EAAMsrC,EAAMC,GACtK,CACG,CA2BD,OAzBA4L,EAAK5rC,OAAS,SAAS4G,GACrB,OAAOiM,UAAU3lB,QAAU8S,EAAsB,mBAAN4G,EAAmBA,EAAI4J,KAAW5J,GAAIglC,GAAQ5rC,CAC7F,EAEE4rC,EAAKtzC,UAAY,SAASsO,GACxB,OAAOiM,UAAU3lB,QAAUoL,EAAyB,mBAANsO,EAAmBA,EAAI4J,GAAS5J,GAAIglC,GAAQtzC,CAC9F,EAEEszC,EAAKpB,QAAU,SAAS5jC,GACtB,OAAOiM,UAAU3lB,QAAUs9C,EAAuB,mBAAN5jC,EAAmBA,EAAI4J,GAAS5J,GAAIglC,GAAQpB,CAC5F,EAEEoB,EAAKK,UAAY,SAASrlC,GACxB,OAAOiM,UAAU3lB,QAAU++C,EAAyB,mBAANrlC,EAAmBA,EAAI4J,KAAW5J,GAAIglC,GAAQK,CAChG,EAEEL,EAAKhM,GAAK,WACR,IAAIzxC,EAAQoO,EAAUqjC,GAAGv1B,MAAM9N,EAAWsW,WAC1C,OAAO1kB,IAAUoO,EAAYqvC,EAAOz9C,CACxC,EAEEy9C,EAAKqB,cAAgB,SAASrmC,GAC5B,OAAOiM,UAAU3lB,QAAUi/C,GAAkBvlC,GAAKA,GAAKA,EAAGglC,GAAQ9wC,KAAKwhB,KAAK6vB,EAChF,EAESP,CACT,CCHgBA,GACTtzC,UAAUhM,KAAKg/C,YACf1L,GAAG,SAAS,KACXtzC,KAAK8+C,YAAAA,EACL9+C,KAAKg/C,WAAWljC,UAAUpP,IAAI,aAC9B1M,KAAK4gD,YAAc5gD,KAAK6B,MACxB7B,KAAK6gD,YAAY,IAElBvN,GAAG,QAAA,KACFtzC,KAAK6gD,YAENvN,IAAAA,GAAG,OAAO,KACTtzC,KAAK8+C,YAAAA,EACL9+C,KAAKg/C,WAAWljC,UAAUw7B,OAAO,aACjCt3C,KAAK6gD,aACD7gD,KAAK4gD,cAAgB5gD,KAAK6B,OAAO7B,KAAK8gD,iBAC1C9gD,KAAK4gD,YAAc5gD,KAAK6B,KAE5B7B,IAAAA,KAAKs/C,KAAK/E,GAAOv6C,KAAKg/C,aAEtBh/C,KAAK0hB,iBAAiB,WAAW,KAC3B1hB,KAAK8+C,YACP9+C,KAAKg/C,WAAWljC,UAAUpP,IAAI,QAGlC1M,IAAAA,KAAK0hB,iBAAiB,YAAY,KAChC1hB,KAAKg/C,WAAWljC,UAAUw7B,OAAO,QAAQ,IAE3Ct3C,KAAK0hB,iBAAiB,UAAW1hB,KAAK+gD,UAEvC,CAEU1nC,gCAAsB,MAAO,CAAC,MAAO,MAAO,QAAS,OAAQ,QAAS,SAAU,aAAc,aAAgB,CAEzHrB,yBAAyBmkC,EAAMlkC,EAAUC,GACnCikB,MAAMjkB,IAANikB,MAAmBjkB,IACX,OAARikC,IACFn8C,KAAKyO,KAAOyJ,EACZlY,KAAKsJ,aAAa,gBAAiBtJ,KAAKyO,MAE9B,OAAR0tC,IACFn8C,KAAKomB,KAAOlO,EACZlY,KAAKsJ,aAAa,gBAAiBtJ,KAAKomB,MAE9B,SAAR+1B,GACFn8C,KAAK60C,QAAQ38B,GAEH,UAARikC,IACFn8C,KAAKo/C,QAAUlnC,GAGL,QAARikC,GACEjkC,EAAW,IACblY,KAAKqwB,MAAQnY,GAGL,SAARikC,IACFn8C,KAAK6kC,MAAsB,KAAb3sB,GAAyBA,GAE1C,CAED6oC,UAAUrxC,GACR1P,KAAK4gD,YAAc5gD,KAAK6B,MACxB,IAAIipB,GAAAA,EACJ,OAAQpb,EAAMsxC,SACd,KAzGI,GA0GJ,KAvGI,GAwGFhhD,KAAK60C,OAAO70C,KAAK6B,MAAQ7B,KAAKqwB,MAC9BvF,GAAAA,EACA,MACF,KA5GK,GA6GL,KA9GE,GA+GA9qB,KAAK60C,OAAO70C,KAAK6B,MAAQ7B,KAAKqwB,MAC9BvF,GAAkB,EAClB,MACF,KA/GM,GAoHN,KAnHQ,GAoHN9qB,KAAK60C,OAAO70C,KAAK6B,MAAoB,GAAZ7B,KAAKqwB,MAC9BvF,GAAkB,EAClB,MACF,KArHI,GAsHF9qB,KAAK60C,OAAO70C,KAAKyO,KACjBqc,GAAkB,EAClB,MACF,KA1HG,GA2HD9qB,KAAK60C,OAAO70C,KAAKomB,KACjB0E,GAAkB,EAKhBA,IACF9qB,KAAKg/C,WAAWljC,UAAUpP,IAAI,SAC9BgD,EAAMsuC,iBACNtuC,EAAMob,kBACF9qB,KAAK4gD,cAAgB5gD,KAAK6B,OAAO7B,KAAK8gD,iBAE7C,CAEDG,mBAAmBxyC,EAAK2X,EAAKvkB,GAC3B,OAAO2M,KAAK4X,IAAI5X,KAAKC,IAAI2X,EAAKvkB,GAAQ4M,EACvC,CAEDyyC,cAAcr/C,EAAOwuB,GACnB,OAAO7hB,KAAK4c,MAAMvpB,EAAQwuB,GAAQA,CACnC,CAEDwwB,aACE,MAAMx1B,EAAOrrB,KAAKg/C,WAAW1zB,wBACvBjU,EAAI8pC,GAAa9pC,EACjBmU,EAAQH,EAAKG,MACnBxrB,KAAK60C,OAAO70C,KAAK4kC,MAAMoB,OAAO3uB,EAAImU,GACnC,CAEDqpB,OAAOhzC,GACL,IAAI2Z,EAAI3Z,EACU,QAAd7B,KAAKqwB,OACP7U,EAAIxb,KAAKkhD,cAAcr/C,EAAO7B,KAAKqwB,OAErC7U,EAAIxb,KAAKihD,mBAAmBjhD,KAAKyO,IAAKzO,KAAKomB,IAAK5K,GAC5Cxb,KAAK6+C,YACP7+C,KAAK++C,KAAKt0C,MAAM3B,KAAuB,IAAhB9I,KAAK4kC,MAAMppB,GAAW,IAC7Cxb,KAAKi/C,UAAUx0C,MAAM+gB,MAA2D,IAAnDxrB,KAAK4kC,MAAM5kC,KAAKyO,IAAMD,KAAK60B,IAAI7nB,EAAIxb,KAAKo/C,SAAiB,IACtFp/C,KAAKi/C,UAAUx0C,MAAM3B,KAA8C,IAAvC9I,KAAK4kC,MAAMp2B,KAAKC,IAAI+M,EAAGxb,KAAKo/C,SAAiB,KAEvEp/C,KAAK6B,QAAU2Z,IACjBxb,KAAK6B,MAAQ2Z,EACbxb,KAAKsJ,aAAa,gBAAiBtJ,KAAK6B,OACxC7B,KAAKohD,gBAER,CAGDN,iBACE,MAAMv3C,EAAI,IAAI83C,MAAM,UACpBrhD,KAAK8P,cAAcvG,EAAG,CAAA,EACvB,CAGD63C,gBACE,MAAM73C,EAAI,IAAI83C,MAAM,SACpBrhD,KAAK8P,cAAcvG,EAAG,CAAA,EACvB,CAED81C,cACE,MAAMiC,EAAiBthD,KAAKqF,KAAK4B,cAAc,UAC/C,IAAA,IAAIjH,KAAK6kC,MAAiB,CACxB,IAAI0c,EAAW,GAEbA,EADEvhD,KAAK6kC,MAAQ,EACJ7kC,KAAK4kC,MAAMC,MAAM7kC,KAAK6kC,OACV,QAAd7kC,KAAKqwB,KACHrwB,KAAK4kC,MAAMC,QE9Tf,SAASrvB,EAAO4a,EAAMC,GACnC7a,GAASA,EAAO4a,GAAQA,EAAMC,GAAQpxB,EAAIsnB,UAAU3lB,QAAU,GAAKwvB,EAAO5a,EAAOA,EAAQ,EAAG,GAAKvW,EAAI,EAAI,GAAKoxB,EAM9G,IAJA,IAAInoB,GAAK,EACLjJ,EAAoD,EAAhDuP,KAAK4X,IAAI,EAAG5X,KAAK+2B,MAAMnV,EAAO5a,GAAS6a,IAC3CrK,EAAQ,IAAIhiB,MAAM/E,KAEbiJ,EAAIjJ,GACX+mB,EAAM9d,GAAKsN,EAAQtN,EAAImoB,EAGzB,OAAOrK,CACT,CAZe,CFgUUhmB,KAAKyO,IAAKzO,KAAKomB,IAAM,KAAMpmB,KAAKqwB,MAEnDkxB,EAAShmC,SAAQlQ,IACf,MAAMm2C,EAAO37C,SAASC,cAAc,OACpC07C,EAAK1lC,UAAUpP,IAAI,QACnB80C,EAAK/2C,MAAM3B,KAAuB,IAAhB9I,KAAK4kC,MAAMv5B,GAAW,IACxCi2C,EAAe56C,YAAY86C,EAEnC,GAAA,MACMF,EAAe72C,MAAMzC,QAAU,MAElC,EGxUI,MCgBDwC,GAAI/E,EAAS,iBDhBW,u5CCkBvB,MAAMg8C,WAAsBj3C,GAAEG,eC4D9B,MAAM+2C,WAAwB/2C,4BAEjB,MAAO,kBAAqB,CAE1ChH,gBAAYA,GACd3D,KAAK+F,UAzCF,SAA0BpC,GAC/B,IAAI6V,EA7BS,sjBA+BwB,IAA1B7V,EAAYS,YACrBoV,GAAQ,+EAGJ7V,EAAYg+C,0BACdnoC,GAAQ,YAAY7V,EAAYg+C,+FAElCnoC,GAAQ,yEAC0D7V,EAAYS,UAAY,4DAI5F,MAAM5C,EAAUmC,EAAYnC,QAkB5B,YAAA,IAjBWA,GAA6C,YAAlBA,EAAQR,QAC5CwY,GAAQ,mNAEqK7V,EAAYS,2OAIlJ,IAA9BT,EAAYhC,gBACrB6X,GAAQ,qJAGsB7V,EAAYd,yBAAyBc,EAAY3C,oBAAoB2C,EAAYhB,oF/JhC5G,SAAsCgB,GAC3C,MAAO,YAAYA,EAAYX,sBACnBW,EAAYb,+BACba,EAAY3C,yBACV2C,EAAYnC,QAAQR,sBACvB2C,EAAYhB,8BACZgB,EAAY/B,mBACb+B,EAAYjC,SAEvB,CATO,C+JkCuDiC,kBAIrD6V,CACT,CAlCO,CAyC+B7V,EACnC,ECpFI,MCgBD6G,GAAI/E,EAAS,iBDhBW,+9CCkBvB,MAAMm8C,WAAsBp3C,GAAEG,eCkGrC3E,OAAO67C,QAAU,CAAEC,SAtEJ,EAsEcC,WArEV,WACjB,GAAI/7C,OAAO67C,QAAQC,SAAW,EAC5B,MAAM,IAAIl/C,MAAM,+CAIlB,GAAI,YAAaoD,QAAUA,OAAO67C,QAAQG,kBACxC,MAAM,IAAIp/C,MACR,4EAGFoD,OAAO67C,QAAQG,mBAAAA,EACfz8C,QAAQoL,MAAM,qDxKtCX,SAAsBxE,GAE3B,MAAM81C,EAAa,6BAEnB,IADuB91C,EAAI6c,eAAei5B,GACrB,CACnB,MAAMC,EAAW/1C,EAAIrG,cAAc,SACnCo8C,EAASpoC,GAAKmoC,EACdC,EAAS/5C,KAAO,WAChB,MAAMg6C,EAAah2C,EAAIjD,eAAeqJ,GACtC2vC,EAASx7C,YAAYy7C,GACrB,MAAMC,EAAiBj2C,EAAIX,KAAKvE,cAAc,UAC9CkF,EAAIX,KAAK3E,aAAaq7C,EAAUE,EACjC,CAEH,CAdO,CwK0CQv8C,UACbN,QAAQoL,MAAM,sDACdpL,QAAQoL,MAAM,kBACd3K,OAAO67C,QAAQC,UAAY,EAI3B,IAAK,MAAOO,EAAchvC,KAAazP,OAAO2L,QAAQQ,EAAWE,WACvC,mBAAboD,EACTxN,SAAS6b,iBAAiB2gC,EAAchvC,GAExC9N,QAAQC,MAAM,0DAGlBD,QAAQoL,MAAM,uDACdpL,QAAQoL,MAAM,kBACd3K,OAAO67C,QAAQC,UAAY,EAG3B,MAAMQ,EAAa,CACjB3uC,EAAUC,EAAUE,EAAS4D,EAAcc,EAAQC,EAAMgB,EAAc+P,EACvEM,EAAUK,GAAcppB,EAAawpB,GAAUuB,GAAOphB,EAAOqhB,GAAYC,GAAKO,GAC9EqyB,GAAQnwB,IAGJ8zB,EAAoB,CAACd,GAAeC,GAAiBE,IAE3D,GAAI57C,OAAO67C,QAAQC,SAAW,EAC5B,MAAM,IAAIl/C,MAAM,qDAElB,MAAM4/C,EAAgBF,EAAWjP,OAAOkP,GACxC,IAAK,MAAME,KAAaD,EACtBj9C,QAAQoL,MAAM,2CAA6C8xC,EAAUt8C,IACrE4S,eAAe4X,OAAO8xB,EAAUt8C,GAAIs8C,GAGtCl9C,QAAQoL,MACN,sEAEFpL,QAAQoL,MAAM,kBACd3K,OAAO67C,QAAQC,UAAY,EAIvBpzC,KACFqB,EAAWE,UAAUmC,mBAGvB7M,QAAQoL,MAAM,yDACd3K,OAAO67C,QAAQG,mBAAAA,EACfh8C,OAAO67C,QAAQa,mBAAoB,CACrC,EAEyCV,mBAAAA,GAGrC9uC,EAAUyvC,8BACZp9C,QAAQoL,MAAM,sCACdpL,QAAQoL,MAAM,kBACd3K,OAAO67C,QAAQC,UAAY,EAC3B97C,OAAO67C,QAAQE,eAEfx8C,QAAQoL,MAAM,sDACduC,EAAU0vC,KAAK58C,OAAO67C,QAAQE"}